import{b as B,d as R,e as _,f as G}from"./chunk-7YFTO7MG.js";import{a}from"./chunk-JLMH4Y5A.js";import{b as U}from"./chunk-4HWMNETW.js";import{c as $}from"./chunk-OU45453G.js";import{k as E}from"./chunk-MIMT4L35.js";import{$b as P,$c as V,Bc as F,Fa as g,Ga as d,Jb as p,Ob as m,Sa as S,Tb as k,Yb as l,Zb as o,_b as y,a as T,ac as A,cc as f,hc as h,jc as u,ma as I,nc as D,oc as j,pc as z,qb as r,ra as x,u as b,ua as w,uc as C,vc as v}from"./chunk-Y7SRRAOL.js";var ee=(()=>{class t{constructor(e,i){this.httpClient=e,this.authService=i}getTimelineForUpcomingJourniversaries(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{upcoming:e}})}getTimelineForJourney(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{IDs:e}})}getTimelineForCity(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{city:e}})}getTimelineForCountry(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{country:e}})}getTimelineForYear(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{year:e}})}getTimelineForCategory(e){let i=this.authService.getCurrentUserContext();return this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{category:e}})}getTimelineForToday(){let e=this.authService.getCurrentUserContext();return e.isAuthenticated?this.httpClient.get(a.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${e.accessToken}`},params:{today:!0}}):b()}static{this.\u0275fac=function(i){return new(i||t)(x($),x(U))}}static{this.\u0275prov=I({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Q(t,s){if(t&1){let e=f();l(0,"button",6),h("click",function(){g(e);let n=u(2);return d(n.togglePlayer())}),y(1,"i",7),o()}}function q(t,s){if(t&1){let e=f();l(0,"button",8),h("click",function(){g(e);let n=u(2);return d(n.togglePlayer())}),y(1,"i",9),o()}}function J(t,s){if(t&1&&(l(0,"div",2)(1,"p"),y(2,"span",3),p(3,Q,2,0,"button",4)(4,q,2,0,"button",5),o()()),t&2){let e,i=u();r(2),m("textContent",(e=i.timelineData())==null?null:e.heading),r(),m("ngIf",i.isPlayerRunning),r(),m("ngIf",!i.isPlayerRunning)}}function N(t,s){if(t&1&&(l(0,"div",15)(1,"span",16),C(2),o()()),t&2){let e=u().$implicit;r(2),v(e==null||e.args==null?null:e.args.title)}}function H(t,s){if(t&1&&(P(0),p(1,N,3,1,"div",12),l(2,"div",13)(3,"p",14),C(4),o()(),A()),t&2){let e=s.$implicit;r(),m("ngIf",e==null||e.args==null?null:e.args.title),r(3),v(e==null||e.args==null?null:e.args.caption)}}function O(t,s){if(t&1){let e=f();l(0,"gallery",10),h("itemClick",function(){g(e);let n=u();return d(n.togglePlayer())}),p(1,H,5,2,"ng-container",11),o()}if(t&2){let e=u();m("items",e.images())("thumb",!1)("imageSize","contain")("dots",!0)("playerInterval",3e3)("loop",!0)("slidingDuration",500)("autoPlay",!0)}}function Y(t,s){t&1&&(l(0,"div")(1,"p",17),C(2,"No events found for next 7 days."),o()())}function K(t){return new B({src:t.src,args:T({caption:t.caption,title:t.title},t.args)})}var se=(()=>{class t{constructor(){this.timelineData=S.required({alias:"data"}),this.images=V(()=>this.timelineData()?.images?.map(K)??[]),this.isPlayerRunning=!0}togglePlayer(){this.isPlayerRunning?(this.gallery.stop(),this.isPlayerRunning=!1):(this.gallery.next(),this.gallery.play(),this.isPlayerRunning=!0)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=w({type:t,selectors:[["app-timeline"]],viewQuery:function(i,n){if(i&1&&D(_,5),i&2){let c;j(c=z())&&(n.gallery=c.first)}},inputs:{timelineData:[1,"data","timelineData"]},standalone:!0,features:[F],decls:3,vars:2,consts:[["class","fs-5",4,"ngIf"],[1,"gallery",3,"items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[1,"fs-5"],[1,"gradient-text","me-2",3,"textContent"],["class","btn btn-sm btn-outline-primary","title","Pause",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-primary","title","Play",3,"click",4,"ngIf"],["title","Pause",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pause-circle"],["title","Play",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-play-circle"],[1,"gallery",3,"itemClick","items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[4,"galleryImageDef"],["class","text-start d-flex flex-row w-100",4,"ngIf"],[1,"h-100","w-100","text-end","d-flex","flex-column","justify-content-end","mb-2","fs-5"],[1,"text-center","bg-light","bg-opacity-25"],[1,"text-start","d-flex","flex-row","w-100"],[1,"text-light","me-2","fs-5","bg-dark","bg-opacity-50","m-2","border","border-2","border-light","ps-2","pe-2","rounded-2"],[1,"gradient-text"]],template:function(i,n){if(i&1&&p(0,J,5,3,"div",0)(1,O,2,8,"gallery",1)(2,Y,3,0,"div"),i&2){let c;m("ngIf",(c=n.timelineData())==null?null:c.heading),r(),k(n.images()&&n.images().length>0?1:2)}},dependencies:[G,_,R,E],styles:[".gallery[_ngcontent-%COMP%]{max-width:75vw}"]})}}return t})();export{ee as a,se as b};
