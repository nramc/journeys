"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[76],{5507:(d,p,a)=>{a.d(p,{k:()=>l});var u=a(3391),t=a(4438);function e(o,c){if(1&o){const r=t.RV6();t.j41(0,"ngb-alert",2),t.bIt("closed",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.successMessage="")}),t.nrm(1,"i",3),t.EFF(2),t.k0s()}if(2&o){const r=t.XpG();t.Y8G("dismissible",!1)("animation",!0),t.R7$(2),t.SpI(" ",r._successMessage," ")}}function g(o,c){if(1&o){const r=t.RV6();t.j41(0,"ngb-alert",4),t.bIt("closed",function(){t.eBV(r);const n=t.XpG();return t.Njj(n.errorMessage="")}),t.nrm(1,"i",5),t.EFF(2),t.k0s()}if(2&o){const r=t.XpG();t.Y8G("dismissible",!1)("animation",!0),t.R7$(2),t.SpI(" ",r._errorMessage," ")}}let l=(()=>{class o{constructor(){this._successMessage="",this._errorMessage=""}set successMessage(r){this._successMessage=r,this._errorMessage=""}set errorMessage(r){this._errorMessage=r,this._successMessage=""}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=t.VBU({type:o,selectors:[["app-feedback-message"]],inputs:{successMessage:"successMessage",errorMessage:"errorMessage"},standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["type","success",3,"dismissible","animation"],["type","danger",3,"dismissible","animation"],["type","success",3,"closed","dismissible","animation"],[1,"bi","bi-check-circle-fill","pe-none","me-2"],["type","danger",3,"closed","dismissible","animation"],[1,"bi","bi-dash-circle","pe-none","me-2"]],template:function(s,n){1&s&&t.DNE(0,e,3,3,"ngb-alert",0)(1,g,3,3,"ngb-alert",1),2&s&&(t.vxM(0,n._successMessage?0:-1),t.R7$(),t.vxM(1,n._errorMessage?1:-1))},dependencies:[u.Cv]})}return o})()},4016:(d,p,a)=>{a.d(p,{y:()=>g});var u=a(177),t=a(4438);function e(l,o){if(1&l&&t.nrm(0,"h6",4),2&l){const c=t.XpG();t.Y8G("innerHTML",null==c.pageInfo?null:c.pageInfo.description,t.npT)}}let g=(()=>{class l{static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275cmp=t.VBU({type:l,selectors:[["app-page-header"]],inputs:{pageInfo:"pageInfo"},standalone:!0,features:[t.aNF],decls:4,vars:2,consts:[[1,"page-title-container","row","m-3","pb-3","border-bottom","border-primary-subtle","border-3"],[1,"col"],[1,"gradient-text","page-title",3,"innerHTML"],["class","text-primary opacity-75 page-description",3,"innerHTML",4,"ngIf"],[1,"text-primary","opacity-75","page-description",3,"innerHTML"]],template:function(r,s){1&r&&(t.j41(0,"div",0)(1,"div",1),t.nrm(2,"h3",2),t.DNE(3,e,1,1,"h6",3),t.k0s()()),2&r&&(t.R7$(2),t.Y8G("innerHTML",null==s.pageInfo?null:s.pageInfo.title,t.npT),t.R7$(),t.Y8G("ngIf",null==s.pageInfo?null:s.pageInfo.description))},dependencies:[u.bT],encapsulation:2})}return l})()},5608:(d,p,a)=>{a.d(p,{D:()=>s});var u=a(107),t=a(177),e=a(4438);function g(n,h){if(1&n){const i=e.RV6();e.j41(0,"div",2)(1,"p"),e.nrm(2,"span",3),e.j41(3,"button",4),e.bIt("click",function(){e.eBV(i);const m=e.XpG();return e.Njj(m.togglePlayer())}),e.nrm(4,"i",5),e.k0s()()()}if(2&n){const i=e.XpG();e.R7$(2),e.Y8G("textContent",null==i.timelineData?null:i.timelineData.heading)}}function l(n,h){if(1&n&&(e.j41(0,"div",11)(1,"span",12),e.EFF(2),e.k0s()()),2&n){const i=e.XpG().$implicit;e.R7$(2),e.JRh(null==i||null==i.args?null:i.args.title)}}function o(n,h){if(1&n&&(e.qex(0),e.DNE(1,l,3,1,"div",8),e.j41(2,"div",9)(3,"p",10),e.EFF(4),e.k0s()(),e.bVm()),2&n){const i=h.$implicit;e.R7$(),e.Y8G("ngIf",null==i||null==i.args?null:i.args.title),e.R7$(3),e.JRh(null==i||null==i.args?null:i.args.caption)}}function c(n,h){if(1&n){const i=e.RV6();e.j41(0,"gallery",6),e.bIt("itemClick",function(){e.eBV(i);const m=e.XpG();return e.Njj(m.togglePlayer())}),e.DNE(1,o,5,2,"ng-container",7),e.k0s()}if(2&n){const i=e.XpG();e.Y8G("items",i.images)("thumb",!1)("imageSize","contain")("dots",!0)("playerInterval",3e3)("loop",!0)("slidingDuration",500)("autoPlay",!0)}}function r(n,h){1&n&&(e.j41(0,"div")(1,"p",13),e.EFF(2,"No events found for next 7 days."),e.k0s()())}let s=(()=>{class n{constructor(){this.images=[],this.isPlayerRunning=!0}set setImageData(i){this.timelineData=i,this.images=this.getImageItems(i)}getImageItems(i){return i&&i.images?.length>0?i.images.map(_=>new u.p2({src:_.src,args:{caption:_.caption,title:_.title,..._.args}})):[]}togglePlayer(){this.isPlayerRunning?(this.gallery.stop(),this.isPlayerRunning=!1):(this.gallery.next(),this.gallery.play(),this.isPlayerRunning=!0)}static#e=this.\u0275fac=function(_){return new(_||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-timeline"]],viewQuery:function(_,m){if(1&_&&e.GBs(u.A9,5),2&_){let y;e.mGM(y=e.lsd())&&(m.gallery=y.first)}},inputs:{setImageData:[e.Mj6.None,"data","setImageData"]},standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["class","fs-5",4,"ngIf"],[1,"gallery",3,"items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[1,"fs-5"],[1,"gradient-text","me-2",3,"textContent"],["title","Toggle Timeline Player",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-play-circle"],[1,"gallery",3,"itemClick","items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[4,"galleryImageDef"],["class","text-start d-flex flex-row w-100",4,"ngIf"],[1,"h-100","w-100","text-end","d-flex","flex-column","justify-content-end","mb-2","fs-5"],[1,"text-center","bg-light","bg-opacity-25"],[1,"text-start","d-flex","flex-row","w-100"],[1,"text-light","me-2","fs-5","bg-dark","bg-opacity-50","m-2","border","border-2","border-light","ps-2","pe-2","rounded-2"],[1,"gradient-text"]],template:function(_,m){1&_&&e.DNE(0,g,5,1,"div",0)(1,c,2,8,"gallery",1)(2,r,3,0),2&_&&(e.Y8G("ngIf",null==m.timelineData?null:m.timelineData.heading),e.R7$(),e.vxM(1,m.images&&m.images.length>0?1:2))},dependencies:[u.lg,u.A9,u.t8,t.bT],styles:[".gallery[_ngcontent-%COMP%]{max-width:75vw}"]})}return n})()},777:(d,p,a)=>{a.d(p,{BR:()=>c,Fk:()=>o,L_:()=>t,Vn:()=>r,bV:()=>l,fX:()=>u,oy:()=>g});const u="https://res.cloudinary.com/journeytogether/image/upload/v1712604194/journey/readonly/aeqhy3zwrwko7ba2rinr.jpg";class t{constructor(n="",h="",i="",_="",m="",y="",f="",C="",T=[],v=u,M="default",D=void 0,E=new e,b=!1,x=[]){this.id=n,this.name=h,this.title=i,this.description=_,this.city=m,this.country=y,this.journeyDate=f,this.category=C,this.tags=T,this.thumbnail=v,this.icon=M,this.location=D,this.extendedDetails=E,this.isPublished=b,this.visibilities=x}}class e{constructor(n=new g(void 0),h=new l,i=new c){this.geoDetails=n,this.imagesDetails=h,this.videosDetails=i}}class g{constructor(n){this.geoJson=n}}class l{constructor(n=[]){this.images=n}}class o{constructor(n,h,i="",_=!1,m=!1){this.url=n,this.assetId=h,this.title=i,this.isFavorite=_,this.isThumbnail=m}}class c{constructor(n=[]){this.videos=n}}class r{constructor(n){this.videoId=n}}},935:(d,p,a)=>{a.d(p,{k:()=>u});class u{constructor(e="",g="",l="",o="",c=""){this.text=e,this.city=g,this.country=l,this.category=o,this.year=c}}},1840:(d,p,a)=>{a.d(p,{Y:()=>l});var u=a(2525),t=a(4438),e=a(1626),g=a(4486);let l=(()=>{class o{constructor(r,s){this.httpClient=r,this.authService=s}getAvailableCategories(r){let s=this.authService.getCurrentUserContext();return this.httpClient.get(u.c.journeyApi+"/categories",{params:{text:r},headers:{"Content-Type":"application/vnd.journey.api.basic.v1+json",Authorization:`Bearer ${s.accessToken}`}})}static#e=this.\u0275fac=function(s){return new(s||o)(t.KVO(e.Qq),t.KVO(g.u))};static#t=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},7508:(d,p,a)=>{a.d(p,{h:()=>o});var u=a(7673),t=a(2525),e=a(4438),g=a(1626),l=a(4486);let o=(()=>{class c{constructor(s,n){this.httpClient=s,this.authService=n}getTimelineForUpcomingEvents(){let s=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${s.accessToken}`},params:{upcoming:"true"}})}getTimelineForJourney(s){let n=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${n.accessToken}`},params:{IDs:s}})}getTimelineForCity(s){let n=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${n.accessToken}`},params:{city:s}})}getTimelineForCountry(s){let n=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${n.accessToken}`},params:{country:s}})}getTimelineForYear(s){let n=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${n.accessToken}`},params:{year:s}})}getTimelineForCategory(s){let n=this.authService.getCurrentUserContext();return this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${n.accessToken}`},params:{category:s}})}getTimelineForToday(){let s=this.authService.getCurrentUserContext();return s.isAuthenticated?(console.log("authenticated..!"),this.httpClient.get(t.c.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${s.accessToken}`},params:{today:!0}})):(console.log("not authenticated..!"),(0,u.of)())}static#e=this.\u0275fac=function(n){return new(n||c)(e.KVO(g.Qq),e.KVO(l.u))};static#t=this.\u0275prov=e.jDH({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()}}]);