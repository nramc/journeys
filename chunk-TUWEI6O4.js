import"./chunk-MS4AQ6UA.js";import{a as xe,b as we}from"./chunk-GVRCQZ3X.js";import{a as Rt,b as Lt,c as Ot,d as Wt,e as re,g as ae,h as Bt}from"./chunk-ZIVRWNYV.js";import"./chunk-5SDFGET5.js";import{a as qt,b as Ut}from"./chunk-UVY6MALJ.js";import"./chunk-CX7LD5NK.js";import"./chunk-BK7NZWID.js";import{a as zt}from"./chunk-DICUI5OX.js";import{a as It,b as Dt,c as kt,d as Tt}from"./chunk-2EAUP6FH.js";import"./chunk-O2TARKT6.js";import{c as Ce}from"./chunk-ZU72O3LN.js";import"./chunk-7KANQYEK.js";import"./chunk-4SDQAWL4.js";import{a as At}from"./chunk-NW5WIV2B.js";import"./chunk-F5X5MWHG.js";import{a as ye}from"./chunk-VFWG2LQS.js";import"./chunk-ZUEX2YVV.js";import"./chunk-TSNFXHHX.js";import{a as bt}from"./chunk-HZBEWEN4.js";import{b as Pt}from"./chunk-V664BTSD.js";import{a as Jt,b as Ne,c as jt,d as Pe,e as Re,f as me,g as Le,h as Gt,i as W}from"./chunk-5IR5W656.js";import{a as Nt}from"./chunk-KIU2PYRH.js";import{a as $}from"./chunk-RN6ALRD2.js";import{b as X,c as U}from"./chunk-ZB3MRI6J.js";import{a as A,b as ne,c as ve,f as B,g as q}from"./chunk-75SQKMGR.js";import"./chunk-YQLHHZZY.js";import"./chunk-PJDYHRTA.js";import"./chunk-KH7BRNI5.js";import"./chunk-CKO7ZF4O.js";import"./chunk-TUAD65OT.js";import{a as yt,b as te,g as Z,h as P,i as R,j as K,k as L,l as vt,n as Ct,o as xt,p as ie,r as wt,s as Et,u as J,v as Mt}from"./chunk-AEZFIZRL.js";import{a as oe}from"./chunk-KR4OTF54.js";import{b as gt}from"./chunk-7XLSB2U3.js";import{k as Ft}from"./chunk-BA4F4IGS.js";import"./chunk-3GWABDWC.js";import{a as V,b as F}from"./chunk-APFWKF4N.js";import{c as ft,d as ht,e as St,g as O,h as N,i as Vt,j}from"./chunk-V5KZ4TFP.js";import{I as Fe,e as ut,m as pt,o as _t,x as Ge}from"./chunk-Z5EQZODQ.js";import{a as mt,c as be,d as ct}from"./chunk-5YR7RF5U.js";import"./chunk-23FG2HRM.js";import{x as st}from"./chunk-G2RP32WO.js";import{$c as dt,Ac as le,Cb as H,Dc as l,Ec as fe,Fa as S,Fb as ke,Fc as nt,Gb as Ze,Hb as Ke,Hc as C,Ic as x,J as Be,Jc as w,Kc as rt,Mc as at,Na as De,Rb as Te,Sb as h,Tb as b,Ub as pe,Vb as Q,Wb as Y,Xb as p,Yb as n,Zb as a,Zc as se,_b as G,a as k,b as T,bd as he,dd as lt,fd as D,gc as v,gd as Je,hb as ue,ja as qe,la as Ue,lb as s,lc as _,ld as z,md as je,na as Ie,oc as u,pa as y,pb as He,pc as Xe,qc as $e,rc as et,sc as Ve,tc as _e,uc as ge,va as m,wa as c,wc as tt,xb as I,xc as it,yb as Qe,yc as E,za as ze,zb as Ye,zc as ot}from"./chunk-JDJNICZL.js";function ii(o,d){o&1&&(n(0,"mat-error"),l(1,"Longitude is required."),a())}function oi(o,d){o&1&&(n(0,"mat-error"),l(1," Longitude must be between -180.0 and 180.0. "),a())}function ni(o,d){o&1&&(n(0,"mat-error"),l(1,"Latitude is required."),a())}function ri(o,d){o&1&&(n(0,"mat-error"),l(1," Latitude must be between -90.0 and 90.0. "),a())}var Ht=(()=>{let d=class d{constructor(){this.location=D(),this._location=S({type:"Point",coordinates:[]}),this.disabled=D(!1),this.location$=gt(this.location).pipe(Be(t=>t?.coordinates!=null&&t.coordinates.length==2)),this.location$.subscribe(t=>{console.log(t),this._location.update(e=>T(k({},e),{coordinates:t.coordinates}))})}pasteClipboardCoordinates(){navigator.clipboard.readText().then(t=>{if(console.debug("Value copied from clipboard:",t),t&&t.split(",").length==2){let e=t.split(",");this._location.update(r=>T(k({},r),{coordinates:[Number(e[0]),Number(e[1])]})),this.fireChangeEvent()}})}pasteClipboardGoogleCoordinates(){navigator.clipboard.readText().then(t=>{if(console.debug("Value copied from clipboard:",t),t&&t.split(",").length==2){let e=t.split(",");this._location.update(r=>T(k({},r),{coordinates:[Number(e[1]),Number(e[0])]})),this.fireChangeEvent()}})}fireChangeEvent(){this._location().coordinates.filter(t=>t!==null).length==2&&(this.location.update(t=>({type:"Point",coordinates:this._location().coordinates})),console.log("fireChangeEvent:",this.location()))}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-geo-location"]],inputs:{location:[1,"location"],disabled:[1,"disabled"]},outputs:{location:"locationChange",disabled:"disabledChange"},decls:24,vars:10,consts:[["longitude","ngModel"],["latitude","ngModel"],["pasteMenu","matMenu"],[1,"flex","items-center","gap-2","mt-2"],["appearance","outline",1,"w-1/2"],["matInput","","type","number","placeholder","Longitude","aria-label","Longitude","required","","min","-180","max","180",3,"ngModelChange","change","ngModel","readOnly"],["matInput","","type","number","placeholder","Latitude","aria-label","Latitude","required","","min","-90","max","90",3,"ngModelChange","change","ngModel","readOnly"],["mat-icon-button","","matTooltip","Paste Options","type","button",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click"]],template:function(e,r){if(e&1){let f=v();n(0,"div",3)(1,"mat-form-field",4)(2,"mat-label"),l(3,"Longitude"),a(),n(4,"input",5,0),w("ngModelChange",function(M){return m(f),x(r._location().coordinates[0],M)||(r._location().coordinates[0]=M),c(M)}),_("change",function(){return m(f),c(r.fireChangeEvent())}),a(),h(6,ii,2,0,"mat-error"),h(7,oi,2,0,"mat-error"),a(),n(8,"mat-form-field",4)(9,"mat-label"),l(10,"Latitude"),a(),n(11,"input",6,1),w("ngModelChange",function(M){return m(f),x(r._location().coordinates[1],M)||(r._location().coordinates[1]=M),c(M)}),_("change",function(){return m(f),c(r.fireChangeEvent())}),a(),h(13,ni,2,0,"mat-error"),h(14,ri,2,0,"mat-error"),a(),n(15,"button",7)(16,"mat-icon"),l(17,"content_paste_go"),a()(),n(18,"mat-menu",null,2)(20,"button",8),_("click",function(){return m(f),c(r.pasteClipboardCoordinates())}),l(21," Clipboard "),a(),n(22,"button",8),_("click",function(){return m(f),c(r.pasteClipboardGoogleCoordinates())}),l(23," Clipboard (Copied from Google Map) "),a()()()}if(e&2){let f=E(5),g=E(12),M=E(19);s(4),C("ngModel",r._location().coordinates[0]),p("readOnly",r.disabled()),s(2),b(f.errors!=null&&f.errors.required?6:-1),s(),b(f.errors!=null&&f.errors.min||f.errors!=null&&f.errors.max?7:-1),s(4),C("ngModel",r._location().coordinates[1]),p("readOnly",r.disabled()),s(2),b(g.errors!=null&&g.errors.required?13:-1),s(),b(g.errors!=null&&g.errors.min||g.errors!=null&&g.errors.max?14:-1),s(),p("matMenuTriggerFor",M)("disabled",r.disabled())}},dependencies:[J,te,vt,Z,ie,xt,Ct,K,ye,V,q,B,A,ne,U,X,Tt,Dt,It,kt,F,j,O],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0});let o=d;return o})();function ai(o,d){o&1&&(n(0,"p",7)(1,"span",11),l(2,"check_circle"),a(),l(3," GeoJSON valid "),a())}function di(o,d){o&1&&(n(0,"p",8)(1,"span",11),l(2,"cancel"),a(),l(3," GeoJSON is not valid "),a())}var Qt=(()=>{let d=class d{constructor(){this.geoJson=D(void 0),this.geoJsonString=se(()=>JSON.stringify(this.geoJson(),null,2)),this.isGeoJsonValid=S(!0)}onGeoJsonChange(t){let r=t.target.value;try{let f=JSON.parse(r);f.type==="FeatureCollection"&&(this.geoJson.set(f),this.isGeoJsonValid.set(!0))}catch(f){this.isGeoJsonValid.set(!1),console.error("Invalid GeoJSON:",f)}}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-geo-json"]],inputs:{geoJson:[1,"geoJson"]},outputs:{geoJson:"geoJsonChange"},decls:25,vars:3,consts:[["rawGeoJsonDialog",""],["type","button","mat-raised-button","",1,"w-full",3,"click"],[1,"w-[50%]","h-[75vh]","p-4","rounded-md","shadow-lg","border"],["type","button","mat-icon-button","",1,"float-right",3,"click"],[1,"flex","flex-col","h-full","gap-4"],[1,"text-xl","font-semibold","text-gradient","border-b-2","border-primary"],["placeholder","Paste GeoJSON data here",1,"resize-none","border","rounded-md","p-2","w-full","h-full","font-mono",3,"input","value"],[1,"text-green-600","flex","items-center","gap-2"],[1,"text-red-600","flex","items-center","gap-2"],["href","https://geojson.io/","target","_blank",1,"text-primary","flex","items-center","gap-1"],[1,"underline"],[1,"material-icons"]],template:function(e,r){if(e&1){let f=v();n(0,"section")(1,"button",1),_("click",function(){m(f);let M=E(4);return c(M.showModal())}),l(2," Raw GeoJSON Data "),a(),n(3,"dialog",2,0)(5,"button",3),_("click",function(){m(f);let M=E(4);return c(M.close())}),n(6,"mat-icon"),l(7,"close"),a()(),n(8,"div",4)(9,"h4",5),l(10,"Geo JSON"),a(),n(11,"textarea",6),_("input",function(M){return m(f),c(r.onGeoJsonChange(M))}),l(12,"      "),a(),n(13,"button",1),_("click",function(){m(f);let M=E(4);return c(M.close())}),l(14," Save "),a(),h(15,ai,4,0,"p",7),h(16,di,4,0,"p",8),n(17,"div")(18,"p"),l(19," Tip: "),n(20,"a",9)(21,"span",10),l(22,"Create GeoJSON"),a(),n(23,"mat-icon"),l(24,"open_in_new"),a()()()()()()()}e&2&&(s(11),p("value",r.geoJsonString()),s(4),b(r.isGeoJsonValid()?15:-1),s(),b(r.isGeoJsonValid()?-1:16))},dependencies:[J,V,j,N,O,U],encapsulation:2});let o=d;return o})();var li=["input"],si=["formField"],mi=["*"],Me=class{source;value;constructor(d,i){this.source=d,this.value=i}},ci={provide:yt,useExisting:qe(()=>We),multi:!0},Yt=new Ie("MatRadioGroup"),ui=new Ie("mat-radio-default-options",{providedIn:"root",factory:pi});function pi(){return{color:"accent",disabledInteractive:!1}}var We=(()=>{class o{_changeDetector=y(Je);_value=null;_name=y(Ge).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new ke;_radios;color;get name(){return this._name}set name(i){this._name=i,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(i){this._labelPosition=i==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(i){this._value!==i&&(this._value=i,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(i){this._selected=i,this.value=i?i.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._markRadiosForCheck()}get required(){return this._required}set required(i){this._required=i,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(i){this._disabledInteractive=i,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(i=>i===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(i=>{i.name=this.name,i._markForCheck()})}_updateSelectedRadioFromValue(){let i=this._selected!==null&&this._selected.value===this._value;this._radios&&!i&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Me(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(i=>i._markForCheck())}writeValue(i){this.value=i,this._changeDetector.markForCheck()}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this.onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetector.markForCheck()}static \u0275fac=function(t){return new(t||o)};static \u0275dir=Ye({type:o,selectors:[["mat-radio-group"]],contentQueries:function(t,e,r){if(t&1&&et(r,Se,5),t&2){let f;_e(f=ge())&&(e._radios=f)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",z],required:[2,"required","required",z],disabledInteractive:[2,"disabledInteractive","disabledInteractive",z]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[at([ci,{provide:Yt,useExisting:o}])]})}return o})(),Se=(()=>{class o{_elementRef=y(De);_changeDetector=y(Je);_focusMonitor=y(pt);_radioDispatcher=y(bt);_defaultOptions=y(ui,{optional:!0});_ngZone=y(Ze);_renderer=y(He);_uniqueId=y(Ge).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(i){this._checked!==i&&(this._checked=i,i&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!i&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),i&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(i){this._value!==i&&(this._value=i,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===i),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(i){this._labelPosition=i}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(i){this._setDisabled(i)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(i){i!==this._required&&this._changeDetector.markForCheck(),this._required=i}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(i){this._color=i}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(i){this._disabledInteractive=i}_disabledInteractive;change=new ke;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=ut();_injector=y(ze);constructor(){y(_t).load(ht);let i=y(Yt,{optional:!0}),t=y(new dt("tabindex"),{optional:!0});this.radioGroup=i,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,t&&(this.tabIndex=je(t,0))}focus(i,t){t?this._focusMonitor.focusVia(this._inputElement,t,i):this._inputElement.nativeElement.focus(i)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((i,t)=>{i!==this.id&&t===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{!i&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Me(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(i){if(i.stopPropagation(),!this.checked&&!this.disabled){let t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(i){this._onInputInteraction(i),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(i){this._disabled!==i&&(this._disabled=i,this._changeDetector.markForCheck())}_onInputClick=i=>{this.disabled&&this.disabledInteractive&&i.preventDefault()};_updateTabIndex(){let i=this.radioGroup,t;if(!i||!i.selected||this.disabled?t=this.tabIndex:t=i.selected===this?this.tabIndex:-1,t!==this._previousTabIndex){let e=this._inputElement?.nativeElement;e&&(e.setAttribute("tabindex",t+""),this._previousTabIndex=t,Ke(()=>{queueMicrotask(()=>{i&&i.selected&&i.selected!==this&&document.activeElement===e&&(i.selected?._inputElement.nativeElement.focus(),document.activeElement===e&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=I({type:o,selectors:[["mat-radio-button"]],viewQuery:function(t,e){if(t&1&&(Ve(li,5),Ve(si,7,De)),t&2){let r;_e(r=ge())&&(e._inputElement=r.first),_e(r=ge())&&(e._rippleTrigger=r.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(t,e){t&1&&_("focus",function(){return e._inputElement.nativeElement.focus()}),t&2&&(Te("id",e.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),le("mat-primary",e.color==="primary")("mat-accent",e.color==="accent")("mat-warn",e.color==="warn")("mat-mdc-radio-checked",e.checked)("mat-mdc-radio-disabled",e.disabled)("mat-mdc-radio-disabled-interactive",e.disabledInteractive)("_mat-animation-noopable",e._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",z],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?0:je(i)],checked:[2,"checked","checked",z],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",z],required:[2,"required","required",z],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",z]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:mi,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(t,e){if(t&1){let r=v();Xe(),n(0,"div",2,0)(2,"div",3)(3,"div",4),_("click",function(g){return m(r),c(e._onTouchTargetClick(g))}),a(),n(4,"input",5,1),_("change",function(g){return m(r),c(e._onInputInteraction(g))}),a(),n(6,"div",6),G(7,"div",7)(8,"div",8),a(),n(9,"div",9),G(10,"div",10),a()(),n(11,"label",11),$e(12),a()()}t&2&&(p("labelPosition",e.labelPosition),s(2),le("mdc-radio--disabled",e.disabled),s(2),p("id",e.inputId)("checked",e.checked)("disabled",e.disabled&&!e.disabledInteractive)("required",e.required),Te("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby)("aria-disabled",e.disabled&&e.disabledInteractive?"true":null),s(5),p("matRippleTrigger",e._rippleTrigger.nativeElement)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0),s(2),p("for",e.inputId))},dependencies:[ft,At],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return o})(),Zt=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=Qe({type:o});static \u0275inj=Ue({imports:[Fe,St,Se,Fe]})}return o})();function fi(o,d){o&1&&(n(0,"div"),l(1,"Title is required."),a())}function hi(o,d){o&1&&(n(0,"div"),l(1,"Title must be at least 10 characters long."),a())}function bi(o,d){o&1&&(n(0,"div"),l(1,"Title must be at most 100 characters long."),a())}function yi(o,d){o&1&&(n(0,"div"),l(1,"City is required."),a())}function vi(o,d){o&1&&(n(0,"div"),l(1,"City must be at least 3 characters long."),a())}function Ci(o,d){o&1&&(n(0,"div"),l(1,"City must be at most 50 characters long."),a())}function xi(o,d){o&1&&(n(0,"div"),l(1,"Country is required."),a())}function wi(o,d){o&1&&(n(0,"div"),l(1,"Country must be at least 3 characters long."),a())}function Ei(o,d){o&1&&(n(0,"div"),l(1,"Country must be at most 50 characters long."),a())}function Mi(o,d){if(o&1&&(n(0,"mat-option",18),l(1),a()),o&2){let i=d.$implicit;p("value",i),s(),fe(i)}}function Si(o,d){o&1&&(n(0,"div"),l(1,"Category is required."),a())}function Ii(o,d){if(o&1){let i=v();n(0,"form",5,0),_("ngSubmit",function(){m(i);let e=E(1),r=u();return c(r.save(e))}),n(2,"div",6)(3,"div",7)(4,"app-world-map",8),_("location",function(e){m(i);let r=u();return c(r.addGeoLocation(e))}),a()(),n(5,"div",9)(6,"div")(7,"app-edit-geo-location",10),w("locationChange",function(e){m(i);let r=u();return x(r.formData.location,e)||(r.formData.location=e),c(e)}),a()(),n(8,"mat-form-field",11)(9,"mat-label"),l(10,"Title"),a(),n(11,"input",12,1),w("ngModelChange",function(e){m(i);let r=u();return x(r.formData.title,e)||(r.formData.title=e),c(e)}),a(),n(13,"button",13),_("click",function(){m(i);let e=u();return c(e.formData.title.set(""))}),n(14,"mat-icon"),l(15,"clear"),a()(),n(16,"mat-error",14),h(17,fi,2,0,"div"),h(18,hi,2,0,"div"),h(19,bi,2,0,"div"),a()(),n(20,"mat-form-field",11)(21,"mat-label"),l(22,"City"),a(),n(23,"input",15,2),w("ngModelChange",function(e){m(i);let r=u();return x(r.formData.city,e)||(r.formData.city=e),c(e)}),a(),n(25,"mat-error",14),h(26,yi,2,0,"div"),h(27,vi,2,0,"div"),h(28,Ci,2,0,"div"),a()(),n(29,"mat-form-field",11)(30,"mat-label"),l(31,"Country"),a(),n(32,"input",16,3),w("ngModelChange",function(e){m(i);let r=u();return x(r.formData.country,e)||(r.formData.country=e),c(e)}),a(),n(34,"mat-error",14),h(35,xi,2,0,"div"),h(36,wi,2,0,"div"),h(37,Ei,2,0,"div"),a()(),n(38,"mat-form-field",11)(39,"mat-label"),l(40,"Category"),a(),n(41,"mat-select",17,4),w("ngModelChange",function(e){m(i);let r=u();return x(r.formData.category,e)||(r.formData.category=e),c(e)}),Q(43,Mi,2,2,"mat-option",18,pe),a(),n(45,"mat-error",14),h(46,Si,2,0,"div"),a()(),n(47,"div")(48,"app-edit-geo-json",19),w("geoJsonChange",function(e){m(i);let r=u();return x(r.formData.geoJson,e)||(r.formData.geoJson=e),c(e)}),a()(),n(49,"mat-radio-group",20),w("ngModelChange",function(e){m(i);let r=u();return x(r.showMapOption,e)||(r.showMapOption=e),c(e)}),n(50,"mat-radio-button",21),l(51,"Location"),a(),n(52,"mat-radio-button",22),l(53,"GeoJson"),a()()()(),n(54,"div",23)(55,"button",24),l(56,"Save"),a(),n(57,"button",25),l(58,"Next"),a()()()}if(o&2){let i=E(1),t=E(12),e=E(24),r=E(33),f=E(42),g=u();s(4),p("geoJsonData",g.geoJsonData())("iconType",g.formData.category())("enableGeoCoding",!0),s(3),C("location",g.formData.location),s(4),C("ngModel",g.formData.title),p("readOnly",g.isReadOnly()),s(5),p("hidden",t.valid||t.pristine),s(),b(t.errors!=null&&t.errors.required?17:-1),s(),b(t.errors!=null&&t.errors.minlength?18:-1),s(),b(t.errors!=null&&t.errors.maxlength?19:-1),s(4),C("ngModel",g.formData.city),p("readOnly",g.isReadOnly()),s(2),p("hidden",e.valid||e.pristine),s(),b(e.errors!=null&&e.errors.required?26:-1),s(),b(e.errors!=null&&e.errors.minlength?27:-1),s(),b(e.errors!=null&&e.errors.maxlength?28:-1),s(4),C("ngModel",g.formData.country),p("readOnly",g.isReadOnly()),s(2),p("hidden",r.valid||r.pristine),s(),b(r.errors!=null&&r.errors.required?35:-1),s(),b(r.errors!=null&&r.errors.minlength?36:-1),s(),b(r.errors!=null&&r.errors.maxlength?37:-1),s(4),C("ngModel",g.formData.category),p("disabled",g.isReadOnly()),s(2),Y(g.CATEGORIES),s(2),p("hidden",f.valid||f.pristine),s(),b(f.errors!=null&&f.errors.required?46:-1),s(2),C("geoJson",g.formData.geoJson),s(),C("ngModel",g.showMapOption),s(6),p("disabled",!i.form.valid),s(2),p("disabled",!i.form.valid)}}var Kt=(()=>{let d=class d{constructor(){this.CATEGORIES=qt,this.journeyService=y(W),this.notificationService=y($),this.journey=D.required(),this.formData={location:S(void 0),title:S(""),city:S(""),country:S(""),category:S(Ne),geoJson:S(void 0)},this.mode=D(ae.EDIT),this.isReadOnly=se(()=>this.mode()===ae.VIEW),this.showMapOption=S("Location"),this.geoJsonData=se(()=>this.showMapOption()=="Location"?this.formData.location():this.formData.geoJson())}ngOnInit(){this.copyToForm(this.journey().geoDetails??new Pe)}save(t){console.debug("submitted form:",t),this.journeyService.saveJourneyGeoDetails(this.journey(),this.copyDataFromForm()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving geo data",e)})}onUpdateSuccess(t){this.notificationService.showSuccess("Journey details saved successfully.")}onError(t,e){this.notificationService.showError(t),console.error(e)}copyToForm(t){this.formData.location.set(t.location),this.formData.title.set(t.title),this.formData.city.set(t.city),this.formData.country.set(t.country),this.formData.category.set(t.category||Ne),this.formData.geoJson.set(t.geoJson)}copyDataFromForm(){return new Pe(this.formData.title(),this.formData.city(),this.formData.country(),this.formData.category(),this.formData.location(),this.formData.geoJson()||this.formData.location())}addGeoLocation(t){this.formData.location.update(e=>t.location??e),this.formData.geoJson.update(e=>t.location??e),this.formData.title.update(e=>e||t.name),this.formData.city.update(e=>t.state??e),this.formData.country.update(e=>t.country??e)}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:[1,"journey"],mode:[1,"mode"]},outputs:{journey:"journeyChange",mode:"modeChange"},decls:2,vars:1,consts:[["journeyForm","ngForm"],["title","ngModel"],["city","ngModel"],["country","ngModel"],["category","ngModel"],[3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-12","gap-4","mb-6"],[1,"col-span-12","md:col-span-8","relative","min-h-[25vh]"],[1,"h-1/2",3,"location","geoJsonData","iconType","enableGeoCoding"],[1,"col-span-12","md:col-span-4","flex","flex-col","gap-2"],[3,"locationChange","location"],[1,"w-full"],["matInput","","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Title",3,"ngModelChange","ngModel","readOnly"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[3,"hidden"],["matInput","","id","city","name","city","required","","minlength","3","maxlength","50","placeholder","City or Region",3,"ngModelChange","ngModel","readOnly"],["matInput","","id","country","name","country","required","","minlength","3","maxlength","50","placeholder","Country",3,"ngModelChange","ngModel","readOnly"],["name","category","required","",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"geoJsonChange","geoJson"],["name","mapOptions",1,"flex","justify-center","gap-2",3,"ngModelChange","ngModel"],["value","Location"],["value","GeoJson"],[1,"flex","justify-center","gap-2","mt-6"],["mat-flat-button","","type","submit",3,"disabled"],["mat-stroked-button","","type","button","matStepperNext","",3,"disabled"]],template:function(e,r){e&1&&(n(0,"main"),h(1,Ii,59,30,"form"),a()),e&2&&(s(),b(r.journey()?1:-1))},dependencies:[J,L,te,Z,P,ie,wt,Et,K,R,Ut,re,Ht,Qt,q,B,A,ne,ve,U,X,we,xe,Ce,Zt,We,Se,j,N,O,F,V],encapsulation:2,changeDetection:0});let o=d;return o})();function Di(o,d){if(o&1){let i=v();n(0,"div",0)(1,"div",1)(2,"h6",2),l(3,"Edit Image Details"),a()(),n(4,"div",3)(5,"div",4)(6,"div",5),G(7,"img",6),a(),n(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),l(12,"Image URL"),a(),n(13,"input",10),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().url,e)||(r.imageItem().url=e),c(e)}),a()(),n(14,"mat-form-field",9)(15,"mat-label"),l(16,"Asset ID"),a(),n(17,"input",11),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().assetId,e)||(r.imageItem().assetId=e),c(e)}),a()(),n(18,"mat-form-field",9)(19,"mat-label"),l(20,"Public ID"),a(),n(21,"input",12),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().publicId,e)||(r.imageItem().publicId=e),c(e)}),a()(),n(22,"mat-form-field",9)(23,"mat-label"),l(24,"Title"),a(),n(25,"input",13),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().title,e)||(r.imageItem().title=e),c(e)}),a()(),n(26,"div",14)(27,"mat-checkbox",15),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().isFavorite,e)||(r.imageItem().isFavorite=e),c(e)}),l(28,"Make it my favorite "),a()(),n(29,"mat-form-field",9)(30,"mat-label"),l(31,"Event Date"),a(),n(32,"input",16),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().eventDate,e)||(r.imageItem().eventDate=e),c(e)}),a()(),n(33,"div",14)(34,"mat-checkbox",17),w("ngModelChange",function(e){m(i);let r=u();return x(r.imageItem().isThumbnail,e)||(r.imageItem().isThumbnail=e),c(e)}),l(35,"Make it a thumbnail "),a()(),n(36,"div",18)(37,"button",19),_("click",function(){m(i);let e=u();return c(e.saveItem.emit(e.imageItem()))}),l(38,"Save "),a(),n(39,"button",20),_("click",function(){m(i);let e=u();return c(e.removeItem.emit(e.imageItem()))}),l(40,"Remove "),a(),n(41,"button",21),_("click",function(){m(i);let e=u();return c(e.cancelItem.emit(e.imageItem()))}),l(42,"Cancel"),a()()()()()()()}if(o&2){let i=u();s(4),ot("background-image","url("+i.imageItem().url+")"),s(3),p("src",i.imageItem().url,ue)("title",i.imageItem().assetId),s(6),C("ngModel",i.imageItem().url),s(4),C("ngModel",i.imageItem().assetId),s(4),C("ngModel",i.imageItem().publicId),s(4),C("ngModel",i.imageItem().title),s(2),C("ngModel",i.imageItem().isFavorite),s(5),C("ngModel",i.imageItem().eventDate),s(2),C("ngModel",i.imageItem().isThumbnail)}}var Xt=(()=>{let d=class d{constructor(){this.imageItem=D(new me("","")),this.saveItem=he(),this.cancelItem=he(),this.removeItem=he()}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:[1,"imageItem"]},outputs:{imageItem:"imageItemChange",saveItem:"saveItem",cancelItem:"cancelItem",removeItem:"removeItem"},decls:1,vars:1,consts:[[1,"container","mx-auto","p-4","rounded-lg","shadow-md"],[1,"border-b-2","mb-4"],[1,"text-lg","font-semibold","text-primary"],[1,"bg-cover","bg-no-repeat","bg-center","p-6","rounded-lg"],[1,"backdrop-blur-3xl","flex","flex-col","md:flex-row","justify-evenly","items-center","rounded-lg","p-4","inset-0","bg-white/50"],[1,"flex","justify-center","text-center","mb-4","md:mb-0","md:w-1/3"],["alt","thumbnail",1,"rounded-lg","border-2","border-primary","h-48","w-48","object-cover",3,"src","title"],[1,"flex-1"],[1,"flex","flex-col","gap-2"],["appearance","outline",1,"w-full"],["matInput","","type","text","id","imageUrl","name","imageUrl","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","imageId","name","imageId","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","publicId","name","publicId","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","title","name","title",1,"rounded-lg","w-full",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["id","favoriteFlag","name","favoriteFlag",3,"ngModelChange","ngModel"],["matInput","","type","date","id","eventDate","name","eventDate","placeholder","dd-mm-yyyy",1,"rounded-lg","w-full",3,"ngModelChange","ngModel"],["id","thumbnailFlag","name","thumbnailFlag",3,"ngModelChange","ngModel"],[1,"flex","justify-center","gap-2","rounded-lg"],["mat-flat-button","","type","button",1,"!bg-success","!text-white",3,"click"],["mat-flat-button","","type","button",1,"!bg-danger","!text-white",3,"click"],["mat-stroked-button","","type","button",3,"click"]],template:function(e,r){e&1&&h(0,Di,43,11,"div",0),e&2&&b(r.imageItem()?0:-1)},dependencies:[J,L,te,Z,P,K,R,F,j,N,q,B,A,U,X,zt],encapsulation:2,changeDetection:0});let o=d;return o})();var ki=["imageItemDetailDialog"],Ti=(o,d)=>d.assetId;function Vi(o,d){o&1&&(n(0,"div",13),l(1," Selected "),a())}function Ji(o,d){if(o&1){let i=v();n(0,"div",11),_("click",function(){let e=m(i).$implicit,r=u(2);return c(r.openImageItem(e))})("keydown.enter",function(){let e=m(i).$implicit,r=u(2);return c(r.openImageItem(e))}),G(1,"img",12),h(2,Vi,2,0,"div",13),a()}if(o&2){let i=d.$implicit;le("border-success",i.isThumbnail)("border-primary",!i.isThumbnail),s(),p("title",rt(i.assetId))("src",i.url,ue),s(),b(i.isThumbnail?2:-1)}}function ji(o,d){if(o&1){let i=v();n(0,"form",3),_("ngSubmit",function(){m(i);let e=u();return c(e.save())}),n(1,"div",4),Q(2,Ji,3,8,"div",5,Ti),a(),n(4,"div",6)(5,"button",7),_("click",function(){m(i);let e=u();return c(e.openUploadWidget(!0))}),n(6,"mat-icon"),l(7,"drive_folder_upload"),a(),l(8," Upload Image(s) "),a(),n(9,"button",7),_("click",function(){m(i);let e=u();return c(e.openUploadWidget(!1))}),n(10,"mat-icon"),l(11,"upload_file"),a(),l(12," Upload Image "),a(),n(13,"button",8),l(14,"Next"),a(),n(15,"a",9)(16,"span",10),l(17,"Reduce Image Size"),a(),n(18,"mat-icon"),l(19,"open_in_new"),a()()()()}if(o&2){let i=u();s(2),Y(i.formImageDetails().images)}}var $t=(()=>{let d=class d{constructor(){this.notificationService=y($),this.journeyService=y(W),this.journey=D.required(),this.formImageDetails=S(new Re),this.imageItemDetail=D(new me("","")),this.imageItemDialog=lt.required("imageItemDetailDialog")}ngOnInit(){this.formImageDetails.set(this.journey().imagesDetails??new Re)}addImage(t){this.formImageDetails.update(e=>T(k({},e),{images:[...e.images,new me(t.secure_url,t.asset_id,t.public_id)]}))}getWidgetParams(t,e){return{cloudName:oe.cloudName,uploadPreset:e?oe.cloudinaryPreset:oe.cloudinarySingleImgPreset,folder:`${oe.cloudBaseDir}/${t.id}`,tags:t.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:oe.stage,id:`${t.id}`},cropping:!e,showAdvancedOptions:!0,multiple:e}}onError(t,e){this.notificationService.showError(t),console.error(e)}onUpdateSuccess(t){this.notificationService.showSuccess("Image Details saved successfully."),this.journey.set(t)}save(){console.log("saving"),this.journeyService.saveJourneyImagesDetails(this.journey(),this.formImageDetails()).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving images data",t)})}openUploadWidget(t=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey(),t),(e,r)=>{!e&&r&&r.event==="success"&&this.addImage(r.info),!e&&r&&r.event==="close"&&this.save()}).open()}openImageItem(t){this.imageItemDetail.set(t),this.imageItemDialog().nativeElement.showModal()}saveImageItemDetail(t){this.formImageDetails.update(e=>T(k({},e),{images:[...e.images.map(r=>r.assetId==t.assetId?t:r)]})),this.save(),this.imageItemDialog().nativeElement.close()}deleteImageItemDetail(t){this.formImageDetails.update(e=>T(k({},e),{images:[...e.images.filter(r=>r.assetId!=t.assetId)]})),this.save(),this.imageItemDialog().nativeElement.close()}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey-images-details"]],viewQuery:function(e,r){e&1&&tt(r.imageItemDialog,ki,5),e&2&&it()},inputs:{journey:[1,"journey"],imageItemDetail:[1,"imageItemDetail"]},outputs:{journey:"journeyChange",imageItemDetail:"imageItemDetailChange"},decls:5,vars:2,consts:[["imageItemDetailDialog",""],[1,"w-full","md:w-3/4","p-4","rounded-lg","border","shadow-lg","dark:bg-black","mx-auto"],[3,"saveItem","removeItem","cancelItem","imageItem"],[3,"ngSubmit"],[1,"grid","grid-cols-3","sm:grid-cols-4","md:grid-cols-6","gap-4","mb-4"],["tabindex","-1",1,"relative","group","cursor-pointer","border","rounded-lg","overflow-hidden","transition-all","duration-300","hover:shadow-lg","focus-within:ring","focus-within:ring-offset-2",3,"border-success","border-primary"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","content-center","gap-2"],["mat-fab","","extended","","type","button",3,"click"],["mat-stroked-button","","type","button","matStepperNext",""],["routerLink","/tools","target","_blank",1,"text-primary","flex","flex-row","justify-center"],[1,"hover:underline"],["tabindex","-1",1,"relative","group","cursor-pointer","border","rounded-lg","overflow-hidden","transition-all","duration-300","hover:shadow-lg","focus-within:ring","focus-within:ring-offset-2",3,"click","keydown.enter"],["loading","lazy","alt","Thumbnail",1,"h-24","w-full","object-contain",3,"src","title"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black/30","flex","items-center","justify-center","text-white","font-bold","text-sm"]],template:function(e,r){if(e&1){let f=v();n(0,"main"),h(1,ji,20,0,"form"),n(2,"dialog",1,0)(4,"app-edit-journey-image-item",2),_("saveItem",function(M){return m(f),c(r.saveImageItemDetail(M))})("removeItem",function(M){return m(f),c(r.deleteImageItemDetail(M))})("cancelItem",function(){return m(f),c(r.imageItemDialog().nativeElement.close())}),a()()()}e&2&&(s(),b(r.journey()?1:-1),s(3),p("imageItem",r.imageItemDetail()))},dependencies:[J,L,P,R,j,N,Vt,re,F,V,ct,Xt],styles:[".group[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}img[_ngcontent-%COMP%]{transition:transform .3s ease}"],changeDetection:0});let o=d;return o})();var Gi=(o,d)=>d.videoId;function Fi(o,d){if(o&1){let i=v();n(0,"div",8)(1,"button",12),_("click",function(){let e=m(i).$implicit,r=u(2);return c(r.removeVideoAndSaveJourney(e))}),n(2,"mat-icon",13),l(3," do_not_disturb_on "),a()(),G(4,"img",14),a()}if(o&2){let i=d.$implicit;s(4),p("ngSrc","https://img.youtube.com/vi/"+i.videoId+"/0.jpg")("alt",i.videoId)("title",i.videoId)}}function Ni(o,d){o&1&&(n(0,"p",9),l(1," No videos available for this journey. "),a())}function Pi(o,d){if(o&1){let i=v();n(0,"form",2)(1,"div")(2,"mat-form-field",3)(3,"mat-label"),l(4,"YouTube Video ID"),a(),G(5,"input",4,0),n(7,"button",5),_("click",function(){m(i);let e=E(6);return u().addVideo(e.value),c(e.value="")}),l(8," Upload "),a()()(),n(9,"div")(10,"h3",6),l(11,"Video List"),a(),n(12,"div",7),Q(13,Fi,5,3,"div",8,Gi),h(15,Ni,2,0,"p",9),a()(),n(16,"div",10)(17,"button",11),l(18,"Next"),a()()()}if(o&2){let i=E(6),t=u();s(7),p("disabled",i.value===""),s(6),Y(t.formVideosDetails().videos),s(2),b(t.formVideosDetails().videos.length?-1:15)}}var ei=(()=>{let d=class d{constructor(){this.journeyService=y(W),this.notificationService=y($),this.journey=D.required(),this.formVideosDetails=S(new Le)}ngOnInit(){this.formVideosDetails.set(this.journey().videosDetails??new Le)}addVideo(t){this.formVideosDetails.update(e=>T(k({},e),{videos:[...e.videos,new Gt(t)]})),this.save()}removeVideoAndSaveJourney(t){this.formVideosDetails.update(e=>T(k({},e),{videos:e.videos.filter(r=>r.videoId!==t.videoId)})),this.save()}save(){this.journeyService.saveJourneyVideosDetails(this.journey(),this.formVideosDetails()).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving videos data",t)})}onUpdateSuccess(t){this.notificationService.showSuccess("Video Details saved successfully."),this.journey.set(t)}onError(t,e){this.notificationService.showError(t),console.error(e)}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},decls:2,vars:1,consts:[["videoInput",""],[1,"rounded-lg","shadow-lg"],[1,"container","mx-auto","p-6","flex","flex-col","gap-2"],["appearance","outline",1,"w-full"],["matInput","","placeholder","Enter YouTube Video ID"],["mat-flat-button","","matSuffix","","type","button",3,"click","disabled"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],[1,"flex","flex-wrap","gap-4"],[1,"relative","w-48","h-48"],[1,"text-gray-500","italic"],[1,"text-center"],["mat-stroked-button","","type","button","matStepperNext",""],["mat-icon-button","","aria-label","Remove Video",1,"absolute","float-right","!z-10","!p-0",3,"click"],[1,"bg-white","rounded-full","text-red-400!","shadow-md","hover:text-red-600!","top-[-5px]","right-[-10px]"],["fill","",1,"rounded-lg","border","border-gray-300","shadow-sm","w-full","h-full","object-fill",3,"ngSrc","alt","title"]],template:function(e,r){e&1&&(n(0,"main",1),h(1,Pi,19,2,"form",2),a()),e&2&&(s(),b(r.journey()?1:-1))},dependencies:[J,L,P,R,Mt,re,q,B,A,ve,U,X,j,N,O,F,V,st],encapsulation:2,changeDetection:0});let o=d;return o})();function Ri(o,d){o&1&&(n(0,"mat-error"),l(1,"Please choose visibility"),a())}function Li(o,d){o&1&&(n(0,"mat-icon",18),l(1,"check_circle"),a())}function Oi(o,d){o&1&&(n(0,"mat-icon",19),l(1,"cancel"),a())}function Wi(o,d){o&1&&(n(0,"mat-icon",18),l(1,"check_circle"),a())}function Ai(o,d){o&1&&(n(0,"mat-icon",19),l(1,"cancel"),a())}function Bi(o,d){o&1&&(n(0,"mat-icon",18),l(1,"check_circle"),a())}function qi(o,d){o&1&&(n(0,"mat-icon",19),l(1,"cancel"),a())}function Ui(o,d){o&1&&(n(0,"mat-icon",18),l(1,"check_circle"),a())}function zi(o,d){o&1&&(n(0,"mat-icon",19),l(1,"cancel"),a())}function Hi(o,d){if(o&1&&(n(0,"mat-option",24),l(1),a()),o&2){let i=d.$implicit;p("value",i.url),s(),nt(" ",i.assetId," ")}}function Qi(o,d){if(o&1){let i=v();n(0,"button",35),_("click",function(){m(i),u();let e=E(58);return c(e.showModal())}),l(1," Delete "),a()}}function Yi(o,d){if(o&1){let i=v();n(0,"button",36),_("click",function(){m(i),u();let e=E(1),r=u();return c(r.save(e))}),l(1," Draft "),a()}if(o&2){u();let i=E(1);p("disabled",!i.form.valid)}}function Zi(o,d){if(o&1&&(n(0,"button",37),l(1," Publish "),a()),o&2){u();let i=E(1);p("disabled",!i.form.valid)}}function Ki(o,d){if(o&1){let i=v();n(0,"form",4,0),_("ngSubmit",function(){m(i);let e=E(1),r=u();return c(r.publish(e))}),n(2,"div",5)(3,"mat-form-field",6)(4,"mat-label"),l(5,"Visibility"),a(),n(6,"mat-select",7,1),w("ngModelChange",function(e){m(i);let r=u();return x(r.journey().visibilities,e)||(r.journey().visibilities=e),c(e)}),n(8,"mat-option",8),l(9,"MYSELF"),a(),n(10,"mat-option",9),l(11,"ADMINISTRATOR"),a(),n(12,"mat-option",10),l(13,"MAINTAINER"),a(),n(14,"mat-option",11),l(15,"AUTHENTICATED_USER"),a(),n(16,"mat-option",12),l(17,"GUEST"),a()(),h(18,Ri,2,0,"mat-error"),a()(),n(19,"div",13)(20,"div",14)(21,"span",15),l(22,"Journey Preview"),a()(),n(23,"div",16)(24,"ul",3)(25,"li",17),l(26,"Basic Details "),h(27,Li,2,0,"mat-icon",18)(28,Oi,2,0,"mat-icon",19),a(),n(29,"li",17),l(30,"Geo Details "),h(31,Wi,2,0,"mat-icon",18)(32,Ai,2,0,"mat-icon",19),a(),n(33,"li",17),l(34,"Images Details "),h(35,Bi,2,0,"mat-icon",18)(36,qi,2,0,"mat-icon",19),a(),n(37,"li",17),l(38,"Videos Details "),h(39,Ui,2,0,"mat-icon",18)(40,zi,2,0,"mat-icon",19),a()()(),n(41,"div",20)(42,"div",21)(43,"mat-form-field",22)(44,"mat-label"),l(45,"Thumbnail"),a(),n(46,"mat-select",23),w("ngModelChange",function(e){m(i);let r=u();return x(r.journey().thumbnail,e)||(r.journey().thumbnail=e),c(e)}),_("selectionChange",function(){m(i);let e=u();return c(e.onThumbnailChangedEvent())}),n(47,"mat-option",24),l(48,"Default"),a(),Q(49,Hi,2,2,"mat-option",24,pe),a()()(),n(51,"div",21),G(52,"app-journey-card-view",25),a()()(),n(53,"div",26),H(54,Qi,2,0,"button",27)(55,Yi,2,1,"button",28)(56,Zi,2,1,"button",29),a(),n(57,"dialog",30,2)(59,"div",31)(60,"mat-icon",32),l(61,"delete_forever"),a(),n(62,"p",33),l(63,"Are you sure you want to delete the journey?"),a(),n(64,"div",34)(65,"button",35),_("click",function(){m(i);let e=E(58);return c(e.close())}),l(66,"No, Keep it"),a(),n(67,"button",35),_("click",function(){m(i);let e=E(58),r=u();return e.close(),c(r.delete())}),l(68,"Yes, Delete forever "),a()()()()()}if(o&2){let i,t=E(7),e=u();s(6),C("ngModel",e.journey().visibilities),s(2),p("disabled",!0),s(10),b(t.hasError("required")?18:-1),s(9),b(e.isBasicDetailsAvailableAndValid()?27:28),s(4),b(e.isGeoJsonAvailable()?31:32),s(4),b(e.isImagesDetailsAvailable()?35:36),s(4),b(e.isVideosDetailsAvailable()?39:40),s(7),C("ngModel",e.journey().thumbnail),s(),p("value",e.DEFAULT_THUMBNAIL),s(2),Y((i=e.journey().imagesDetails)==null?null:i.images),s(3),p("journey",e.journey())}}var ti=(()=>{let d=class d{constructor(){this.DEFAULT_THUMBNAIL=Jt,this.router=y(be),this.journeyService=y(W),this.notificationService=y($),this.journey=D.required()}isBasicDetailsAvailableAndValid(){return this.journey().id!=""&&this.journey().name!=""&&this.journey().description!=""&&this.journey().journeyDate!=""&&this.journey().tags?.length>0}isGeoJsonAvailable(){return this.journey().geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey().imagesDetails?.images?.length??!1}isVideosDetailsAvailable(){return this.journey().videosDetails?.videos?.length??!1}publish(t){console.debug("submitted form:",t),this.journey.update(e=>T(k({},e),{isPublished:!0})),this.journeyService.publishJourney(this.journey()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)})}save(t){t.valid&&(this.journey.update(e=>T(k({},e),{isPublished:!1})),this.journeyService.publishJourney(this.journey()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)}))}onError(t,e){this.notificationService.showError(t),console.error(e)}onUpdateSuccess(t){let e=t.isPublished?"Journey published successfully.":"Journey saved successfully";this.notificationService.showSuccess(e),this.journey.set(t)}delete(){this.journeyService.deleteJourney(this.journey()).subscribe({next:t=>this.onDeleteSuccess(),error:t=>this.onError("Unexpected error while publishing data",t)})}onDeleteSuccess(){this.notificationService.showSuccess("Journey deleted successfully"),setTimeout(()=>this.router.navigate(["journey"]),1e3)}onThumbnailChangedEvent(){this.journey.update(t=>k({},t))}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},decls:2,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["deleteJourneyDialog",""],[1,"flex","flex-col","gap-2"],[1,"flex","flex-col","gap-2",3,"ngSubmit"],[1,"grid","grid-cols-1","gap-4"],["appearance","outline","color","primary",1,"w-full"],["id","visibilities","name","visibilities","multiple","","required","",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2","pb-3","border-b-2"],[1,"text-lg","font-semibold","text-current"],[1,"rounded-lg","shadow-md","p-4"],[1,"flex","items-center","justify-between"],[1,"text-success!"],[1,"text-danger!"],[1,"flex","flex-col","rounded-lg","shadow-md","p-4"],[1,"mb-4"],["appearance","outline",1,"w-full"],["id","thumbnail","name","thumbnail","ngModel","",3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[3,"journey"],[1,"flex","justify-center","gap-2","mt-6"],["mat-stroked-button","","type","button",3,"click",4,"appHasWriteAccess"],["mat-stroked-button","","type","button",3,"disabled","click",4,"appHasWriteAccess"],["mat-flat-button","","type","submit",3,"disabled",4,"appHasWriteAccess"],["id","deleteJourneyDialog",1,"border-0","rounded-lg","p-4","mx-auto"],[1,"text-center"],[1,"fs-3","text-danger"],[1,"text-danger","mt-2"],[1,"mt-4","flex","justify-center","gap-2"],["mat-stroked-button","","type","button",3,"click"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-flat-button","","type","submit",3,"disabled"]],template:function(e,r){e&1&&(n(0,"main"),h(1,Ki,69,10,"form",3),a()),e&2&&(s(),b(r.journey()?1:-1))},dependencies:[V,J,L,Z,P,ie,K,R,q,B,A,ne,we,xe,Ce,Pt,Ft,Nt,N],encapsulation:2,changeDetection:0});let o=d;return o})();function Xi(o,d){o&1&&l(0,"Memories")}function $i(o,d){if(o&1){let i=v();n(0,"app-edit-journey-memories-details",10),w("journeyChange",function(e){m(i);let r=u(2);return x(r.journey,e)||(r.journey=e),c(e)}),a()}if(o&2){let i=u(2);C("journey",i.journey),p("mode",i.mode())}}function eo(o,d){o&1&&l(0,"Geography")}function to(o,d){if(o&1){let i=v();n(0,"app-edit-journey-geo-details",11),w("journeyChange",function(e){m(i);let r=u(2);return x(r.journey,e)||(r.journey=e),c(e)}),a()}if(o&2){let i=u(2);C("journey",i.journey)}}function io(o,d){o&1&&l(0,"Images")}function oo(o,d){if(o&1){let i=v();n(0,"app-edit-journey-images-details",11),w("journeyChange",function(e){m(i);let r=u(2);return x(r.journey,e)||(r.journey=e),c(e)}),a()}if(o&2){let i=u(2);C("journey",i.journey)}}function no(o,d){o&1&&l(0,"Videos")}function ro(o,d){if(o&1){let i=v();n(0,"app-edit-journey-videos-details",11),w("journeyChange",function(e){m(i);let r=u(2);return x(r.journey,e)||(r.journey=e),c(e)}),a()}if(o&2){let i=u(2);C("journey",i.journey)}}function ao(o,d){o&1&&l(0,"Publish")}function lo(o,d){if(o&1){let i=v();n(0,"app-edit-journey-publish-details",11),w("journeyChange",function(e){m(i);let r=u(2);return x(r.journey,e)||(r.journey=e),c(e)}),a()}if(o&2){let i=u(2);C("journey",i.journey)}}function so(o,d){if(o&1){let i=v();n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h4",3)(4,"span",4),l(5),a(),n(6,"button",5),_("click",function(){m(i);let e=u();return c(e.viewJourney(e.journey()))}),n(7,"mat-icon"),l(8,"visibility"),a()()()()(),n(9,"mat-stepper",6)(10,"mat-step",7),H(11,Xi,1,0,"ng-template",8)(12,$i,1,2,"ng-template",9),a(),n(13,"mat-step"),H(14,eo,1,0,"ng-template",8)(15,to,1,1,"ng-template",9),a(),n(16,"mat-step"),H(17,io,1,0,"ng-template",8)(18,oo,1,1,"ng-template",9),a(),n(19,"mat-step"),H(20,no,1,0,"ng-template",8)(21,ro,1,1,"ng-template",9),a(),n(22,"mat-step"),H(23,ao,1,0,"ng-template",8)(24,lo,1,1,"ng-template",9),a()()()}if(o&2){let i=u();s(5),fe(i.journey().name),s(),p("matTooltip","View Journey"),s(4),p("completed",i.journey().id)}}var Lr=(()=>{let d=class d{constructor(){this.route=y(mt),this.journeyService=y(W),this.router=y(be),this.journey=S(new jt),this.mode=S(ae.EDIT),this.router.getCurrentNavigation()?.extras.state&&this.mode.set(this.router.getCurrentNavigation()?.extras.state?.mode??ae.EDIT)}ngOnInit(){this.journeyService.getJourneyById(this.route.snapshot.params.id).subscribe(t=>this.journey.set(t))}viewJourney(t){this.router.navigate(["/journey",t.id,"view"]).then()}};d.\u0275fac=function(e){return new(e||d)},d.\u0275cmp=I({type:d,selectors:[["app-edit-journey"]],decls:1,vars:1,consts:[[1,"mt-3"],[1,"flex","m-2"],[1,"w-full"],[1,"flex","items-center"],[1,"text-primary","mr-2"],["mat-icon-button","",1,"border","border-primary","rounded-sm","hover:bg-primary","hover:text-white",3,"click","matTooltip"],["orientation","horizontal",1,"journey-edit-stepper"],[3,"completed"],["matStepLabel",""],["matStepContent",""],[3,"journeyChange","journey","mode"],[3,"journeyChange","journey"]],template:function(e,r){e&1&&h(0,so,25,3,"section",0),e&2&&b(r.journey()?0:-1)},dependencies:[Wt,Ot,Kt,$t,Rt,Lt,ei,ti,ye,Bt,j,O,F,V],encapsulation:2,changeDetection:0});let o=d;return o})();export{Lr as EditJourneyComponent};
