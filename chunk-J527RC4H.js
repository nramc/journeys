import{a as u,b as c,c as L}from"./chunk-SCLP46IR.js";import{a as O}from"./chunk-J5G26YES.js";import{a as U,d as Y,f as B,k as F}from"./chunk-7PP3UOCC.js";import{h as I,l as S}from"./chunk-CDDTRRPJ.js";import{c as J}from"./chunk-UP7FM5GD.js";import{i as V,q as A}from"./chunk-6PDFZEHV.js";import{Ac as s,Bc as _,Cb as v,Cc as T,Ib as y,Ka as b,Mc as M,Oc as E,Tb as C,Wb as j,bc as r,cc as o,dc as D,hc as k,ma as h,mc as m,ob as l,oc as w,wa as g,xa as x}from"./chunk-EL6UOR5J.js";var d=class{constructor(p="",e="",t="",n=c,a="",f=[],P=u){this.id=p,this.name=e,this.title=t,this.category=n,this.journeyDate=a,this.tags=f,this.thumbnail=P}};function H(i,p){if(i&1&&(r(0,"span")(1,"small",13),s(2),M(3,"date"),o()()),i&2){let e=w();l(2),T(" ",E(3,1,e.journey().journeyDate,"dd.MM.YYYY")," ")}}function N(i,p){if(i&1){let e=k();r(0,"button",12),m("click",function(n){g(e);let a=w();return x(a.editDetails(n))}),s(1,"Edit "),o()}}var oe=(()=>{class i{constructor(){this.router=h(J),this.journey=b.required({transform:e=>this.transformJourney(e)})}viewDetails(){this.router.navigate(["/journey",this.journey().id,"view"]).then(console.log)}editDetails(e){return e.stopPropagation(),this.router.navigate(["/journey",this.journey().id,"edit"]).then(console.log),!1}viewInTimeline(e){return e.stopPropagation(),this.router.navigate(["/timeline"],{queryParams:{id:this.journey().id}}).then(console.log),!1}transformJourney(e){if(Object.hasOwn(e,"geoDetails")||e instanceof L){let t=e;return new d(t.id,t.name,t.geoDetails?.title,t.geoDetails?.category??c,t.journeyDate,t.tags,t.thumbnail??u)}else return e}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["app-journey-card-view"]],inputs:{journey:[1,"journey"]},decls:17,vars:5,consts:[[1,"m-0","w-full"],[1,"text-white","border","border-primary","cursor-pointer","relative","overflow-hidden","hover:shadow-lg","hover:shadow-primary","w-full","max-w-[75vw]","md:w-[25rem]","h-[15rem]",3,"click","keydown.enter"],[1,"absolute","inset-0","bg-black/25"],[1,"relative","p-4","flex","flex-col","sm:flex-col","md:flex-row","justify-between","h-full"],[1,"text-lg","font-semibold","mb-2"],[1,"text-white","text-primary-outline"],[1,"text-sm","font-medium","text-gray-200","mb-4","text-primary-outline"],[1,"relative","justify-between","flex-row","gap-2"],[1,"flex","items-center","justify-between","w-full"],[4,"ngIf"],[1,"flex","justify-end"],["mat-raised-button","","class","text-xs py-1",3,"click",4,"appHasWriteAccess"],["mat-raised-button","",1,"text-xs","py-1",3,"click"],[1,"text-xs","border","border-white","rounded-lg","px-2","py-1","bg-black/50"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"mat-card",1),m("click",function(){return n.viewDetails()})("keydown.enter",function(){return n.viewDetails()}),D(2,"div",2),r(3,"mat-card-content",3)(4,"div")(5,"h5",4)(6,"span",5),s(7),o()(),r(8,"p",6),s(9),o()()(),r(10,"mat-card-actions",7)(11,"div",8),y(12,H,4,4,"span",9),o(),r(13,"div",10),y(14,N,2,0,"button",11),r(15,"button",12),m("click",function(f){return n.viewInTimeline(f)}),s(16,"Timeline"),o()()()()()),t&2&&(l(),j("background-image: url("+n.journey().thumbnail+"); background-size: cover; background-repeat: no-repeat;"),l(6),_(n.journey().name),l(2),_(n.journey().title),l(3),C("ngIf",n.journey().journeyDate))},dependencies:[A,F,U,B,Y,S,I,V,O],styles:["mat-card-content[_ngcontent-%COMP%]{background:#3459e61a}"],changeDetection:0})}}return i})();export{d as a,oe as b};
