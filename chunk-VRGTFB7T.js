import{a as u,b as c,c as U}from"./chunk-OJTYUOMM.js";import{a as N}from"./chunk-S5ABAADJ.js";import{a as Y,d as O,f as P,k as H}from"./chunk-LHDSIYDR.js";import{a as F,f as L}from"./chunk-H4VMZNAY.js";import{c as B}from"./chunk-IBLWUD3D.js";import{j as A,r as S}from"./chunk-65UXW6KM.js";import{Aa as x,Ec as l,Fb as D,Fc as _,Gc as w,Mb as f,Na as v,Pc as I,Rc as J,Xb as C,_b as j,cc as T,dc as k,ec as M,fc as r,gc as a,hc as E,lc as V,pa as h,qb as o,qc as d,sc as g,za as b}from"./chunk-INLK7QV6.js";var p=class{constructor(m="",e="",t="",i=c,s="",y=[],R=u){this.id=m,this.name=e,this.title=t,this.category=i,this.journeyDate=s,this.tags=y,this.thumbnail=R}};function q(n,m){if(n&1&&(r(0,"span",7),l(1),a()),n&2){let e=m.$implicit;o(),w(" ",e," ")}}function G(n,m){if(n&1&&(r(0,"span")(1,"small",14),l(2),I(3,"date"),a()()),n&2){let e=g();o(2),w(" ",J(3,1,e.journeyData().journeyDate,"dd.MM.YYYY")," ")}}function W(n,m){if(n&1){let e=V();r(0,"button",13),d("click",function(i){b(e);let s=g();return x(s.editDetails(i))}),l(1,"Edit "),a()}}var me=(()=>{class n{constructor(){this.router=h(B),this.journeyData=v.required({alias:"journey",transform:e=>this.transformJourney(e)})}viewDetails(){this.router.navigate(["/journey",this.journeyData().id,"view"]).then(console.log)}editDetails(e){return e.stopPropagation(),this.router.navigate(["/journey",this.journeyData().id,"edit"]).then(console.log),!1}viewInTimeline(e){return e.stopPropagation(),this.router.navigate(["/timeline"],{queryParams:{id:this.journeyData().id}}).then(console.log),!1}transformJourney(e){if(Object.hasOwn(e,"geoDetails")||e instanceof U){let t=e;return new p(t.id,t.name,t.geoDetails?.title,t.geoDetails?.category??c,t.journeyDate,t.tags,t.thumbnail??u)}else return e}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=D({type:n,selectors:[["app-journey-card-view"]],inputs:{journeyData:[1,"journey","journeyData"]},decls:19,vars:5,consts:[[1,"m-0","w-full"],[1,"text-white","border","border-primary","cursor-pointer","relative","overflow-hidden","hover:shadow-lg","hover:shadow-primary","w-full","md:w-[25rem]","h-[15rem]",3,"click","keydown.enter"],[1,"absolute","inset-0","bg-black","bg-opacity-35"],[1,"relative","p-4","flex","flex-col","sm:flex-col","md:flex-row","justify-between","h-full"],[1,"text-lg","font-semibold","text-white","mb-2"],[1,"text-sm","font-medium","text-gray-200","mb-4"],[1,"flex","flex-wrap","gap-2"],[1,"badge","border","border-gray-300","bg-gray-800","text-gray-200","rounded-full","px-3","py-1","text-xs","shadow-sm","hover:bg-gray-700","hover:border-gray-500","transition-all"],[1,"relative","justify-between","flex-row","gap-2"],[1,"flex","items-center","justify-between","w-full"],[4,"ngIf"],[1,"flex","justify-end"],["mat-raised-button","","class","text-xs py-1",3,"click",4,"appHasWriteAccess"],["mat-raised-button","",1,"text-xs","py-1",3,"click"],[1,"text-xs","border","border-white","rounded-lg","px-2","py-1","bg-black","bg-opacity-60"]],template:function(t,i){t&1&&(r(0,"div",0)(1,"mat-card",1),d("click",function(){return i.viewDetails()})("keydown.enter",function(){return i.viewDetails()}),E(2,"div",2),r(3,"mat-card-content",3)(4,"div")(5,"h5",4),l(6),a(),r(7,"p",5),l(8),a(),r(9,"div",6),k(10,q,2,1,"span",7,T),a()()(),r(12,"mat-card-actions",8)(13,"div",9),f(14,G,4,4,"span",10),a(),r(15,"div",11),f(16,W,2,0,"button",12),r(17,"button",13),d("click",function(y){return i.viewInTimeline(y)}),l(18,"Timeline"),a()()()()()),t&2&&(o(),j("background-image: url("+i.journeyData().thumbnail+"); background-size: cover; background-repeat: no-repeat;"),o(5),_(i.journeyData().name),o(2),_(i.journeyData().title),o(2),M(i.journeyData().tags),o(4),C("ngIf",i.journeyData().journeyDate))},dependencies:[S,H,Y,P,O,L,F,A,N],styles:["mat-card-content[_ngcontent-%COMP%]{background:#3459e61a}"],changeDetection:0})}}return n})();export{p as a,me as b};
