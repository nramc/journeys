import{a as ri,b as oi}from"./chunk-5VWSPFOY.js";import{a as gi}from"./chunk-4NOJE33V.js";import{a as di,b as ci,c as pi,d as mi,e as ui}from"./chunk-2S2HHDSH.js";import{a as ei,b as ti,e as ii,f as ni}from"./chunk-TTQP6MNE.js";import{a as ai,c as st,d as lt,e as si,f as dt,g as li,h as hi,i as fi,j as yi,k as vi}from"./chunk-DPVAYEHY.js";import{a as _i,b as qe}from"./chunk-ZANWBCAI.js";import"./chunk-P6EPXQIX.js";import{a as O}from"./chunk-NSTR4KO3.js";import{b as He,i as Yt,j as Xt,k as Zt}from"./chunk-OAWE6FLS.js";import"./chunk-NFMZM6WE.js";import{a as $t}from"./chunk-MPJYK47K.js";import"./chunk-VSQTGOJW.js";import{a as U}from"./chunk-KGTLCIL2.js";import"./chunk-EFSDVRKM.js";import{b as Wt,c as fe,g as ee,h as J,i as P,j as te,k as F,l as Ut,n as ze,o as We,p as Ue,q as Ht,r as qt,s as ye,u as Gt,v as Qt,x as N,y as Kt}from"./chunk-5J5H5FZW.js";import{b as Lt,e as zt}from"./chunk-RYPDM44F.js";import"./chunk-AQAPVU4D.js";import{c as et,d as tt,e as it,g as de,h as ce,j as nt,k as rt,l as ot}from"./chunk-CARY4E7O.js";import"./chunk-FUSGHHWI.js";import{a as ve}from"./chunk-JLMH4Y5A.js";import{a as he,b as at}from"./chunk-ERBC2I7N.js";import"./chunk-4HWMNETW.js";import{e as Vt,g as Ae,h as Jt}from"./chunk-F5TIGKWS.js";import{C as Rt,a as Nt,h as Ot,m as Bt,p as Re,v as Le,x as At}from"./chunk-FSWGUYTL.js";import{a as Pt,g as Ft}from"./chunk-IUL4I26V.js";import"./chunk-OU45453G.js";import{i as Tt,k as V,o as $e,q as jt,t as kt}from"./chunk-MIMT4L35.js";import{Ab as B,Ac as Xe,Bc as M,Db as Et,Dc as Ze,Ea as Ct,Eb as _e,Ec as le,Fa as m,Ga as u,Gb as Ye,Gc as Oe,Hc as Be,Ja as Ke,Jb as g,Jc as Mt,Nb as Ce,O as yt,Oa as me,Ob as c,Qb as $,Ra as z,Rb as wt,Sa as W,Sb as It,T as Ve,Ta as ue,Tb as D,Ua as xe,Vb as ae,Vc as we,Wb as j,Xb as k,Yb as r,Zb as o,Zc as ge,_b as b,_c as Dt,bc as se,ca as X,cc as x,da as pe,dc as Pe,ea as re,hc as _,i as Qe,j as ht,jc as p,kc as Se,la as Je,lc as Ee,ma as vt,mb as Z,mc as H,nc as Fe,o as be,oc as A,pa as bt,pc as R,qb as s,rb as h,sa as xt,tb as oe,tc as v,u as ke,ua as I,uc as l,vc as T,wa as L,wc as Ne,xb as St,xc as C,y as ft,yc as S,zc as E}from"./chunk-Y7SRRAOL.js";var Li=["*"];function zi(i,d){i&1&&Ee(0)}var ct=(()=>{class i{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(n){return new(n||i)(h(ue))}}static{this.\u0275dir=L({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return i})(),pt=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(h(oe))}}static{this.\u0275dir=L({type:i,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return i})(),Wi=0;var q={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},mt=new bt("STEPPER_GLOBAL_OPTIONS"),Ge=(()=>{class i{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new me,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static{this.\u0275fac=function(n){return new(n||i)(h(Je(()=>Ie)),h(mt,8))}}static{this.\u0275cmp=I({type:i,selectors:[["cdk-step"]],contentQueries:function(n,t,a){if(n&1&&H(a,pt,5),n&2){let f;A(f=R())&&(t.stepLabel=f.first)}},viewQuery:function(n,t){if(n&1&&Fe(oe,7),n&2){let a;A(a=R())&&(t.content=a.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",ge],optional:[2,"optional","optional",ge],completed:[2,"completed","completed",ge],hasError:[2,"hasError","hasError",ge]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[Ye,Ct,M],ngContentSelectors:Li,decls:1,vars:0,template:function(n,t){n&1&&(Se(),g(0,zi,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return i})(),Ie=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}constructor(e,n,t){this._dir=e,this._changeDetectorRef=n,this._elementRef=t,this._destroyed=new be,this.steps=new xe,this._sortedHeaders=new xe,this.linear=!1,this._selectedIndex=0,this.selectionChange=new me,this.selectedIndexChange=new me,this._orientation="horizontal",this._groupId=Wi++}ngAfterContentInit(){this._steps.changes.pipe(X(this._steps),re(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(X(this._stepHeader),re(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,t)=>n._elementRef.nativeElement.compareDocumentPosition(t._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Ot(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:ke()).pipe(X(this._layoutDirection()),re(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let n=e-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,n=q.NUMBER){let t=this.steps.toArray()[e],a=this._isCurrentStep(e);return t._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(t,a):this._getGuidelineLogic(t,a,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?q.ERROR:!e.completed||n?q.NUMBER:e.editable?q.EDIT:q.DONE}_getGuidelineLogic(e,n,t=q.NUMBER){return e._showError()&&e.hasError&&!n?q.ERROR:e.completed&&!n?q.DONE:e.completed&&n?t:e.editable&&n?q.EDIT:t}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let n=Nt(e),t=e.keyCode,a=this._keyManager;a.activeItemIndex!=null&&!n&&(t===32||t===13)?(this.selectedIndex=a.activeItemIndex,e.preventDefault()):a.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(n=>{let t=n.stepControl;return(t?t.invalid||t.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,n=Ft();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static{this.\u0275fac=function(n){return new(n||i)(h(Re,8),h(we),h(ue))}}static{this.\u0275dir=L({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(n,t,a){if(n&1&&(H(a,Ge,5),H(a,ct,5)),n&2){let f;A(f=R())&&(t._steps=f),A(f=R())&&(t._stepHeader=f)}},inputs:{linear:[2,"linear","linear",ge],selectedIndex:[2,"selectedIndex","selectedIndex",Dt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[Ye]})}}return i})(),Ci=(()=>{class i{constructor(e){this._stepper=e,this.type="submit"}static{this.\u0275fac=function(n){return new(n||i)(h(Ie))}}static{this.\u0275dir=L({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(n,t){n&1&&_("click",function(){return t._stepper.next()}),n&2&&Pe("type",t.type)},inputs:{type:"type"},standalone:!0})}}return i})();function Hi(i,d){if(i&1&&se(0,2),i&2){let e=p();c("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function qi(i,d){if(i&1&&(r(0,"span",7),l(1),o()),i&2){let e=p(2);s(),T(e._getDefaultTextForState(e.state))}}function Gi(i,d){if(i&1&&(r(0,"span",8),l(1),o()),i&2){let e=p(3);s(),T(e._intl.completedLabel)}}function Qi(i,d){if(i&1&&(r(0,"span",8),l(1),o()),i&2){let e=p(3);s(),T(e._intl.editableLabel)}}function Ki(i,d){if(i&1&&(g(0,Gi,2,1,"span",8)(1,Qi,2,1,"span",8),r(2,"mat-icon",7),l(3),o()),i&2){let e=p(2);D(e.state==="done"?0:e.state==="edit"?1:-1),s(3),T(e._getDefaultTextForState(e.state))}}function Yi(i,d){if(i&1&&g(0,qi,2,1,"span",7)(1,Ki,4,2,"mat-icon",7),i&2){let e,n=p();D((e=n.state)==="number"?0:1)}}function Xi(i,d){i&1&&(r(0,"div",4),se(1,9),o()),i&2&&(s(),c("ngTemplateOutlet",d.template))}function Zi(i,d){if(i&1&&(r(0,"div",4),l(1),o()),i&2){let e=p();s(),T(e.label)}}function $i(i,d){if(i&1&&(r(0,"div",5),l(1),o()),i&2){let e=p();s(),T(e._intl.optionalLabel)}}function en(i,d){if(i&1&&(r(0,"div",6),l(1),o()),i&2){let e=p();s(),T(e.errorMessage)}}var wi=["*"];function tn(i,d){}function nn(i,d){if(i&1&&(Ee(0),g(1,tn,0,0,"ng-template",0)),i&2){let e=p();s(),c("cdkPortalOutlet",e._portal)}}var Ii=(i,d)=>({step:i,i:d}),Mi=i=>({animationDuration:i}),Di=(i,d)=>({value:i,params:d});function rn(i,d){i&1&&Ee(0)}function on(i,d){i&1&&b(0,"div",6)}function an(i,d){if(i&1&&(se(0,5),g(1,on,1,0,"div",6)),i&2){let e=d.$implicit,n=d.$index,t=d.$count;p(2);let a=v(4);c("ngTemplateOutlet",a)("ngTemplateOutletContext",le(3,Ii,e,n)),s(),D(n!==t-1?1:-1)}}function sn(i,d){if(i&1){let e=x();r(0,"div",7),_("@horizontalStepTransition.done",function(t){m(e);let a=p(2);return u(a._animationDone.next(t))}),se(1,8),o()}if(i&2){let e=d.$implicit,n=d.$index,t=p(2);$("mat-horizontal-stepper-content-inactive",t.selectedIndex!==n),c("@horizontalStepTransition",le(8,Di,t._getAnimationDirection(n),Ze(6,Mi,t._getAnimationDuration())))("id",t._getStepContentId(n)),Ce("aria-labelledby",t._getStepLabelId(n)),s(),c("ngTemplateOutlet",e.content)}}function ln(i,d){if(i&1&&(r(0,"div",1)(1,"div",2),j(2,an,2,6,null,null,ae),o(),r(4,"div",3),j(5,sn,2,11,"div",4,ae),o()()),i&2){let e=p();s(2),k(e.steps),s(3),k(e.steps)}}function dn(i,d){if(i&1){let e=x();r(0,"div",9),se(1,5),r(2,"div",10)(3,"div",11),_("@verticalStepTransition.done",function(t){m(e);let a=p(2);return u(a._animationDone.next(t))}),r(4,"div",12),se(5,8),o()()()()}if(i&2){let e=d.$implicit,n=d.$index,t=d.$count,a=p(2),f=v(4);s(),c("ngTemplateOutlet",f)("ngTemplateOutletContext",le(10,Ii,e,n)),s(),$("mat-stepper-vertical-line",n!==t-1),s(),$("mat-vertical-stepper-content-inactive",a.selectedIndex!==n),c("@verticalStepTransition",le(15,Di,a._getAnimationDirection(n),Ze(13,Mi,a._getAnimationDuration())))("id",a._getStepContentId(n)),Ce("aria-labelledby",a._getStepLabelId(n)),s(2),c("ngTemplateOutlet",e.content)}}function cn(i,d){if(i&1&&j(0,dn,6,18,"div",9,ae),i&2){let e=p();k(e.steps)}}function pn(i,d){if(i&1){let e=x();r(0,"mat-step-header",13),_("click",function(){let t=m(e).step;return u(t.select())})("keydown",function(t){m(e);let a=p();return u(a._onKeydown(t))}),o()}if(i&2){let e=d.step,n=d.i,t=p();$("mat-horizontal-stepper-header",t.orientation==="horizontal")("mat-vertical-stepper-header",t.orientation==="vertical"),c("tabIndex",t._getFocusIndex()===n?0:-1)("id",t._getStepLabelId(n))("index",n)("state",t._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",t.selectedIndex===n)("active",t._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",t._iconOverrides)("disableRipple",t.disableRipple||!t._stepIsNavigable(n,e))("color",e.color||t.color),Ce("aria-posinset",n+1)("aria-setsize",t.steps.length)("aria-controls",t._getStepContentId(n))("aria-selected",t.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",t._stepIsNavigable(n,e)?null:!0)}}var Me=(()=>{class i extends pt{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ke(i)))(t||i)}})()}static{this.\u0275dir=L({type:i,selectors:[["","matStepLabel",""]],standalone:!0,features:[_e]})}}return i})(),mn=(()=>{class i{constructor(){this.changes=new be,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=vt({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Si=(()=>{class i extends ct{constructor(e,n,t,a){super(t),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>a.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof Me?null:this.label}_templateLabel(){return this.label instanceof Me?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static{this.\u0275fac=function(n){return new(n||i)(h(mn),h(Bt),h(ue),h(we))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(n,t){n&2&&wt("mat-"+(t.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[_e,M],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,t){if(n&1&&(b(0,"div",0),r(1,"div")(2,"div",1),g(3,Hi,1,2,"ng-container",2)(4,Yi,2,1),o()(),r(5,"div",3),g(6,Xi,2,1,"div",4)(7,Zi,2,1,"div",4)(8,$i,2,1,"div",5)(9,en,2,1,"div",6),o()),n&2){let a;c("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disableRipple),s(),It("mat-step-icon-state-",t.state," mat-step-icon"),$("mat-step-icon-selected",t.selected),s(2),D(t.iconOverrides&&t.iconOverrides[t.state]?3:4),s(2),$("mat-step-label-active",t.active)("mat-step-label-selected",t.selected)("mat-step-label-error",t.state=="error"),s(),D((a=t._templateLabel())?6:t._stringLabel()?7:-1,a),s(2),D(t.optional&&t.state!="error"?8:-1),s(),D(t.state==="error"?9:-1)}},dependencies:[At,$e,he],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-app-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-app-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-app-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-app-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-app-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-app-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-app-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-app-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-app-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-app-on-primary))}'],encapsulation:2,changeDetection:0})}}return i})(),Ti="500ms",ji="225ms",Ei={horizontalStepTransition:et("horizontalStepTransition",[ce("previous",de({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),ce("current",de({transform:"none",visibility:"inherit"})),ce("next",de({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),nt("* => *",it([tt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),ot("@*",rt(),{optional:!0})]),{params:{animationDuration:Ti}})]),verticalStepTransition:et("verticalStepTransition",[ce("previous",de({height:"0px",visibility:"hidden"})),ce("next",de({height:"0px",visibility:"hidden"})),ce("current",de({height:"*",visibility:"inherit"})),nt("* <=> current",it([tt("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),ot("@*",rt(),{optional:!0})]),{params:{animationDuration:ji}})])},un=(()=>{class i{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||i)(h(oe))}}static{this.\u0275dir=L({type:i,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0})}}return i})(),ut=(()=>{class i{constructor(e){this._template=e}static{this.\u0275fac=function(n){return new(n||i)(h(oe))}}static{this.\u0275dir=L({type:i,selectors:[["ng-template","matStepContent",""]],standalone:!0})}}return i})(),_t=(()=>{class i extends Ge{constructor(e,n,t,a){super(e,a),this._errorStateMatcher=n,this._viewContainerRef=t,this._isSelected=ht.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(pe(()=>this._stepper.selectionChange.pipe(ft(e=>e.selectedStep===this),X(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Lt(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){let t=this._errorStateMatcher.isErrorState(e,n),a=!!(e&&e.invalid&&this.interacted);return t||a}static{this.\u0275fac=function(n){return new(n||i)(h(Je(()=>gt)),h(Le,4),h(St),h(mt,8))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-step"]],contentQueries:function(n,t,a){if(n&1&&(H(a,Me,5),H(a,ut,5)),n&2){let f;A(f=R())&&(t.stepLabel=f.first),A(f=R())&&(t._lazyContent=f.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Xe([{provide:Le,useExisting:i},{provide:Ge,useExisting:i}]),_e,M],ngContentSelectors:wi,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,t){n&1&&(Se(),g(0,nn,2,1,"ng-template"))},dependencies:[zt],encapsulation:2,changeDetection:0})}}return i})(),gt=(()=>{class i extends Ie{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,n,t){super(e,n,t),this._stepHeader=void 0,this._steps=void 0,this.steps=new xe,this.animationDone=new me,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new be,this._animationDuration="",this._isServer=!xt(Pt).isBrowser;let a=t.nativeElement.nodeName.toLowerCase();this.orientation=a==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(re(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Ve((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),re(this._destroyed)).subscribe(e=>{e.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Ti:ji}static{this.\u0275fac=function(n){return new(n||i)(h(Re,8),h(we),h(ue))}}static{this.\u0275cmp=I({type:i,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,t,a){if(n&1&&(H(a,_t,5),H(a,un,5)),n&2){let f;A(f=R())&&(t._steps=f),A(f=R())&&(t._icons=f)}},viewQuery:function(n,t){if(n&1&&Fe(Si,5),n&2){let a;A(a=R())&&(t._stepHeader=a)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(n,t){n&2&&(Ce("aria-orientation",t.orientation),$("mat-stepper-horizontal",t.orientation==="horizontal")("mat-stepper-vertical",t.orientation==="vertical")("mat-stepper-label-position-end",t.orientation==="horizontal"&&t.labelPosition=="end")("mat-stepper-label-position-bottom",t.orientation==="horizontal"&&t.labelPosition=="bottom")("mat-stepper-header-position-bottom",t.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Xe([{provide:Ie,useExisting:i}]),_e,M],ngContentSelectors:wi,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,t){if(n&1&&(Se(),g(0,rn,1,0)(1,ln,7,0,"div",1)(2,cn,2,0)(3,pn,1,23,"ng-template",null,0,Mt)),n&2){let a;D(t._isServer?0:-1),s(),D((a=t.orientation)==="horizontal"?1:a==="vertical"?2:-1)}},dependencies:[$e,Si],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-app-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-app-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-app-outline));top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Ei.horizontalStepTransition,Ei.verticalStepTransition]},changeDetection:0})}}return i})(),ne=(()=>{class i extends Ci{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Ke(i)))(t||i)}})()}static{this.\u0275dir=L({type:i,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(n,t){n&2&&Pe("type",t.type)},standalone:!0,features:[_e]})}}return i})();function _n(i,d){i&1&&(r(0,"div"),l(1,"Name is required."),o())}function gn(i,d){i&1&&(r(0,"div"),l(1,"Name must be at least 5 characters long."),o())}function hn(i,d){i&1&&(r(0,"div"),l(1,"Name must be at most 50 characters long."),o())}function fn(i,d){i&1&&(r(0,"div"),l(1,"Category is required."),o())}function yn(i,d){i&1&&(r(0,"div"),l(1,"Category must be at least 3 characters long."),o())}function vn(i,d){i&1&&(r(0,"div"),l(1,"Category must be at most 16 characters long."),o())}function bn(i,d){i&1&&(r(0,"div"),l(1,"Title is required."),o())}function xn(i,d){i&1&&(r(0,"div"),l(1,"Title must be at least 10 characters long."),o())}function Cn(i,d){i&1&&(r(0,"div"),l(1,"Title must be at most 100 characters long."),o())}function Sn(i,d){if(i&1&&(r(0,"option",35),l(1),Oe(2,"titlecase"),o()),i&2){let e=d.$implicit;c("value",e),s(),T(Be(2,2,e))}}function En(i,d){i&1&&(r(0,"div"),l(1,"Icon is required."),o())}function wn(i,d){i&1&&(r(0,"div"),l(1,"Memories is required."),o())}function In(i,d){i&1&&(r(0,"div"),l(1,"Memories must be at least 10 characters long."),o())}function Mn(i,d){i&1&&(r(0,"div"),l(1,"Memories must be at most 5000 characters long."),o())}function Dn(i,d){if(i&1){let e=x();r(0,"mat-chip-row",71),_("removed",function(){let t=m(e).$implicit,a=p(2);return u(a.removeTag(t))}),l(1),r(2,"button",72),_("click",function(){let t=m(e).$implicit,a=p(2);return u(a.removeTag(t))}),r(3,"mat-icon"),l(4,"cancel"),o()()()}if(i&2){let e=d.$implicit;c("highlighted",!0)("editable",!1)("removable",!0),s(),Ne(" ",e," ")}}function Tn(i,d){i&1&&(r(0,"div"),l(1,"Longitude is required."),o())}function jn(i,d){i&1&&(r(0,"div"),l(1,"Longitude must be between -180.0 to 180.0."),o())}function kn(i,d){i&1&&(r(0,"div"),l(1,"Longitude must be between -180.0 to 180.0."),o())}function Vn(i,d){i&1&&(r(0,"div"),l(1,"Latitude is required."),o())}function Jn(i,d){i&1&&(r(0,"div"),l(1,"Latitude must be between -90.0 to 90.0."),o())}function Pn(i,d){i&1&&(r(0,"div"),l(1,"Latitude must be between -9 0.0 to 90.0."),o())}function Fn(i,d){i&1&&(r(0,"div"),l(1,"City is required."),o())}function Nn(i,d){i&1&&(r(0,"div"),l(1,"City must be at least 3 characters long."),o())}function On(i,d){i&1&&(r(0,"div"),l(1,"City must be at most 50 characters long."),o())}function Bn(i,d){i&1&&(r(0,"div"),l(1,"Country is required."),o())}function An(i,d){i&1&&(r(0,"div"),l(1,"Country must be at least 3 characters long."),o())}function Rn(i,d){i&1&&(r(0,"div"),l(1,"Country must be at most 50 characters long."),o())}function Ln(i,d){i&1&&(r(0,"div"),l(1,"Journey Date is required."),o())}function zn(i,d){if(i&1){let e=x();r(0,"form",13,0),_("ngSubmit",function(){m(e);let t=v(1),a=p();return u(a.save(t))}),r(2,"div",14)(3,"div",15),b(4,"app-feedback-message",16),o()(),r(5,"div",17)(6,"div",18)(7,"div",17)(8,"div",19)(9,"span",20),l(10,"ID"),o(),r(11,"input",21),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().id,t)||(a.journey().id=t),u(t)}),o()()(),r(12,"div",17)(13,"div",22)(14,"label",23),l(15,"Name"),o(),r(16,"input",24,1),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().name,t)||(a.journey().name=t),u(t)}),o(),r(18,"div",25),g(19,_n,2,0,"div",26)(20,gn,2,0,"div",26)(21,hn,2,0,"div",26),o()(),r(22,"div",27)(23,"label",28),l(24,"Category"),o(),r(25,"input",29,2),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().category,t)||(a.journey().category=t),u(t)}),o(),r(27,"div",25),g(28,fn,2,0,"div",26)(29,yn,2,0,"div",26)(30,vn,2,0,"div",26),o()()(),r(31,"div",17)(32,"div",30)(33,"label",31),l(34,"Title"),o(),r(35,"input",32,3),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().title,t)||(a.journey().title=t),u(t)}),o(),r(37,"div",25),g(38,bn,2,0,"div",26)(39,xn,2,0,"div",26)(40,Cn,2,0,"div",26),o()(),r(41,"div",27)(42,"label",33),l(43,"Icon"),o(),r(44,"select",34,4),_("change",function(){m(e);let t=p();return u(t.refreshMapWithCoordinates())}),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().icon,t)||(a.journey().icon=t),u(t)}),j(46,Sn,3,4,"option",35,ae),o(),r(48,"div",25),g(49,En,2,0,"div",26),o()()(),r(50,"div",36)(51,"label",37),l(52,"Memories"),o(),r(53,"mat-button-toggle-group",38),E("ngModelChange",function(t){m(e);let a=p();return S(a.markdownStyle,t)||(a.markdownStyle=t),u(t)}),r(54,"mat-button-toggle",39),l(55,"Edit"),o(),r(56,"mat-button-toggle",40),l(57,"Preview"),o()(),r(58,"textarea",41,5),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().description,t)||(a.journey().description=t),u(t)}),o(),r(60,"div",42),b(61,"app-display-markdown-component",43),o(),r(62,"div",25),g(63,wn,2,0,"div",26)(64,In,2,0,"div",26)(65,Mn,2,0,"div",26),o()(),r(66,"div",14)(67,"div",44)(68,"mat-chip-grid",45,6),j(70,Dn,5,4,"mat-chip-row",46,ae),r(72,"input",47),_("matChipInputTokenEnd",function(t){m(e);let a=p();return u(a.addTag(t))}),o()()(),r(73,"div",44)(74,"div",48)(75,"span",49),l(76,"Coordinates"),o(),r(77,"input",50,7),E("ngModelChange",function(t){m(e);let a=p();return S(a.coordinates[0],t)||(a.coordinates[0]=t),u(t)}),_("blur",function(){m(e);let t=p();return u(t.refreshMapWithCoordinates())}),o(),r(79,"button",51),l(80," Coordinates "),o(),r(81,"ul",52)(82,"li")(83,"button",53),_("click",function(){m(e);let t=p();return u(t.copyCoordinatesFromGoogleMap())}),l(84,"Paste coordinates copied from Google Map "),o()(),r(85,"li")(86,"button",53),_("click",function(){m(e);let t=p();return u(t.copyCoordinatesFromClipboard())}),l(87,"Paste from clipboard "),o()(),r(88,"li")(89,"button",53),_("click",function(){m(e);let t=p();return u(t.swapCoordinates())}),l(90,"Swap Coordinates"),o()()(),r(91,"input",54,8),E("ngModelChange",function(t){m(e);let a=p();return S(a.coordinates[1],t)||(a.coordinates[1]=t),u(t)}),_("blur",function(){m(e);let t=p();return u(t.refreshMapWithCoordinates())}),o()(),r(93,"div",55)(94,"div",56),g(95,Tn,2,0,"div",26)(96,jn,2,0,"div",26)(97,kn,2,0,"div",26),o(),r(98,"div",25),g(99,Vn,2,0,"div",26)(100,Jn,2,0,"div",26)(101,Pn,2,0,"div",26),o()()()(),r(102,"div",17)(103,"div",57)(104,"label",58),l(105,"City"),o(),r(106,"input",59,9),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().city,t)||(a.journey().city=t),u(t)}),o(),r(108,"div",25),g(109,Fn,2,0,"div",26)(110,Nn,2,0,"div",26)(111,On,2,0,"div",26),o()(),r(112,"div",57)(113,"label",60),l(114,"Country"),o(),r(115,"input",61,10),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().country,t)||(a.journey().country=t),u(t)}),o(),r(117,"div",25),g(118,Bn,2,0,"div",26)(119,An,2,0,"div",26)(120,Rn,2,0,"div",26),o()(),r(121,"div",57)(122,"label",62),l(123,"Journey Date"),o(),r(124,"div",63)(125,"input",64,11),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().journeyDate,t)||(a.journey().journeyDate=t),u(t)}),o(),r(128,"button",65),_("click",function(){m(e);let t=v(127);return u(t.toggle())}),o(),r(129,"div",25),g(130,Ln,2,0,"div",26),o()()()()(),r(131,"div",66),b(132,"app-world-map",67),o()(),r(133,"div",17)(134,"div",68)(135,"button",69),l(136," Save "),o(),r(137,"button",70),l(138,"Next "),o()()()()}if(i&2){let e=v(1),n=v(17),t=v(26),a=v(36),f=v(45),y=v(59),Oi=v(69),G=v(78),Q=v(92),K=v(107),Y=v(116),je=v(126),w=p();s(4),c("message",w.feedbackMessage()),s(7),C("ngModel",w.journey().id),s(5),C("ngModel",w.journey().name),s(2),c("hidden",n.valid||n.pristine),s(),c("ngIf",n.errors==null?null:n.errors.required),s(),c("ngIf",n.errors==null?null:n.errors.minlength),s(),c("ngIf",n.errors==null?null:n.errors.maxlength),s(4),C("ngModel",w.journey().category),c("ngbTypeahead",w.searchCategory),s(2),c("hidden",t.valid||t.pristine),s(),c("ngIf",t.errors==null?null:t.errors.required),s(),c("ngIf",t.errors==null?null:t.errors.minlength),s(),c("ngIf",t.errors==null?null:t.errors.maxlength),s(5),C("ngModel",w.journey().title),s(2),c("hidden",a.valid||a.pristine),s(),c("ngIf",a.errors==null?null:a.errors.required),s(),c("ngIf",a.errors==null?null:a.errors.minlength),s(),c("ngIf",a.errors==null?null:a.errors.maxlength),s(4),C("ngModel",w.journey().icon),s(2),k(w.SUPPORTED_ICONS),s(2),c("hidden",f.valid||f.pristine),s(),c("ngIf",f.errors==null?null:f.errors.required),s(4),C("ngModel",w.markdownStyle),s(5),C("ngModel",w.journey().description),c("hidden",w.markdownStyle()==="Preview"),s(2),c("hidden",w.markdownStyle()=="Source"),s(),c("title",w.journey().title)("markdownText",w.journey().description),s(),c("hidden",y.valid||y.pristine),s(),c("ngIf",y.errors==null?null:y.errors.required),s(),c("ngIf",y.errors==null?null:y.errors.minlength),s(),c("ngIf",y.errors==null?null:y.errors.maxlength),s(5),k(w.journey().tags),s(2),c("matChipInputFor",Oi)("matChipInputSeparatorKeyCodes",w.separatorKeysCodes)("matChipInputAddOnBlur",!0),s(5),C("ngModel",w.coordinates[0]),s(14),C("ngModel",w.coordinates[1]),s(3),c("hidden",G.valid||G.pristine),s(),c("ngIf",G.errors==null?null:G.errors.required),s(),c("ngIf",G.errors==null?null:G.errors.min),s(),c("ngIf",G.errors==null?null:G.errors.max),s(),c("hidden",Q.valid||Q.pristine),s(),c("ngIf",Q.errors==null?null:Q.errors.required),s(),c("ngIf",Q.errors==null?null:Q.errors.min),s(),c("ngIf",Q.errors==null?null:Q.errors.max),s(5),C("ngModel",w.journey().city),s(2),c("hidden",K.valid||K.pristine),s(),c("ngIf",K.errors==null?null:K.errors.required),s(),c("ngIf",K.errors==null?null:K.errors.minlength),s(),c("ngIf",K.errors==null?null:K.errors.maxlength),s(4),C("ngModel",w.journey().country),s(2),c("hidden",Y.valid||Y.pristine),s(),c("ngIf",Y.errors==null?null:Y.errors.required),s(),c("ngIf",Y.errors==null?null:Y.errors.minlength),s(),c("ngIf",Y.errors==null?null:Y.errors.maxlength),s(5),C("ngModel",w.journey().journeyDate),s(4),c("hidden",je.valid||je.pristine),s(),c("ngIf",je.errors==null?null:je.errors.required),s(2),c("geoJsonData",w.journey().location)("iconType",w.journey().icon),s(3),c("disabled",!e.form.valid),s(2),c("disabled",!e.form.valid)}}var ki=(()=>{class i{constructor(e,n){this.journeyService=e,this.autoCompleteService=n,this.separatorKeysCodes=[13,188,32],this.markdownStyle=B("Source"),this.savedEvent=z({alias:"saved"}),this.feedbackMessage=B({}),this.journey=W.required(),this.coordinates=[],this.searchCategory=t=>t.pipe(X(""),yt(200),Ve(),pe(a=>a.length<1?ke([]):this.autoCompleteService.getAvailableCategories(a.toLowerCase()))),this.SUPPORTED_ICONS=_i}ngOnInit(){this.coordinates=this.journey().location.coordinates}onError(e,n){this.feedbackMessage.set({error:e}),console.error(n)}onUpdateSuccess(e){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.savedEvent.emit(e)}addTag(e){let n=(e.value||"").toLowerCase().trim();n&&this.journey().tags.push(n),e.chipInput.clear()}removeTag(e){let n=this.journey().tags.indexOf(e);n>=0&&this.journey().tags.splice(n,1)}refreshMapWithCoordinates(){setTimeout(()=>{this.coordinates.length==2&&(this.journey().location={type:"Point",coordinates:this.coordinates})},100)}save(e){console.debug("Submitted form data:",e),this.journeyService.saveJourneyBasicDetails(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while saving data",n)})}swapCoordinates(){let e=this.coordinates[0];this.coordinates[0]=this.coordinates[1],this.coordinates[1]=e,this.refreshMapWithCoordinates()}copyCoordinatesFromGoogleMap(){return Qe(this,null,function*(){let e=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",e),e){let n=e.split(",");this.coordinates[0]=Number(n.length<2?n[0]:n[1]),this.coordinates[1]=Number(n[0]),this.refreshMapWithCoordinates()}})}copyCoordinatesFromClipboard(){return Qe(this,null,function*(){let e=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",e),e){let n=e.split(",");this.coordinates[0]=Number(n[0]),this.coordinates[1]=Number(n.length>=2?n[1]:n[0]),this.refreshMapWithCoordinates()}})}static{this.\u0275fac=function(n){return new(n||i)(h(O),h(gi))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","50","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["name","markdownStyle","aria-label","Markdown Style","hideSingleSelectionIndicator","true",1,"ignore-highlight","ms-2",3,"ngModelChange","ngModel"],["value","Source"],["value","Preview"],["rows","15","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control","vh-50",3,"ngModelChange","ngModel","hidden"],[2,"height","25rem",3,"hidden"],[3,"title","markdownText"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","blur","ngModel"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-light","input-group-text","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark"],["type","button",1,"dropdown-item",3,"click"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","blur","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-4"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData","iconType"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(n,t){n&1&&g(0,zn,139,61,"form",12),n&2&&c("ngIf",t.journey)},dependencies:[U,N,F,We,Ue,fe,Ut,ze,ee,J,ye,Gt,Qt,qt,Ht,te,P,V,Zt,at,he,ui,pi,mi,di,ci,He,ne,qe,jt,vi,fi,yi,hi],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}}return i})();function Wn(i,d){if(i&1){let e=x();r(0,"form",2,0),_("ngSubmit",function(){m(e);let t=v(1),a=p();return u(a.save(t))}),r(2,"div",3)(3,"div",4),b(4,"app-feedback-message",5),o()(),r(5,"div",6)(6,"div",7)(7,"div")(8,"label",8)(9,"span"),l(10,"Tip:"),o(),r(11,"a",9),l(12,"GeoJson Creator"),o()(),r(13,"textarea",10),E("ngModelChange",function(t){m(e);let a=p();return S(a.geoJsonString,t)||(a.geoJsonString=t),u(t)}),_("change",function(){m(e);let t=p();return u(t.reloadMap())}),l(14),Oe(15,"json"),o()()(),r(16,"div",11),b(17,"app-world-map",12),o()(),r(18,"div",13)(19,"div",14)(20,"button",15),l(21," Save "),o(),r(22,"button",16),l(23,"Next "),o()()()()}if(i&2){let e,n=v(1),t=p();s(4),c("message",t.feedbackMessage()),s(9),C("ngModel",t.geoJsonString),s(),Ne("          ",Be(15,6,(e=t.journey().extendedDetails)==null||e.geoDetails==null?null:e.geoDetails.geoJson),`
        `),s(3),c("geoJsonData",t.formGeoDetails.geoJson),s(3),c("disabled",!n.form.valid),s(2),c("disabled",!n.form.valid)}}var Vi=(()=>{class i{constructor(e){this.journeyService=e,this.savedEvent=z({alias:"saved"}),this.feedbackMessage=B({}),this.journey=W.required(),this.formGeoDetails=new st(void 0),this.geoJsonString=""}ngOnInit(){this.journey().extendedDetails?.geoDetails?this.formGeoDetails=this.journey().extendedDetails.geoDetails:this.formGeoDetails=new st(this.journey().location),this.geoJsonString=JSON.stringify(this.formGeoDetails.geoJson)}save(e){console.debug("submitted form:",e),this.journeyService.saveJourneyGeoDetails(this.journey(),this.formGeoDetails).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while saving geo data",n)})}onUpdateSuccess(e){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.savedEvent.emit(e)}onError(e,n){this.feedbackMessage.set({error:e}),console.error(n)}reloadMap(){this.geoJsonString&&(this.formGeoDetails.geoJson=JSON.parse(this.geoJsonString))}static{this.\u0275fac=function(n){return new(n||i)(h(O))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(n,t){n&1&&g(0,Wn,24,8,"form",1),n&2&&c("ngIf",t.journey)},dependencies:[N,F,fe,ee,J,ye,te,P,U,qe,ne,V,kt],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"],changeDetection:0})}}return i})();var Ji=(()=>{class i{constructor(e){this.activeModel=e,this.imageItem=Et.required()}save(){this.activeModel.close(this.imageItem())}cancel(){this.activeModel.dismiss()}remove(){this.activeModel.close(this.imageItem()?.assetId)}static{this.\u0275fac=function(n){return new(n||i)(h(Yt))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:[1,"imageItem"]},outputs:{imageItem:"imageItemChange"},standalone:!0,features:[M],decls:48,vars:11,consts:[["d","ngbDatepicker"],[1,"container"],[1,"model-header","m-1"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly","align-items-center","align-content-center"],[1,"image-thumbnail","m-1","col-md-4","text-center"],["fill","",1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[3,"submit"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","publicId","name","publicId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","publicId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],[1,"input-group","input-group-sm","mb-1"],[1,"form-floating"],["type","text","id","eventDate","name","eventDate","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control","form-control-sm","ignore-highlight",3,"ngModelChange","ngModel"],["for","eventDate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","bi","bi-calendar3",3,"click"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],[1,"btn","btn-outline-primary","me-1"],["type","button",1,"btn","btn-outline-danger","me-1",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(n,t){if(n&1){let a=x();r(0,"div",1)(1,"div",2)(2,"h6",3),l(3,"Edit Image Details"),o()(),r(4,"div",4)(5,"div",5),b(6,"img",6),o(),r(7,"div",7)(8,"form",8),_("submit",function(){return m(a),u(t.save())}),r(9,"div",9)(10,"input",10),E("ngModelChange",function(y){return m(a),S(t.imageItem().url,y)||(t.imageItem().url=y),u(y)}),o(),r(11,"label",11),l(12,"Image URL"),o()(),r(13,"div",9)(14,"input",12),E("ngModelChange",function(y){return m(a),S(t.imageItem().assetId,y)||(t.imageItem().assetId=y),u(y)}),o(),r(15,"label",13),l(16,"Asset ID"),o()(),r(17,"div",9)(18,"input",14),E("ngModelChange",function(y){return m(a),S(t.imageItem().publicId,y)||(t.imageItem().publicId=y),u(y)}),o(),r(19,"label",15),l(20,"Public ID"),o()(),r(21,"div",9)(22,"input",16),E("ngModelChange",function(y){return m(a),S(t.imageItem().title,y)||(t.imageItem().title=y),u(y)}),o(),r(23,"label",17),l(24,"Title"),o()(),r(25,"div",18)(26,"div",19)(27,"input",20),E("ngModelChange",function(y){return m(a),S(t.imageItem().isFavorite,y)||(t.imageItem().isFavorite=y),u(y)}),o()(),b(28,"input",21),o(),r(29,"div",22)(30,"div",23)(31,"input",24,0),E("ngModelChange",function(y){return m(a),S(t.imageItem().eventDate,y)||(t.imageItem().eventDate=y),u(y)}),o(),r(33,"label",25),l(34,"Event Date"),o()(),r(35,"div",19)(36,"button",26),_("click",function(){m(a);let y=v(32);return u(y.toggle())}),o()()(),r(37,"div",18)(38,"div",19)(39,"input",27),E("ngModelChange",function(y){return m(a),S(t.imageItem().isThumbnail,y)||(t.imageItem().isThumbnail=y),u(y)}),o()(),b(40,"input",28),o(),r(41,"div",29)(42,"button",30),l(43,"Save"),o(),r(44,"button",31),_("click",function(){return m(a),u(t.remove())}),l(45,"Remove"),o(),r(46,"button",32),_("click",function(){return m(a),u(t.cancel())}),l(47,"Cancel"),o()()()()()()}n&2&&(s(6),c("src",t.imageItem().url,Z)("alt",t.imageItem().assetId)("title",t.imageItem().assetId),s(4),C("ngModel",t.imageItem().url),s(4),C("ngModel",t.imageItem().assetId),s(4),C("ngModel",t.imageItem().publicId),s(4),C("ngModel",t.imageItem().title),c("autofocus",!0),s(5),C("ngModel",t.imageItem().isFavorite),s(4),C("ngModel",t.imageItem().eventDate),s(8),C("ngModel",t.imageItem().isThumbnail))},dependencies:[N,F,fe,Wt,ee,J,te,P,He],encapsulation:2})}}return i})();var Hn=(i,d)=>d.assetId,qn=(i,d)=>({"border-success":i,"border-primary":d});function Gn(i,d){if(i&1){let e=x();r(0,"a",16),_("click",function(){let t=m(e).$implicit,a=p(2);return u(a.openImageItem(t))}),b(1,"img",17),o()}if(i&2){let e=d.$implicit;s(),c("src",e.url,Z)("title",e.assetId)("ngClass",le(3,qn,e.isThumbnail,!e.isThumbnail))}}function Qn(i,d){if(i&1){let e=x();r(0,"form",1),_("ngSubmit",function(){m(e);let t=p();return u(t.save())}),r(1,"div",2)(2,"div",3),b(3,"app-feedback-message",4),o()(),r(4,"div",5)(5,"div",3)(6,"div",6),j(7,Gn,2,6,"a",7,Hn),o()()(),r(9,"div",5)(10,"div",8)(11,"button",9),_("click",function(){m(e);let t=p();return u(t.openUploadWidget(!0))}),b(12,"i",10),r(13,"span",11),l(14,"Upload Image(s)"),o()(),r(15,"button",9),_("click",function(){m(e);let t=p();return u(t.openUploadWidget(!1))}),b(16,"i",12),r(17,"span",11),l(18,"Upload Image"),o()(),r(19,"button",13),l(20,"Next "),o(),r(21,"a",14),l(22,"Reduce Image Size"),b(23,"i",15),o()()()()}if(i&2){let e,n=p();s(3),c("message",n.feedbackMessage()),s(4),k(n.formImageDetails.images),s(12),c("disabled",!(!((e=n.journey().extendedDetails)==null||e.imagesDetails==null)&&e.imagesDetails.images))}}var Pi=(()=>{class i{constructor(e,n){this.journeyService=e,this.modelService=n,this.savedEvent=z({alias:"saved"}),this.journey=W.required(),this.feedbackMessage=B({}),this.formImageDetails=new lt}ngOnInit(){this.formImageDetails=this.journey().extendedDetails?.imagesDetails??new lt}addImage(e){this.formImageDetails.images.push(new si(e.secure_url,e.asset_id,e.public_id))}getWidgetParams(e,n){return{cloudName:ve.cloudName,uploadPreset:n?ve.cloudinaryPreset:ve.cloudinarySingleImgPreset,folder:`${ve.cloudBaseDir}/${e.id}`,tags:e.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:ve.stage,id:`${e.id}`},cropping:!n,showAdvancedOptions:!0,multiple:n}}onError(e,n){this.feedbackMessage.set({error:e}),console.error(n)}onUpdateSuccess(e){this.feedbackMessage.set({success:"Image Details saved successfully."}),this.savedEvent.emit(e)}save(){this.journeyService.saveJourneyImagesDetails(this.journey(),this.formImageDetails).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving images data",e)})}openUploadWidget(e=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey(),e),(n,t)=>{!n&&t&&t.event==="success"&&this.addImage(t.info),!n&&t&&t.event==="close"&&this.save()}).open()}openImageItem(e){let n=this.modelService.open(Ji,{animation:!0,size:"lg",backdrop:!0,centered:!0,scrollable:!0});n.componentInstance.imageItem.set(e),n.result.then(t=>{if(t&&typeof t=="object"){let a=this.journey().extendedDetails?.imagesDetails?.images?.find(f=>f.assetId==t.assertId);Object.assign(a??{},t)}else if(typeof t=="string"){let a=this.formImageDetails.images.findIndex(f=>f.assetId==t);a>=0&&this.formImageDetails.images.splice(a,1)}this.save()},t=>{console.log("Update cancelled, reason:",t)})}static{this.\u0275fac=function(n){return new(n||i)(h(O),h(Xt))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-images-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[M],decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center","align-items-end"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-folder-plus"],[1,"ms-2"],[1,"bi","bi-file-earmark-binary"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["role","link","routerLink","/tools","target","_blank",1,"text-decoration-none"],[1,"bi","bi-box-arrow-up-right","ms-1"],[1,"m-2","image-thumbnail-wrapper",3,"click"],["alt","thumbnail",1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","title","ngClass"]],template:function(n,t){n&1&&g(0,Qn,24,2,"form",0),n&2&&c("ngIf",t.journey())},dependencies:[U,N,F,J,P,V,ne,Tt,Jt],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"]})}}return i})();var Kn=(i,d)=>d.videoId;function Yn(i,d){if(i&1){let e=x();r(0,"div",11)(1,"button",15),_("click",function(){let t=m(e).$implicit,a=p(2);return u(a.removeVideoAndSaveJourney(t))}),l(2," X "),o(),b(3,"img",16),o()}if(i&2){let e=d.$implicit;s(3),c("src","https://img.youtube.com/vi/"+e.videoId+"/0.jpg",Z)("alt",e.videoId)("title",e.videoId)}}function Xn(i,d){i&1&&(r(0,"p",12),l(1,"No Videos available for the journey"),o())}function Zn(i,d){if(i&1){let e=x();r(0,"form",null,0)(2,"div",3)(3,"div",4),b(4,"app-feedback-message",5),o()(),r(5,"div",6)(6,"div",4)(7,"div",7),b(8,"input",8,1),r(10,"button",9),_("click",function(){m(e);let t=v(9);return p().addVideo(t.value),u(t.value="")}),l(11,"Add "),o()()()(),r(12,"div",6)(13,"div",4)(14,"div",10),j(15,Yn,4,3,"div",11,Kn),g(17,Xn,2,0,"p",12),o()()(),r(18,"div",6)(19,"div",13)(20,"button",14),l(21,"Next"),o()()()()}if(i&2){let e=p();s(4),c("message",e.feedbackMessage()),s(11),k(e.formVideosDetails.videos),s(2),D(e.formVideosDetails.videos.length?-1:17)}}var Fi=(()=>{class i{constructor(e){this.journeyService=e,this.journey=W.required(),this.savedEvent=z({alias:"saved"}),this.feedbackMessage=B({}),this.formVideosDetails=new dt}ngOnInit(){this.formVideosDetails=this.journey().extendedDetails?.videosDetails??new dt}addVideo(e){this.formVideosDetails.videos.push(new li(e)),this.save()}removeVideoAndSaveJourney(e){let n=this.formVideosDetails.videos.indexOf(e);n>=0&&(this.formVideosDetails.videos.splice(n,1),this.save())}save(){this.journeyService.saveJourneyVideosDetails(this.journey(),this.formVideosDetails).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving videos data",e)})}onUpdateSuccess(e){this.feedbackMessage.set({success:"Video Details saved successfully."}),this.savedEvent.emit(e)}onError(e,n){this.feedbackMessage.set({error:e}),console.error(n)}static{this.\u0275fac=function(n){return new(n||i)(h(O))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],["videoInput",""],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["aria-label","close",1,"btn","btn-sm","btn-outline-danger","btn-video-remove","rounded-2",3,"click"],[1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"]],template:function(n,t){n&1&&g(0,Zn,22,2,"form",2),n&2&&c("ngIf",t.journey())},dependencies:[U,N,F,J,P,V,Kt,ne],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{position:absolute;right:0}"]})}}return i})();var er=(i,d)=>d.assetId;function tr(i,d){i&1&&(r(0,"mat-error"),l(1,"Please choose visibility"),o())}function ir(i,d){i&1&&(r(0,"mat-icon",20),l(1,"check_circle"),o())}function nr(i,d){i&1&&(r(0,"mat-icon",21),l(1,"cancel"),o())}function rr(i,d){i&1&&(r(0,"mat-icon",20),l(1,"check_circle"),o())}function or(i,d){i&1&&(r(0,"mat-icon",21),l(1,"cancel"),o())}function ar(i,d){i&1&&(r(0,"mat-icon",20),l(1,"check_circle"),o())}function sr(i,d){i&1&&(r(0,"mat-icon",21),l(1,"cancel"),o())}function lr(i,d){i&1&&(r(0,"mat-icon",20),l(1,"check_circle"),o())}function dr(i,d){i&1&&(r(0,"mat-icon",21),l(1,"cancel"),o())}function cr(i,d){if(i&1&&(r(0,"option",26),l(1),o()),i&2){let e=d.$implicit;c("value",e.url),s(),T(e.assetId)}}function pr(i,d){if(i&1&&(r(0,"div",43),b(1,"img",44),o()),i&2){p();let e=v(47);s(),c("src",e.value,Z)("alt",e.value)}}function mr(i,d){if(i&1){let e=x();r(0,"button",42),_("click",function(){m(e),p();let t=v(59);return u(t.showModal())}),l(1," Delete Journey "),o()}}function ur(i,d){if(i&1){let e=x();r(0,"button",45),_("click",function(){m(e),p();let t=v(1),a=p();return u(a.save(t))}),l(1," Save as Draft "),o()}if(i&2){p();let e=v(1);c("disabled",!e.form.valid)}}function _r(i,d){if(i&1&&(r(0,"button",46),l(1," Publish "),o()),i&2){p();let e=v(1);c("disabled",!e.form.valid)}}function gr(i,d){if(i&1){let e=x();r(0,"form",5,0),_("ngSubmit",function(){m(e);let t=v(1),a=p();return u(a.publish(t))}),r(2,"div",6)(3,"div",7),b(4,"app-feedback-message",8),o()(),r(5,"div",9)(6,"div",7)(7,"mat-form-field",10)(8,"mat-label"),l(9,"Visibility"),o(),r(10,"mat-select",11,1),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().visibilities,t)||(a.journey().visibilities=t),u(t)}),r(12,"mat-option",12),l(13,"MYSELF"),o(),r(14,"mat-option",13),l(15,"ADMINISTRATOR"),o(),r(16,"mat-option",14),l(17,"MAINTAINER"),o(),r(18,"mat-option",15),l(19,"AUTHENTICATED_USER"),o(),r(20,"mat-option",16),l(21,"GUEST"),o()(),g(22,tr,2,0,"mat-error"),o()()(),r(23,"div",9)(24,"div",17)(25,"ul",18)(26,"li",19),l(27,"Basic Details "),g(28,ir,2,0,"mat-icon",20)(29,nr,2,0,"mat-icon",21),o(),r(30,"li",19),l(31,"Geo Details "),g(32,rr,2,0,"mat-icon",20)(33,or,2,0,"mat-icon",21),o(),r(34,"li",19),l(35,"Images Details "),g(36,ar,2,0,"mat-icon",20)(37,sr,2,0,"mat-icon",21),o(),r(38,"li",19),l(39,"Videos Details "),g(40,lr,2,0,"mat-icon",20)(41,dr,2,0,"mat-icon",21),o()()(),r(42,"div",22)(43,"div",23)(44,"label",24),l(45,"Thumbnail"),o(),r(46,"select",25,2),E("ngModelChange",function(t){m(e);let a=p();return S(a.journey().thumbnail,t)||(a.journey().thumbnail=t),u(t)}),r(48,"option",26),l(49,"Default"),o(),j(50,cr,2,2,"option",26,er),o()(),g(52,pr,2,2,"div",27),o()(),r(53,"div",28)(54,"div",29),g(55,mr,2,0,"button",30)(56,ur,2,1,"button",31)(57,_r,2,1,"button",32),o()(),r(58,"dialog",33,3)(60,"div",34)(61,"div",35)(62,"div",36)(63,"mat-icon",37),l(64,"delete_forever"),o()(),r(65,"div",38)(66,"p",39),l(67,"Are you sure you want to delete the journey ?"),o()()(),r(68,"div",40)(69,"button",41),_("click",function(){m(e);let t=v(59);return u(t.close())}),l(70,"No, Keep it"),o(),r(71,"button",42),_("click",function(){m(e);let t=v(59),a=p();return t.close(),u(a.delete())}),l(72,"Yes, Delete forever"),o()()()()()}if(i&2){let e,n=v(11),t=v(47),a=p();s(4),c("message",a.feedbackMessage()),s(6),C("ngModel",a.journey().visibilities),s(2),c("disabled",!0),s(10),D(n.hasError("required")?22:-1),s(6),D(a.isBasicDetailsAvailableAndValid()?28:29),s(4),D(a.isGeoJsonAvailable()?32:33),s(4),D(a.isImagesDetailsAvailable()?36:37),s(4),D(a.isVideosDetailsAvailable()?40:41),s(6),C("ngModel",a.journey().thumbnail),s(2),c("value",a.DEFAULT_THUMBNAIL),s(2),k((e=a.journey().extendedDetails)==null||e.imagesDetails==null?null:e.imagesDetails.images),s(2),c("ngIf",t.value&&t.value!="default")}}var Ni=(()=>{class i{constructor(e,n){this.router=e,this.journeyService=n,this.DEFAULT_THUMBNAIL=ai,this.journey=W.required(),this.savedEvent=z({alias:"saved"}),this.feedbackMessage=B({})}isBasicDetailsAvailableAndValid(){return this.journey().id!=""&&this.journey().name!=""&&this.journey().title!=""&&this.journey().description!=""&&this.journey().city!=""&&this.journey().country!=""&&this.journey().journeyDate!=""&&this.journey().category!=""&&this.journey().tags?.length>0&&this.journey().location!=null}isGeoJsonAvailable(){return this.journey().extendedDetails?.geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey().extendedDetails?.imagesDetails?.images?.length??!1}isVideosDetailsAvailable(){return this.journey().extendedDetails?.videosDetails?.videos?.length??!1}publish(e){console.debug("submitted form:",e),this.journey().isPublished=!0,this.journeyService.publishJourney(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while publishing data",n)})}save(e){e.valid&&(this.journey().isPublished=!1,this.journeyService.publishJourney(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while publishing data",n)}))}onError(e,n){this.feedbackMessage.set({error:e}),console.error(n)}onUpdateSuccess(e){let n=e.isPublished?"Journey published successfully.":"Journey saved successfully";this.feedbackMessage.set({success:n}),this.savedEvent.emit(e)}delete(){this.feedbackMessage.set({loading:"Please wait while your request processing..."}),this.journeyService.deleteJourney(this.journey()).subscribe({next:e=>this.onDeleteSuccess(),error:e=>this.onError("Unexpected error while publishing data",e)})}onDeleteSuccess(){this.feedbackMessage.set({success:"Journey deleted successfully"}),setTimeout(()=>this.router.navigate(["journey"]),1e3)}static{this.\u0275fac=function(n){return new(n||i)(h(Ae),h(O))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],["deleteJourneyDialog",""],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end"],["color","warn",1,"float-end"],[1,"col-12","col-md-8","mt-2","mt-md-0"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","class","btn btn-outline-danger",3,"click",4,"hasWriteAccess"],["type","button","class","btn btn-outline-primary",3,"disabled","click",4,"hasWriteAccess"],["type","submit","class","btn btn-outline-success",3,"disabled",4,"hasWriteAccess"],["id","deleteJourneyDialog",1,"border-0","rounded","rounded-3"],[1,"d-flex","flex-column","justify-content-center","align-content-center","align-items-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"p-3"],[1,"fs-3","text-danger"],[1,"mt-2"],[1,"text-danger"],[1,"d-flex","gap-3"],["type","button","autofocus","",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"text-center"],[1,"journey-thumbnail-img","rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"]],template:function(n,t){n&1&&g(0,gr,73,11,"form",4),n&2&&c("ngIf",t.journey())},dependencies:[he,N,F,We,Ue,ze,ee,J,ye,te,P,V,U,ni,ii,ei,ti,oi,ri,Rt,$t],styles:[".journey-thumbnail-img[_ngcontent-%COMP%]{width:30rem;height:15rem}"]})}}return i})();function hr(i,d){i&1&&l(0,"Memories")}function fr(i,d){if(i&1){let e=x();r(0,"app-edit-journey-basic-data",12),_("saved",function(t){m(e);let a=p(2);return u(a.savedEventHandler(t))}),o()}if(i&2){let e=p(2);c("journey",e.journey)}}function yr(i,d){i&1&&l(0,"Geography")}function vr(i,d){if(i&1){let e=x();r(0,"app-edit-journey-geo-details",12),_("saved",function(t){m(e);let a=p(2);return u(a.savedEventHandler(t))}),o()}if(i&2){let e=p(2);c("journey",e.journey)}}function br(i,d){i&1&&l(0,"Images")}function xr(i,d){if(i&1){let e=x();r(0,"app-edit-journey-images-details",12),_("saved",function(t){m(e);let a=p(2);return u(a.savedEventHandler(t))}),o()}if(i&2){let e=p(2);c("journey",e.journey)}}function Cr(i,d){i&1&&l(0,"Videos")}function Sr(i,d){if(i&1){let e=x();r(0,"app-edit-journey-videos-details",12),_("saved",function(t){m(e);let a=p(2);return u(a.savedEventHandler(t))}),o()}if(i&2){let e=p(2);c("journey",e.journey)}}function Er(i,d){i&1&&l(0,"Publish")}function wr(i,d){if(i&1){let e=x();r(0,"app-edit-journey-publish-details",12),_("saved",function(t){m(e);let a=p(2);return u(a.savedEventHandler(t))}),o()}if(i&2){let e=p(2);c("journey",e.journey)}}function Ir(i,d){if(i&1){let e=x();r(0,"section",1)(1,"div",2)(2,"div",3)(3,"h4")(4,"span",4),l(5),o(),r(6,"button",5),_("click",function(){m(e);let t=p();return u(t.viewJourney(t.journey))}),b(7,"i",6),o()()()(),r(8,"mat-stepper",7)(9,"mat-step",8),g(10,hr,1,0,"ng-template",9)(11,fr,1,1,"ng-template",10),o(),r(12,"mat-step",11),_("interacted",function(t){m(e);let a=p();return u(a.stepsEventHandler(t))}),g(13,yr,1,0,"ng-template",9)(14,vr,1,1,"ng-template",10),o(),r(15,"mat-step",11),_("interacted",function(t){m(e);let a=p();return u(a.stepsEventHandler(t))}),g(16,br,1,0,"ng-template",9)(17,xr,1,1,"ng-template",10),o(),r(18,"mat-step",11),_("interacted",function(t){m(e);let a=p();return u(a.stepsEventHandler(t))}),g(19,Cr,1,0,"ng-template",9)(20,Sr,1,1,"ng-template",10),o(),r(21,"mat-step",11),_("interacted",function(t){m(e);let a=p();return u(a.stepsEventHandler(t))}),g(22,Er,1,0,"ng-template",9)(23,wr,1,1,"ng-template",10),o()()()}if(i&2){let e=p();s(5),T(e.journey.name),s(4),c("completed",e.journey.id)}}var Qa=(()=>{class i{constructor(e,n,t){this.route=e,this.journeyService=n,this.router=t}ngOnInit(){this.fetchJourney()}stepsEventHandler(e){this.fetchJourney()}savedEventHandler(e){this.journey=e}fetchJourney(){this.route.paramMap.pipe(pe(e=>this.journeyService.getJourneyById(e.get("id")))).subscribe({next:e=>this.journey=e,error:e=>console.error(e)})}viewJourney(e){this.router.navigate(["/journey",e.id,"view"]).then()}static{this.\u0275fac=function(n){return new(n||i)(h(Vt),h(O),h(Ae))}}static{this.\u0275cmp=I({type:i,selectors:[["app-edit-journey"]],standalone:!0,features:[M],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text","me-1"],["type","button","title","View Journey",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-eye-fill"],["orientation","horizontal"],[3,"completed"],["matStepLabel",""],["matStepContent",""],[3,"interacted"],[3,"saved","journey"]],template:function(n,t){n&1&&g(0,Ir,24,2,"section",0),n&2&&c("ngIf",t.journey)},dependencies:[gt,_t,ki,Vi,Pi,Me,ut,Fi,Ni,V],styles:["@media (max-width: 767.98px){[_nghost-%COMP%]     .mat-horizontal-stepper-header{flex-direction:column!important}[_nghost-%COMP%]     .mat-stepper-horizontal-line{display:contents}}"]})}}return i})();export{Qa as EditJourneyComponent};
