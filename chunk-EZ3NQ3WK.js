import{a as mi,b as ui}from"./chunk-WDEUVBEP.js";import{a as Ci}from"./chunk-DLS2IXCB.js";import{a as hi,b as fi,c as yi,d as vi,e as bi}from"./chunk-5KCN7324.js";import{a as si,b as di,e as ci,f as pi}from"./chunk-UCIFE4H3.js";import{a as _i,b as Qe,c as ct,d as pt,e as mt,f as ut,g as gi,h as Si,i as Ei,j as wi,k as Ii}from"./chunk-I3LXRWA2.js";import{a as xi,b as Ke}from"./chunk-GJIRK35P.js";import"./chunk-GYUILPC2.js";import{a as z}from"./chunk-CPB4CRZX.js";import{b as Ge,i as ri}from"./chunk-GF3ULKSG.js";import"./chunk-OAP2WDXR.js";import{a as li}from"./chunk-H4XOGC4U.js";import{a as ai}from"./chunk-E7ICUXXM.js";import"./chunk-VSQTGOJW.js";import{a as H}from"./chunk-TBFZGPPR.js";import"./chunk-YGHMYHO4.js";import"./chunk-AOMZEFOI.js";import{b as Kt,e as Yt}from"./chunk-JA4JGXDI.js";import{c as ot,d as rt,e as at,g as ce,h as pe,j as lt,k as st,l as dt}from"./chunk-NWXFWB74.js";import{b as Xt,c as ye,f as Zt,h as te,i as L,j as A,k as ie,l as R,m as $t,o as Ue,p as qe,q as He,r as ei,s as ti,t as ve,v as ii,w as ni,y as W,z as oi}from"./chunk-6OHNXZFP.js";import{a as be}from"./chunk-BZBETYD3.js";import{a as fe,b as nt}from"./chunk-RYITIG3B.js";import"./chunk-R6MPEOK3.js";import{B as Ht,E as We,K as ze,M as Gt,R as Qt,a as Wt,f as zt,i as Ut,w as qt}from"./chunk-A2N4MVAO.js";import{e as At,g as Re,h as Rt}from"./chunk-EGCIWAOK.js";import"./chunk-HLWHUVVB.js";import{A as Lt,i as Nt,k as O,o as it,q as Bt,t as Ot}from"./chunk-T74QBNJG.js";import{$c as Ft,Ac as M,Bb as J,Ca as wt,Cb as ge,Cc as tt,Da as m,Dc as de,Ea as u,Eb as Ze,Fc as Le,Gc as Ae,Ha as Xe,Hb as _,Ic as Jt,Lb as Se,M as Ct,Ma as me,Mb as c,Ob as ee,Pa as Fe,Pb as $e,Qa as It,Qb as Tt,R as ke,Ra as ue,Rb as jt,Sa as Ce,Sb as V,Ub as le,Vb as P,Vc as Ie,Wb as F,Xb as o,Yb as r,Zb as w,Zc as he,_c as Pt,a as T,aa as $,ac as se,b as j,ba as Je,bc as C,ca as re,cc as Ne,gc as f,i as bt,ic as p,ja as Pe,jc as Ee,ka as St,kb as _e,kc as we,lc as q,mc as Be,n as xe,na as Et,nc as N,ob as l,oc as B,pb as E,qa as S,qc as Vt,rb as ae,rc as kt,sa as D,sc as y,t as Ve,tc as s,ua as U,uc as k,vb as Dt,vc as Oe,wc as v,x as xt,xc as b,yb as G,yc as x,zb as Mt,zc as et}from"./chunk-VRY62XD3.js";var Qi=["*"];function Ki(i,d){i&1&&we(0)}var _t=(()=>{class i{constructor(e){this._elementRef=e}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(n){return new(n||i)(E(ue))}}static{this.\u0275dir=U({type:i,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}}return i})(),gt=(()=>{class i{constructor(e){this.template=e}static{this.\u0275fac=function(n){return new(n||i)(E(ae))}}static{this.\u0275dir=U({type:i,selectors:[["","cdkStepLabel",""]],standalone:!0})}}return i})(),Yi=0;var Q={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},ht=new Et("STEPPER_GLOBAL_OPTIONS"),Ye=(()=>{class i{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(e){this._completedOverride=e}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(e){this._customError=e}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(e,n){this._stepper=e,this.interacted=!1,this.interactedStream=new me,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=n||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&(this._childForms?.forEach(e=>e.resetForm?.()),this.stepControl.reset())}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}static{this.\u0275fac=function(n){return new(n||i)(E(Pe(()=>De)),E(ht,8))}}static{this.\u0275cmp=D({type:i,selectors:[["cdk-step"]],contentQueries:function(n,t,a){if(n&1&&(q(a,gt,5),q(a,Zt,5)),n&2){let h;N(h=B())&&(t.stepLabel=h.first),N(h=B())&&(t._childForms=h)}},viewQuery:function(n,t){if(n&1&&Be(ae,7),n&2){let a;N(a=B())&&(t.content=a.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",he],optional:[2,"optional","optional",he],completed:[2,"completed","completed",he],hasError:[2,"hasError","hasError",he]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[Ze,wt,M],ngContentSelectors:Qi,decls:1,vars:0,template:function(n,t){n&1&&(Ee(),_(0,Ki,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}}return i})(),De=(()=>{class i{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this.steps&&this._steps?(this._isValidIndex(e),this.selected?._markAsInteracted(),this._selectedIndex!==e&&!this._anyControlsInvalidOrPending(e)&&(e>=this._selectedIndex||this.steps.toArray()[e].editable)&&this._updateSelectedItemIndex(e)):this._selectedIndex=e}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(e){this.selectedIndex=e&&this.steps?this.steps.toArray().indexOf(e):-1}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this._keyManager&&this._keyManager.withVerticalOrientation(e==="vertical")}constructor(e,n,t){this._dir=e,this._changeDetectorRef=n,this._elementRef=t,this._destroyed=new xe,this.steps=new Ce,this._sortedHeaders=new Ce,this.linear=!1,this._selectedIndex=0,this.selectionChange=new me,this.selectedIndexChange=new me,this._orientation="horizontal",this._groupId=Yi++}ngAfterContentInit(){this._steps.changes.pipe($(this._steps),re(this._destroyed)).subscribe(e=>{this.steps.reset(e.filter(n=>n._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe($(this._stepHeader),re(this._destroyed)).subscribe(e=>{this._sortedHeaders.reset(e.toArray().sort((n,t)=>n._elementRef.nativeElement.compareDocumentPosition(t._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new qt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:Ve()).pipe($(this._layoutDirection()),re(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(e=>e.reset()),this._stateChanged()}_getStepLabelId(e){return`cdk-step-label-${this._groupId}-${e}`}_getStepContentId(e){return`cdk-step-content-${this._groupId}-${e}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(e){let n=e-this._selectedIndex;return n<0?this._layoutDirection()==="rtl"?"next":"previous":n>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(e,n=Q.NUMBER){let t=this.steps.toArray()[e],a=this._isCurrentStep(e);return t._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(t,a):this._getGuidelineLogic(t,a,n)}_getDefaultIndicatorLogic(e,n){return e._showError()&&e.hasError&&!n?Q.ERROR:!e.completed||n?Q.NUMBER:e.editable?Q.EDIT:Q.DONE}_getGuidelineLogic(e,n,t=Q.NUMBER){return e._showError()&&e.hasError&&!n?Q.ERROR:e.completed&&!n?Q.DONE:e.completed&&n?t:e.editable&&n?Q.EDIT:t}_isCurrentStep(e){return this._selectedIndex===e}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(e){let n=this.steps.toArray();this.selectionChange.emit({selectedIndex:e,previouslySelectedIndex:this._selectedIndex,selectedStep:n[e],previouslySelectedStep:n[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(e):this._keyManager.updateActiveItem(e),this._selectedIndex=e,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(e){let n=Ut(e),t=e.keyCode,a=this._keyManager;a.activeItemIndex!=null&&!n&&(t===32||t===13)?(this.selectedIndex=a.activeItemIndex,e.preventDefault()):a.setFocusOrigin("keyboard").onKeydown(e)}_anyControlsInvalidOrPending(e){return this.linear&&e>=0?this.steps.toArray().slice(0,e).some(n=>{let t=n.stepControl;return(t?t.invalid||t.pending||!n.interacted:!n.completed)&&!n.optional&&!n._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let e=this._elementRef.nativeElement,n=zt();return e===n||e.contains(n)}_isValidIndex(e){return e>-1&&(!this.steps||e<this.steps.length)}static{this.\u0275fac=function(n){return new(n||i)(E(We,8),E(Ie),E(ue))}}static{this.\u0275dir=U({type:i,selectors:[["","cdkStepper",""]],contentQueries:function(n,t,a){if(n&1&&(q(a,Ye,5),q(a,_t,5)),n&2){let h;N(h=B())&&(t._steps=h),N(h=B())&&(t._stepHeader=h)}},inputs:{linear:[2,"linear","linear",he],selectedIndex:[2,"selectedIndex","selectedIndex",Pt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[Ze]})}}return i})(),Ti=(()=>{class i{constructor(e){this._stepper=e,this.type="submit"}static{this.\u0275fac=function(n){return new(n||i)(E(De))}}static{this.\u0275dir=U({type:i,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(n,t){n&1&&f("click",function(){return t._stepper.next()}),n&2&&Ne("type",t.type)},inputs:{type:"type"},standalone:!0})}}return i})();function Zi(i,d){if(i&1&&se(0,2),i&2){let e=p();c("ngTemplateOutlet",e.iconOverrides[e.state])("ngTemplateOutletContext",e._getIconContext())}}function $i(i,d){if(i&1&&(o(0,"span",7),s(1),r()),i&2){let e=p(2);l(),k(e._getDefaultTextForState(e.state))}}function en(i,d){if(i&1&&(o(0,"span",8),s(1),r()),i&2){let e=p(3);l(),k(e._intl.completedLabel)}}function tn(i,d){if(i&1&&(o(0,"span",8),s(1),r()),i&2){let e=p(3);l(),k(e._intl.editableLabel)}}function nn(i,d){if(i&1&&(_(0,en,2,1,"span",8)(1,tn,2,1,"span",8),o(2,"mat-icon",7),s(3),r()),i&2){let e=p(2);V(e.state==="done"?0:e.state==="edit"?1:-1),l(3),k(e._getDefaultTextForState(e.state))}}function on(i,d){if(i&1&&_(0,$i,2,1,"span",7)(1,nn,4,2,"mat-icon",7),i&2){let e,n=p();V((e=n.state)==="number"?0:1)}}function rn(i,d){i&1&&(o(0,"div",4),se(1,9),r()),i&2&&(l(),c("ngTemplateOutlet",d.template))}function an(i,d){if(i&1&&(o(0,"div",4),s(1),r()),i&2){let e=p();l(),k(e.label)}}function ln(i,d){if(i&1&&(o(0,"div",5),s(1),r()),i&2){let e=p();l(),k(e._intl.optionalLabel)}}function sn(i,d){if(i&1&&(o(0,"div",6),s(1),r()),i&2){let e=p();l(),k(e.errorMessage)}}var ki=["*"];function dn(i,d){}function cn(i,d){if(i&1&&(we(0),_(1,dn,0,0,"ng-template",0)),i&2){let e=p();l(),c("cdkPortalOutlet",e._portal)}}var Ji=(i,d)=>({step:i,i:d}),Pi=i=>({animationDuration:i}),Fi=(i,d)=>({value:i,params:d});function pn(i,d){i&1&&we(0)}function mn(i,d){i&1&&w(0,"div",6)}function un(i,d){if(i&1&&(se(0,5),_(1,mn,1,0,"div",6)),i&2){let e=d.$implicit,n=d.$index,t=d.$count;p(2);let a=y(4);c("ngTemplateOutlet",a)("ngTemplateOutletContext",de(3,Ji,e,n)),l(),V(n!==t-1?1:-1)}}function _n(i,d){if(i&1){let e=C();o(0,"div",7),f("@horizontalStepTransition.done",function(t){m(e);let a=p(2);return u(a._animationDone.next(t))}),se(1,8),r()}if(i&2){let e=d.$implicit,n=d.$index,t=p(2);ee("mat-horizontal-stepper-content-inactive",t.selectedIndex!==n),c("@horizontalStepTransition",de(8,Fi,t._getAnimationDirection(n),tt(6,Pi,t._getAnimationDuration())))("id",t._getStepContentId(n)),Se("aria-labelledby",t._getStepLabelId(n)),l(),c("ngTemplateOutlet",e.content)}}function gn(i,d){if(i&1&&(o(0,"div",1)(1,"div",2),P(2,un,2,6,null,null,le),r(),o(4,"div",3),P(5,_n,2,11,"div",4,le),r()()),i&2){let e=p();l(2),F(e.steps),l(3),F(e.steps)}}function hn(i,d){if(i&1){let e=C();o(0,"div",9),se(1,5),o(2,"div",10)(3,"div",11),f("@verticalStepTransition.done",function(t){m(e);let a=p(2);return u(a._animationDone.next(t))}),o(4,"div",12),se(5,8),r()()()()}if(i&2){let e=d.$implicit,n=d.$index,t=d.$count,a=p(2),h=y(4);l(),c("ngTemplateOutlet",h)("ngTemplateOutletContext",de(10,Ji,e,n)),l(),ee("mat-stepper-vertical-line",n!==t-1),l(),ee("mat-vertical-stepper-content-inactive",a.selectedIndex!==n),c("@verticalStepTransition",de(15,Fi,a._getAnimationDirection(n),tt(13,Pi,a._getAnimationDuration())))("id",a._getStepContentId(n)),Se("aria-labelledby",a._getStepLabelId(n)),l(2),c("ngTemplateOutlet",e.content)}}function fn(i,d){if(i&1&&P(0,hn,6,18,"div",9,le),i&2){let e=p();F(e.steps)}}function yn(i,d){if(i&1){let e=C();o(0,"mat-step-header",13),f("click",function(){let t=m(e).step;return u(t.select())})("keydown",function(t){m(e);let a=p();return u(a._onKeydown(t))}),r()}if(i&2){let e=d.step,n=d.i,t=p();ee("mat-horizontal-stepper-header",t.orientation==="horizontal")("mat-vertical-stepper-header",t.orientation==="vertical"),c("tabIndex",t._getFocusIndex()===n?0:-1)("id",t._getStepLabelId(n))("index",n)("state",t._getIndicatorType(n,e.state))("label",e.stepLabel||e.label)("selected",t.selectedIndex===n)("active",t._stepIsNavigable(n,e))("optional",e.optional)("errorMessage",e.errorMessage)("iconOverrides",t._iconOverrides)("disableRipple",t.disableRipple||!t._stepIsNavigable(n,e))("color",e.color||t.color),Se("aria-posinset",n+1)("aria-setsize",t.steps.length)("aria-controls",t._getStepContentId(n))("aria-selected",t.selectedIndex==n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null)("aria-disabled",t._stepIsNavigable(n,e)?null:!0)}}var Me=(()=>{class i extends gt{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Xe(i)))(t||i)}})()}static{this.\u0275dir=U({type:i,selectors:[["","matStepLabel",""]],standalone:!0,features:[ge]})}}return i})(),vn=(()=>{class i{constructor(){this.changes=new xe,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=St({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ji=(()=>{class i extends _t{constructor(e,n,t,a){super(t),this._intl=e,this._focusMonitor=n,this._intlSubscription=e.changes.subscribe(()=>a.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._elementRef,e,n):this._elementRef.nativeElement.focus(n)}_stringLabel(){return this.label instanceof Me?null:this.label}_templateLabel(){return this.label instanceof Me?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(e){return e=="number"?`${this.index+1}`:e=="edit"?"create":e=="error"?"warning":e}static{this.\u0275fac=function(n){return new(n||i)(E(vn),E(Ht),E(ue),E(Ie))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(n,t){n&2&&Tt("mat-"+(t.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[ge,M],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(n,t){if(n&1&&(w(0,"div",0),o(1,"div")(2,"div",1),_(3,Zi,1,2,"ng-container",2)(4,on,2,1),r()(),o(5,"div",3),_(6,rn,2,1,"div",4)(7,an,2,1,"div",4)(8,ln,2,1,"div",5)(9,sn,2,1,"div",6),r()),n&2){let a;c("matRippleTrigger",t._getHostElement())("matRippleDisabled",t.disableRipple),l(),jt("mat-step-icon-state-",t.state," mat-step-icon"),ee("mat-step-icon-selected",t.selected),l(2),V(t.iconOverrides&&t.iconOverrides[t.state]?3:4),l(2),ee("mat-step-label-active",t.active)("mat-step-label-selected",t.selected)("mat-step-label-error",t.state=="error"),l(),V((a=t._templateLabel())?6:t._stringLabel()?7:-1,a),l(2),V(t.optional&&t.state!="error"?8:-1),l(),V(t.state==="error"?9:-1)}},dependencies:[Gt,it,fe],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape, var(--mat-app-corner-medium))}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape, var(--mat-app-corner-medium))}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color, var(--mat-app-surface));background-color:var(--mat-stepper-header-icon-background-color, var(--mat-app-on-surface-variant))}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color, var(--mat-app-error))}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font, var(--mat-app-title-small-font));font-size:var(--mat-stepper-header-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-label-text-weight, var(--mat-app-title-small-weight));color:var(--mat-stepper-header-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color, var(--mat-app-on-surface-variant))}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color, var(--mat-app-error));font-size:var(--mat-stepper-header-error-state-label-text-size, var(--mat-app-title-small-size))}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size, var(--mat-app-title-small-size));font-weight:var(--mat-stepper-header-selected-state-label-text-weight, var(--mat-app-title-small-weight))}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-selected-state-icon-foreground-color, var(--mat-app-on-primary))}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color, var(--mat-app-primary));color:var(--mat-stepper-header-edit-state-icon-foreground-color, var(--mat-app-on-primary))}'],encapsulation:2,changeDetection:0})}}return i})(),Ni="500ms",Bi="225ms",Vi={horizontalStepTransition:ot("horizontalStepTransition",[pe("previous",ce({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),pe("current",ce({transform:"none",visibility:"inherit"})),pe("next",ce({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),lt("* => *",at([rt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),dt("@*",st(),{optional:!0})]),{params:{animationDuration:Ni}})]),verticalStepTransition:ot("verticalStepTransition",[pe("previous",ce({height:"0px",visibility:"hidden"})),pe("next",ce({height:"0px",visibility:"hidden"})),pe("current",ce({height:"*",visibility:"inherit"})),lt("* <=> current",at([rt("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),dt("@*",st(),{optional:!0})]),{params:{animationDuration:Bi}})])},bn=(()=>{class i{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||i)(E(ae))}}static{this.\u0275dir=U({type:i,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0})}}return i})(),ft=(()=>{class i{constructor(e){this._template=e}static{this.\u0275fac=function(n){return new(n||i)(E(ae))}}static{this.\u0275dir=U({type:i,selectors:[["ng-template","matStepContent",""]],standalone:!0})}}return i})(),yt=(()=>{class i extends Ye{constructor(e,n,t,a){super(e,a),this._errorStateMatcher=n,this._viewContainerRef=t,this._isSelected=bt.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(Je(()=>this._stepper.selectionChange.pipe(xt(e=>e.selectedStep===this),$(this._stepper.selected===this)))).subscribe(e=>{e&&this._lazyContent&&!this._portal&&(this._portal=new Kt(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(e,n){let t=this._errorStateMatcher.isErrorState(e,n),a=!!(e&&e.invalid&&this.interacted);return t||a}static{this.\u0275fac=function(n){return new(n||i)(E(Pe(()=>vt)),E(ze,4),E(Dt),E(ht,8))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-step"]],contentQueries:function(n,t,a){if(n&1&&(q(a,Me,5),q(a,ft,5)),n&2){let h;N(h=B())&&(t.stepLabel=h.first),N(h=B())&&(t._lazyContent=h.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[et([{provide:ze,useExisting:i},{provide:Ye,useExisting:i}]),ge,M],ngContentSelectors:ki,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(n,t){n&1&&(Ee(),_(0,cn,2,1,"ng-template"))},dependencies:[Yt],encapsulation:2,changeDetection:0})}}return i})(),vt=(()=>{class i extends De{get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}constructor(e,n,t){super(e,n,t),this._stepHeader=void 0,this._steps=void 0,this.steps=new Ce,this.animationDone=new me,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new xe,this._animationDuration="",this._isServer=!S(Wt).isBrowser;let a=t.nativeElement.nodeName.toLowerCase();this.orientation=a==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:e,templateRef:n})=>this._iconOverrides[e]=n),this.steps.changes.pipe(re(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(ke((e,n)=>e.fromState===n.fromState&&e.toState===n.toState),re(this._destroyed)).subscribe(e=>{e.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(e,n){return n.completed||this.selectedIndex===e||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Ni:Bi}static{this.\u0275fac=function(n){return new(n||i)(E(We,8),E(Ie),E(ue))}}static{this.\u0275cmp=D({type:i,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(n,t,a){if(n&1&&(q(a,yt,5),q(a,bn,5)),n&2){let h;N(h=B())&&(t._steps=h),N(h=B())&&(t._icons=h)}},viewQuery:function(n,t){if(n&1&&Be(ji,5),n&2){let a;N(a=B())&&(t._stepHeader=a)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(n,t){n&2&&(Se("aria-orientation",t.orientation),ee("mat-stepper-horizontal",t.orientation==="horizontal")("mat-stepper-vertical",t.orientation==="vertical")("mat-stepper-label-position-end",t.orientation==="horizontal"&&t.labelPosition=="end")("mat-stepper-label-position-bottom",t.orientation==="horizontal"&&t.labelPosition=="bottom")("mat-stepper-header-position-bottom",t.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[et([{provide:De,useExisting:i}]),ge,M],ngContentSelectors:ki,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(n,t){if(n&1&&(Ee(),_(0,pn,1,0)(1,gn,7,0,"div",1)(2,fn,2,0)(3,yn,1,23,"ng-template",null,0,Jt)),n&2){let a;V(t._isServer?0:-1),l(),V((a=t.orientation)==="horizontal"?1:a==="vertical"?2:-1)}},dependencies:[it,ji],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font, var(--mat-app-body-medium-font));background:var(--mat-stepper-container-color, var(--mat-app-surface))}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color, var(--mat-app-outline))}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color, var(--mat-app-outline));top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[Vi.horizontalStepTransition,Vi.verticalStepTransition]},changeDetection:0})}}return i})(),oe=(()=>{class i extends Ti{static{this.\u0275fac=(()=>{let e;return function(t){return(e||(e=Xe(i)))(t||i)}})()}static{this.\u0275dir=U({type:i,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(n,t){n&2&&Ne("type",t.type)},standalone:!0,features:[ge]})}}return i})();function xn(i,d){i&1&&(o(0,"div"),s(1,"Name is required."),r())}function Cn(i,d){i&1&&(o(0,"div"),s(1,"Name must be at least 5 characters long."),r())}function Sn(i,d){i&1&&(o(0,"div"),s(1,"Name must be at most 50 characters long."),r())}function En(i,d){i&1&&(o(0,"div"),s(1,"Category is required."),r())}function wn(i,d){i&1&&(o(0,"div"),s(1,"Category must be at least 3 characters long."),r())}function In(i,d){i&1&&(o(0,"div"),s(1,"Category must be at most 16 characters long."),r())}function Dn(i,d){i&1&&(o(0,"div"),s(1,"Title is required."),r())}function Mn(i,d){i&1&&(o(0,"div"),s(1,"Title must be at least 10 characters long."),r())}function Tn(i,d){i&1&&(o(0,"div"),s(1,"Title must be at most 100 characters long."),r())}function jn(i,d){if(i&1&&(o(0,"option",32),s(1),Le(2,"titlecase"),r()),i&2){let e=d.$implicit;c("value",e),l(),k(Ae(2,2,e))}}function Vn(i,d){i&1&&(o(0,"div"),s(1,"Icon is required."),r())}function kn(i,d){i&1&&(o(0,"div"),s(1,"Memories is required."),r())}function Jn(i,d){i&1&&(o(0,"div"),s(1,"Memories must be at least 10 characters long."),r())}function Pn(i,d){i&1&&(o(0,"div"),s(1,"Memories must be at most 5000 characters long."),r())}function Fn(i,d){if(i&1){let e=C();o(0,"mat-chip-row",69),f("removed",function(){let t=m(e).$implicit,a=p(2);return u(a.removeTag(t))}),s(1),o(2,"button",70),f("click",function(){let t=m(e).$implicit,a=p(2);return u(a.removeTag(t))}),o(3,"mat-icon"),s(4,"cancel"),r()()()}if(i&2){let e=d.$implicit;c("highlighted",!0)("editable",!1)("removable",!0),l(),Oe(" ",e," ")}}function Nn(i,d){i&1&&(o(0,"div"),s(1,"Longitude is required."),r())}function Bn(i,d){i&1&&(o(0,"div"),s(1,"Longitude must be between -180.0 to 180.0."),r())}function On(i,d){i&1&&(o(0,"div"),s(1,"Longitude must be between -180.0 to 180.0."),r())}function Ln(i,d){i&1&&(o(0,"div"),s(1,"Latitude is required."),r())}function An(i,d){i&1&&(o(0,"div"),s(1,"Latitude must be between -90.0 to 90.0."),r())}function Rn(i,d){i&1&&(o(0,"div"),s(1,"Latitude must be between -9 0.0 to 90.0."),r())}function Wn(i,d){i&1&&(o(0,"div"),s(1,"City is required."),r())}function zn(i,d){i&1&&(o(0,"div"),s(1,"City must be at least 3 characters long."),r())}function Un(i,d){i&1&&(o(0,"div"),s(1,"City must be at most 50 characters long."),r())}function qn(i,d){i&1&&(o(0,"div"),s(1,"Country is required."),r())}function Hn(i,d){i&1&&(o(0,"div"),s(1,"Country must be at least 3 characters long."),r())}function Gn(i,d){i&1&&(o(0,"div"),s(1,"Country must be at most 50 characters long."),r())}function Qn(i,d){i&1&&(o(0,"div"),s(1,"Journey Date is required."),r())}function Kn(i,d){if(i&1){let e=C();o(0,"form",13,0),f("ngSubmit",function(){m(e);let t=y(1),a=p();return u(a.save(t))}),o(2,"div",14)(3,"div",15)(4,"div",14)(5,"div",16)(6,"span",17),s(7,"ID"),r(),o(8,"input",18),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().id,t)||(a.journey().id=t),u(t)}),r()()(),o(9,"div",14)(10,"div",19)(11,"label",20),s(12,"Name"),r(),o(13,"input",21,1),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().name,t)||(a.journey().name=t),u(t)}),r(),o(15,"div",22),_(16,xn,2,0,"div",23)(17,Cn,2,0,"div",23)(18,Sn,2,0,"div",23),r()(),o(19,"div",24)(20,"label",25),s(21,"Category"),r(),o(22,"input",26,2),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().category,t)||(a.journey().category=t),u(t)}),r(),o(24,"div",22),_(25,En,2,0,"div",23)(26,wn,2,0,"div",23)(27,In,2,0,"div",23),r()()(),o(28,"div",14)(29,"div",27)(30,"label",28),s(31,"Title"),r(),o(32,"input",29,3),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().title,t)||(a.journey().title=t),u(t)}),r(),o(34,"div",22),_(35,Dn,2,0,"div",23)(36,Mn,2,0,"div",23)(37,Tn,2,0,"div",23),r()(),o(38,"div",24)(39,"label",30),s(40,"Icon"),r(),o(41,"select",31,4),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().icon,t)||(a.journey().icon=t),u(t)}),P(43,jn,3,4,"option",32,le),r(),o(45,"div",22),_(46,Vn,2,0,"div",23),r()()(),o(47,"div",33)(48,"label",34),s(49,"Memories"),r(),o(50,"mat-button-toggle-group",35),x("ngModelChange",function(t){m(e);let a=p();return b(a.markdownStyle,t)||(a.markdownStyle=t),u(t)}),o(51,"mat-button-toggle",36),s(52,"Edit"),r(),o(53,"mat-button-toggle",37),s(54,"Preview"),r()(),o(55,"textarea",38,5),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().description,t)||(a.journey().description=t),u(t)}),r(),o(57,"div",39),w(58,"app-display-markdown-component",40),r(),o(59,"div",22),_(60,kn,2,0,"div",23)(61,Jn,2,0,"div",23)(62,Pn,2,0,"div",23),r()(),o(63,"div",41)(64,"div",42)(65,"mat-chip-grid",43,6),P(67,Fn,5,4,"mat-chip-row",44,le),o(69,"input",45),f("matChipInputTokenEnd",function(t){m(e);let a=p();return u(a.addTag(t))}),r()()(),o(70,"div",42)(71,"div",46)(72,"span",47),s(73,"Coordinates"),r(),o(74,"input",48,7),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().location.coordinates[0],t)||(a.journey().location.coordinates[0]=t),u(t)}),r(),o(76,"button",49),s(77," Coordinates "),r(),o(78,"ul",50)(79,"li")(80,"button",51),f("click",function(){m(e);let t=p();return u(t.copyCoordinatesFromGoogleMap())}),s(81,"Paste coordinates copied from Google Map "),r()(),o(82,"li")(83,"button",51),f("click",function(){m(e);let t=p();return u(t.copyCoordinatesFromClipboard())}),s(84,"Paste from clipboard "),r()()(),o(85,"input",52,8),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().location.coordinates[1],t)||(a.journey().location.coordinates[1]=t),u(t)}),r()(),o(87,"div",53)(88,"div",54),_(89,Nn,2,0,"div",23)(90,Bn,2,0,"div",23)(91,On,2,0,"div",23),r(),o(92,"div",22),_(93,Ln,2,0,"div",23)(94,An,2,0,"div",23)(95,Rn,2,0,"div",23),r()()()(),o(96,"div",14)(97,"div",55)(98,"label",56),s(99,"City"),r(),o(100,"input",57,9),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().city,t)||(a.journey().city=t),u(t)}),r(),o(102,"div",22),_(103,Wn,2,0,"div",23)(104,zn,2,0,"div",23)(105,Un,2,0,"div",23),r()(),o(106,"div",55)(107,"label",58),s(108,"Country"),r(),o(109,"input",59,10),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().country,t)||(a.journey().country=t),u(t)}),r(),o(111,"div",22),_(112,qn,2,0,"div",23)(113,Hn,2,0,"div",23)(114,Gn,2,0,"div",23),r()(),o(115,"div",55)(116,"label",60),s(117,"Journey Date"),r(),o(118,"div",61)(119,"input",62,11),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().journeyDate,t)||(a.journey().journeyDate=t),u(t)}),r(),o(122,"button",63),f("click",function(){m(e);let t=y(121);return u(t.toggle())}),r(),o(123,"div",22),_(124,Qn,2,0,"div",23),r()()()()(),o(125,"div",64)(126,"app-world-map",65),f("location",function(t){m(e);let a=p();return u(a.addGeoCodingLocation(t))}),r()()(),o(127,"div",14)(128,"div",66)(129,"button",67),s(130," Save "),r(),o(131,"button",68),s(132,"Next "),r()()()()}if(i&2){let e=y(1),n=y(14),t=y(23),a=y(33),h=y(42),g=y(56),Ui=y(66),K=y(75),Y=y(86),X=y(101),Z=y(110),je=y(120),I=p();l(8),v("ngModel",I.journey().id),l(5),v("ngModel",I.journey().name),l(2),c("hidden",n.valid||n.pristine),l(),c("ngIf",n.errors==null?null:n.errors.required),l(),c("ngIf",n.errors==null?null:n.errors.minlength),l(),c("ngIf",n.errors==null?null:n.errors.maxlength),l(4),v("ngModel",I.journey().category),c("ngbTypeahead",I.searchCategory),l(2),c("hidden",t.valid||t.pristine),l(),c("ngIf",t.errors==null?null:t.errors.required),l(),c("ngIf",t.errors==null?null:t.errors.minlength),l(),c("ngIf",t.errors==null?null:t.errors.maxlength),l(5),v("ngModel",I.journey().title),l(2),c("hidden",a.valid||a.pristine),l(),c("ngIf",a.errors==null?null:a.errors.required),l(),c("ngIf",a.errors==null?null:a.errors.minlength),l(),c("ngIf",a.errors==null?null:a.errors.maxlength),l(4),v("ngModel",I.journey().icon),l(2),F(I.SUPPORTED_ICONS),l(2),c("hidden",h.valid||h.pristine),l(),c("ngIf",h.errors==null?null:h.errors.required),l(4),v("ngModel",I.markdownStyle),l(5),v("ngModel",I.journey().description),c("hidden",I.markdownStyle()==="Preview"),l(2),c("hidden",I.markdownStyle()=="Source"),l(),c("title",I.journey().title)("markdownText",I.journey().description),l(),c("hidden",g.valid||g.pristine),l(),c("ngIf",g.errors==null?null:g.errors.required),l(),c("ngIf",g.errors==null?null:g.errors.minlength),l(),c("ngIf",g.errors==null?null:g.errors.maxlength),l(5),F(I.journey().tags),l(2),c("matChipInputFor",Ui)("matChipInputSeparatorKeyCodes",I.separatorKeysCodes)("matChipInputAddOnBlur",!0),l(5),v("ngModel",I.journey().location.coordinates[0]),l(11),v("ngModel",I.journey().location.coordinates[1]),l(3),c("hidden",K.valid||K.pristine),l(),c("ngIf",K.errors==null?null:K.errors.required),l(),c("ngIf",K.errors==null?null:K.errors.min),l(),c("ngIf",K.errors==null?null:K.errors.max),l(),c("hidden",Y.valid||Y.pristine),l(),c("ngIf",Y.errors==null?null:Y.errors.required),l(),c("ngIf",Y.errors==null?null:Y.errors.min),l(),c("ngIf",Y.errors==null?null:Y.errors.max),l(5),v("ngModel",I.journey().city),l(2),c("hidden",X.valid||X.pristine),l(),c("ngIf",X.errors==null?null:X.errors.required),l(),c("ngIf",X.errors==null?null:X.errors.minlength),l(),c("ngIf",X.errors==null?null:X.errors.maxlength),l(4),v("ngModel",I.journey().country),l(2),c("hidden",Z.valid||Z.pristine),l(),c("ngIf",Z.errors==null?null:Z.errors.required),l(),c("ngIf",Z.errors==null?null:Z.errors.minlength),l(),c("ngIf",Z.errors==null?null:Z.errors.maxlength),l(5),v("ngModel",I.journey().journeyDate),l(4),c("hidden",je.valid||je.pristine),l(),c("ngIf",je.errors==null?null:je.errors.required),l(2),c("geoJsonData",I.journey().location)("iconType",I.journey().icon)("enableGeoCoding",!0),l(3),c("disabled",!e.form.valid),l(2),c("disabled",!e.form.valid)}}var Oi=(()=>{class i{constructor(){this.separatorKeysCodes=[13,188,32],this.journeyService=S(z),this.autoCompleteService=S(Ci),this.notificationService=S(H),this.markdownStyle=G("Source"),this.journey=J(new Qe),this.coordinates=Ft(()=>this.journey().location?.coordinates??[]),this.searchCategory=e=>e.pipe($(""),Ct(200),ke(),Je(n=>n.length<1?Ve([]):this.autoCompleteService.getAvailableCategories(n.toLowerCase()))),this.SUPPORTED_ICONS=xi}onError(e,n){this.notificationService.showError(e),console.error(n)}onUpdateSuccess(e){this.notificationService.showSuccess("Journey details saved successfully.")}addTag(e){let n=(e.value||"").toLowerCase().trim();n&&this.journey.update(t=>j(T({},t),{tags:t.tags.concat(n)})),e.chipInput.clear()}removeTag(e){this.journey.update(n=>j(T({},n),{tags:n.tags.filter(t=>t!==e)}))}save(e){console.debug("Submitted form data:",e),this.journeyService.saveJourneyBasicDetails(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while saving data",n)})}async copyCoordinatesFromGoogleMap(){let e=await navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",e),e&&e.split(",").length>1){let n=e.split(",");this.journey.update(t=>j(T({},t),{location:{type:"Point",coordinates:[Number(n[1]),Number(n[0])]}}))}}async copyCoordinatesFromClipboard(){let e=await navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",e),e){let n=e.split(",");this.journey.update(t=>j(T({},t),{location:{type:"Point",coordinates:[Number(n[0]),Number(n[1])]}}))}}addGeoCodingLocation(e){this.journey.update(n=>j(T({},n),{title:e.name,city:e.state,country:e.country,location:{type:"Point",coordinates:[e.location.coordinates[0],e.location.coordinates[1]]}}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","50","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["name","markdownStyle","aria-label","Markdown Style","hideSingleSelectionIndicator","true",1,"ignore-highlight","ms-2",3,"ngModelChange","ngModel"],["value","Source"],["value","Preview"],["rows","15","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control","vh-50",3,"ngModelChange","ngModel","hidden"],[2,"height","25rem",3,"hidden"],[3,"title","markdownText"],[1,"row","mb-3"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","ngModel"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-light","input-group-text","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark"],["type","button",1,"dropdown-item",3,"click"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-4"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"location","geoJsonData","iconType","enableGeoCoding"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(n,t){n&1&&_(0,Kn,133,61,"form",12),n&2&&c("ngIf",t.journey)},dependencies:[W,R,qe,He,ye,$t,Ue,te,L,ve,ii,ni,ti,ei,ie,A,O,ri,nt,fe,bi,yi,vi,hi,fi,Ge,oe,Ke,Bt,Ii,Ei,wi,Si],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}}return i})();function Yn(i,d){if(i&1){let e=C();o(0,"form",2,0),f("ngSubmit",function(){m(e);let t=y(1),a=p();return u(a.save(t))}),o(2,"div",3)(3,"div",4)(4,"div")(5,"label",5)(6,"span"),s(7,"Tip:"),r(),o(8,"a",6),s(9,"GeoJson Creator"),r()(),o(10,"textarea",7),x("ngModelChange",function(t){m(e);let a=p();return b(a.geoJsonString,t)||(a.geoJsonString=t),u(t)}),f("change",function(){m(e);let t=p();return u(t.reloadMap())}),s(11),Le(12,"json"),r()()(),o(13,"div",8),w(14,"app-world-map",9),r()(),o(15,"div",10)(16,"div",11)(17,"button",12),s(18," Save "),r(),o(19,"button",13),s(20,"Next "),r()()()()}if(i&2){let e,n=y(1),t=p();l(10),v("ngModel",t.geoJsonString),l(),Oe("          ",Ae(12,5,(e=t.journey().extendedDetails)==null||e.geoDetails==null?null:e.geoDetails.geoJson),`
        `),l(3),c("geoJsonData",t.formGeoDetails().geoJson),l(3),c("disabled",!n.form.valid),l(2),c("disabled",!n.form.valid)}}var Li=(()=>{class i{constructor(){this.journeyService=S(z),this.notificationService=S(H),this.journey=J.required(),this.formGeoDetails=G(new ct(void 0)),this.geoJsonString=G("")}ngOnInit(){this.formGeoDetails.set(this.journey().extendedDetails.geoDetails??new ct(this.journey().location)),this.geoJsonString.set(JSON.stringify(this.formGeoDetails().geoJson))}save(e){console.debug("submitted form:",e),this.journeyService.saveJourneyGeoDetails(this.journey(),this.formGeoDetails()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while saving geo data",n)})}onUpdateSuccess(e){this.notificationService.showSuccess("Journey details saved successfully.")}onError(e,n){this.notificationService.showError(e),console.error(n)}reloadMap(){this.geoJsonString()&&this.formGeoDetails.update(e=>j(T({},e),{geoJson:JSON.parse(this.geoJsonString())}))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(n,t){n&1&&_(0,Yn,21,7,"form",1),n&2&&c("ngIf",t.journey())},dependencies:[W,R,ye,te,L,ve,ie,A,Ke,oe,O,Ot],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"],changeDetection:0})}}return i})();var Ai=(()=>{class i{constructor(){this.imageItem=It.required(),this.save=Fe(),this.cancel=Fe(),this.remove=Fe()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:[1,"imageItem"]},outputs:{save:"save",cancel:"cancel",remove:"remove"},standalone:!0,features:[M],decls:49,vars:15,consts:[["d","ngbDatepicker"],[1,"container"],[1,"model-header"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly","align-items-center","align-content-center"],[1,"image-thumbnail","m-1","col-md-4","text-center"],["fill","",1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","publicId","name","publicId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","publicId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],[1,"input-group","input-group-sm","mb-1"],[1,"form-floating"],["type","text","id","eventDate","name","eventDate","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control","form-control-sm","ignore-highlight",3,"ngModelChange","ngModel"],["for","eventDate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","bi","bi-calendar3",3,"click"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],["type","button",1,"btn","btn-primary","me-1",3,"click"],["type","button",1,"btn","btn-danger","me-1",3,"click"],["type","button",1,"btn","btn-dark",3,"click"]],template:function(n,t){if(n&1){let a=C();o(0,"div",1)(1,"div",2)(2,"h6",3),s(3,"Edit Image Details"),r()(),o(4,"div")(5,"div",4)(6,"div",5),w(7,"img",6),r(),o(8,"div",7)(9,"form")(10,"div",8)(11,"input",9),x("ngModelChange",function(g){return m(a),b(t.imageItem().url,g)||(t.imageItem().url=g),u(g)}),r(),o(12,"label",10),s(13,"Image URL"),r()(),o(14,"div",8)(15,"input",11),x("ngModelChange",function(g){return m(a),b(t.imageItem().assetId,g)||(t.imageItem().assetId=g),u(g)}),r(),o(16,"label",12),s(17,"Asset ID"),r()(),o(18,"div",8)(19,"input",13),x("ngModelChange",function(g){return m(a),b(t.imageItem().publicId,g)||(t.imageItem().publicId=g),u(g)}),r(),o(20,"label",14),s(21,"Public ID"),r()(),o(22,"div",8)(23,"input",15),x("ngModelChange",function(g){return m(a),b(t.imageItem().title,g)||(t.imageItem().title=g),u(g)}),r(),o(24,"label",16),s(25,"Title"),r()(),o(26,"div",17)(27,"div",18)(28,"input",19),x("ngModelChange",function(g){return m(a),b(t.imageItem().isFavorite,g)||(t.imageItem().isFavorite=g),u(g)}),r()(),w(29,"input",20),r(),o(30,"div",21)(31,"div",22)(32,"input",23,0),x("ngModelChange",function(g){return m(a),b(t.imageItem().eventDate,g)||(t.imageItem().eventDate=g),u(g)}),r(),o(34,"label",24),s(35,"Event Date"),r()(),o(36,"div",18)(37,"button",25),f("click",function(){m(a);let g=y(33);return u(g.toggle())}),r()()(),o(38,"div",17)(39,"div",18)(40,"input",26),x("ngModelChange",function(g){return m(a),b(t.imageItem().isThumbnail,g)||(t.imageItem().isThumbnail=g),u(g)}),r()(),w(41,"input",27),r(),o(42,"div",28)(43,"button",29),f("click",function(){return m(a),u(t.save.emit(t.imageItem()))}),s(44,"Save"),r(),o(45,"button",30),f("click",function(){return m(a),u(t.remove.emit(t.imageItem()))}),s(46,"Remove"),r(),o(47,"button",31),f("click",function(){return m(a),u(t.cancel.emit(t.imageItem()))}),s(48,"Cancel"),r()()()()()()()}n&2&&(l(4),$e("background-image: url("+t.imageItem().url+");background-size: cover;background-repeat: no-repeat;"),l(),$e("backdrop-filter: blur(15px);"),l(2),c("src",t.imageItem().url,_e)("alt",t.imageItem().assetId)("title",t.imageItem().assetId),l(4),v("ngModel",t.imageItem().url),l(4),v("ngModel",t.imageItem().assetId),l(4),v("ngModel",t.imageItem().publicId),l(4),v("ngModel",t.imageItem().title),c("autofocus",!0),l(5),v("ngModel",t.imageItem().isFavorite),l(4),v("ngModel",t.imageItem().eventDate),l(8),v("ngModel",t.imageItem().isThumbnail))},dependencies:[W,R,ye,Xt,te,L,ie,A,Ge],encapsulation:2,changeDetection:0})}}return i})();var Xn=["imageItemDetailDialog"],Zn=(i,d)=>d.assetId,$n=(i,d)=>({"border-success":i,"border-primary":d});function eo(i,d){if(i&1){let e=C();o(0,"a",17),f("click",function(){let t=m(e).$implicit,a=p(2);return u(a.openImageItem(t))}),w(1,"img",18),r()}if(i&2){let e=d.$implicit;l(),c("src",e.url,_e)("title",e.assetId)("ngClass",de(3,$n,e.isThumbnail,!e.isThumbnail))}}function to(i,d){if(i&1){let e=C();o(0,"form",4),f("ngSubmit",function(){m(e);let t=p();return u(t.save())}),o(1,"div",5)(2,"div",6)(3,"div",7),P(4,eo,2,6,"a",8,Zn),r()()(),o(6,"div",5)(7,"div",9)(8,"button",10),f("click",function(){m(e);let t=p();return u(t.openUploadWidget(!0))}),w(9,"i",11),o(10,"span",12),s(11,"Upload Image(s)"),r()(),o(12,"button",10),f("click",function(){m(e);let t=p();return u(t.openUploadWidget(!1))}),w(13,"i",13),o(14,"span",12),s(15,"Upload Image"),r()(),o(16,"button",14),s(17,"Next "),r(),o(18,"a",15),s(19,"Reduce Image Size"),w(20,"i",16),r()()()()}if(i&2){let e,n=p();l(4),F(n.formImageDetails().images),l(12),c("disabled",!(!((e=n.journey().extendedDetails)==null||e.imagesDetails==null)&&e.imagesDetails.images))}}var Ri=(()=>{class i{constructor(){this.notificationService=S(H),this.journeyService=S(z),this.journey=J.required(),this.formImageDetails=G(new pt),this.imageItemDetail=J(new mt("","")),this.imageItemDialog=Mt.required("imageItemDetailDialog")}ngOnInit(){this.formImageDetails.set(this.journey().extendedDetails?.imagesDetails??new pt)}addImage(e){this.formImageDetails.update(n=>j(T({},n),{images:[...n.images,new mt(e.secure_url,e.asset_id,e.public_id)]}))}getWidgetParams(e,n){return{cloudName:be.cloudName,uploadPreset:n?be.cloudinaryPreset:be.cloudinarySingleImgPreset,folder:`${be.cloudBaseDir}/${e.id}`,tags:e.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:be.stage,id:`${e.id}`},cropping:!n,showAdvancedOptions:!0,multiple:n}}onError(e,n){this.notificationService.showError(e),console.error(n)}onUpdateSuccess(e){this.notificationService.showSuccess("Image Details saved successfully."),this.journey.set(e)}save(){console.log("saving"),this.journeyService.saveJourneyImagesDetails(this.journey(),this.formImageDetails()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving images data",e)})}openUploadWidget(e=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey(),e),(n,t)=>{!n&&t&&t.event==="success"&&this.addImage(t.info),!n&&t&&t.event==="close"&&this.save()}).open()}openImageItem(e){this.imageItemDetail.set(e),this.imageItemDialog().nativeElement.showModal()}saveImageItemDetail(e){this.formImageDetails.update(n=>j(T({},n),{images:[...n.images.map(t=>t.assetId==e.assetId?e:t)]})),this.save(),this.imageItemDialog().nativeElement.close()}deleteImageItemDetail(e){this.formImageDetails.update(n=>j(T({},n),{images:[...n.images.filter(t=>t.assetId!=e.assetId)]})),this.save(),this.imageItemDialog().nativeElement.close()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-images-details"]],viewQuery:function(n,t){n&1&&Vt(t.imageItemDialog,Xn,5),n&2&&kt()},inputs:{journey:[1,"journey"],imageItemDetail:[1,"imageItemDetail"]},outputs:{journey:"journeyChange",imageItemDetail:"imageItemDetailChange"},standalone:!0,features:[M],decls:4,vars:2,consts:[["imageItemDetailDialog",""],[3,"ngSubmit",4,"ngIf"],[1,"w-100","w-md-75","border","border-2","border-gradient-primary"],[3,"save","remove","cancel","imageItem"],[3,"ngSubmit"],[1,"row"],[1,"col-12"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center","align-items-end"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-folder-plus"],[1,"ms-2"],[1,"bi","bi-file-earmark-binary"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["role","link","routerLink","/tools","target","_blank",1,"text-decoration-none"],[1,"bi","bi-box-arrow-up-right","ms-1"],[1,"m-2","image-thumbnail-wrapper",3,"click"],["alt","thumbnail",1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","title","ngClass"]],template:function(n,t){if(n&1){let a=C();_(0,to,21,1,"form",1),o(1,"dialog",2,0)(3,"app-edit-journey-image-item",3),f("save",function(g){return m(a),u(t.saveImageItemDetail(g))})("remove",function(g){return m(a),u(t.deleteImageItemDetail(g))})("cancel",function(){return m(a),u(t.imageItemDialog().nativeElement.close())}),r()()}n&2&&(c("ngIf",t.journey()),l(3),c("imageItem",t.imageItemDetail()))},dependencies:[W,R,L,A,O,oe,Nt,Rt,Ai],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"],changeDetection:0})}}return i})();var io=(i,d)=>d.videoId;function no(i,d){if(i&1){let e=C();o(0,"div",8)(1,"button",12),f("click",function(){let t=m(e).$implicit,a=p(2);return u(a.removeVideoAndSaveJourney(t))}),s(2," X "),r(),w(3,"img",13),r()}if(i&2){let e=d.$implicit;l(3),c("ngSrc","https://img.youtube.com/vi/"+e.videoId+"/0.jpg")("alt",e.videoId)("title",e.videoId)}}function oo(i,d){i&1&&(o(0,"p",9),s(1,"No Videos available for the journey"),r())}function ro(i,d){if(i&1){let e=C();o(0,"form")(1,"div",2)(2,"div",3)(3,"div",4),w(4,"input",5,0),o(6,"button",6),f("click",function(){m(e);let t=y(5);return p().addVideo(t.value),u(t.value="")}),s(7,"Add "),r()()()(),o(8,"div",2)(9,"div",3)(10,"div",7),P(11,no,4,3,"div",8,io),_(13,oo,2,0,"p",9),r()()(),o(14,"div",2)(15,"div",10)(16,"button",11),s(17,"Next"),r()()()()}if(i&2){let e=p();l(11),F(e.formVideosDetails().videos),l(2),V(e.formVideosDetails().videos.length?-1:13)}}var Wi=(()=>{class i{constructor(){this.journeyService=S(z),this.notificationService=S(H),this.journey=J.required(),this.formVideosDetails=G(new ut)}ngOnInit(){this.formVideosDetails.set(this.journey().extendedDetails?.videosDetails??new ut)}addVideo(e){this.formVideosDetails.update(n=>j(T({},n),{videos:[...n.videos,new gi(e)]})),this.save()}removeVideoAndSaveJourney(e){this.formVideosDetails.update(n=>j(T({},n),{videos:n.videos.filter(t=>t.videoId!==e.videoId)})),this.save()}save(){this.journeyService.saveJourneyVideosDetails(this.journey(),this.formVideosDetails()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving videos data",e)})}onUpdateSuccess(e){this.notificationService.showSuccess("Video Details saved successfully."),this.journey.set(e)}onError(e,n){this.notificationService.showError(e),console.error(n)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[["videoInput",""],[4,"ngIf"],[1,"row"],[1,"col-12"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper","h-200-px","w-200-px"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["aria-label","close",1,"btn","btn-sm","btn-danger","btn-video-remove","rounded-circle",3,"click"],["fill","",1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary",3,"ngSrc","alt","title"]],template:function(n,t){n&1&&_(0,ro,18,1,"form",1),n&2&&c("ngIf",t.journey())},dependencies:[W,R,L,A,O,oi,oe,Lt],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{z-index:1;position:absolute;right:0}"],changeDetection:0})}}return i})();var ao=(i,d)=>d.assetId;function lo(i,d){i&1&&(o(0,"mat-error"),s(1,"Please choose visibility"),r())}function so(i,d){i&1&&(o(0,"mat-icon",18),s(1,"check_circle"),r())}function co(i,d){i&1&&(o(0,"mat-icon",19),s(1,"cancel"),r())}function po(i,d){i&1&&(o(0,"mat-icon",18),s(1,"check_circle"),r())}function mo(i,d){i&1&&(o(0,"mat-icon",19),s(1,"cancel"),r())}function uo(i,d){i&1&&(o(0,"mat-icon",18),s(1,"check_circle"),r())}function _o(i,d){i&1&&(o(0,"mat-icon",19),s(1,"cancel"),r())}function go(i,d){i&1&&(o(0,"mat-icon",18),s(1,"check_circle"),r())}function ho(i,d){i&1&&(o(0,"mat-icon",19),s(1,"cancel"),r())}function fo(i,d){if(i&1&&(o(0,"option",24),s(1),r()),i&2){let e=d.$implicit;c("value",e.url),l(),k(e.assetId)}}function yo(i,d){if(i&1&&(o(0,"div",41),w(1,"img",42),r()),i&2){p();let e=y(44);l(),c("src",e.value,_e)("alt",e.value)}}function vo(i,d){if(i&1){let e=C();o(0,"button",40),f("click",function(){m(e),p();let t=y(56);return u(t.showModal())}),s(1," Delete Journey "),r()}}function bo(i,d){if(i&1){let e=C();o(0,"button",43),f("click",function(){m(e),p();let t=y(1),a=p();return u(a.save(t))}),s(1," Save as Draft "),r()}if(i&2){p();let e=y(1);c("disabled",!e.form.valid)}}function xo(i,d){if(i&1&&(o(0,"button",44),s(1," Publish "),r()),i&2){p();let e=y(1);c("disabled",!e.form.valid)}}function Co(i,d){if(i&1){let e=C();o(0,"form",5,0),f("ngSubmit",function(){m(e);let t=y(1),a=p();return u(a.publish(t))}),o(2,"div",6)(3,"div",7)(4,"mat-form-field",8)(5,"mat-label"),s(6,"Visibility"),r(),o(7,"mat-select",9,1),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().visibilities,t)||(a.journey().visibilities=t),u(t)}),o(9,"mat-option",10),s(10,"MYSELF"),r(),o(11,"mat-option",11),s(12,"ADMINISTRATOR"),r(),o(13,"mat-option",12),s(14,"MAINTAINER"),r(),o(15,"mat-option",13),s(16,"AUTHENTICATED_USER"),r(),o(17,"mat-option",14),s(18,"GUEST"),r()(),_(19,lo,2,0,"mat-error"),r()()(),o(20,"div",6)(21,"div",15)(22,"ul",16)(23,"li",17),s(24,"Basic Details "),_(25,so,2,0,"mat-icon",18)(26,co,2,0,"mat-icon",19),r(),o(27,"li",17),s(28,"Geo Details "),_(29,po,2,0,"mat-icon",18)(30,mo,2,0,"mat-icon",19),r(),o(31,"li",17),s(32,"Images Details "),_(33,uo,2,0,"mat-icon",18)(34,_o,2,0,"mat-icon",19),r(),o(35,"li",17),s(36,"Videos Details "),_(37,go,2,0,"mat-icon",18)(38,ho,2,0,"mat-icon",19),r()()(),o(39,"div",20)(40,"div",21)(41,"label",22),s(42,"Thumbnail"),r(),o(43,"select",23,2),x("ngModelChange",function(t){m(e);let a=p();return b(a.journey().thumbnail,t)||(a.journey().thumbnail=t),u(t)}),o(45,"option",24),s(46,"Default"),r(),P(47,fo,2,2,"option",24,ao),r()(),_(49,yo,2,2,"div",25),r()(),o(50,"div",26)(51,"div",27),_(52,vo,2,0,"button",28)(53,bo,2,1,"button",29)(54,xo,2,1,"button",30),r()(),o(55,"dialog",31,3)(57,"div",32)(58,"div",33)(59,"div",34)(60,"mat-icon",35),s(61,"delete_forever"),r()(),o(62,"div",36)(63,"p",37),s(64,"Are you sure you want to delete the journey ?"),r()()(),o(65,"div",38)(66,"button",39),f("click",function(){m(e);let t=y(56);return u(t.close())}),s(67,"No, Keep it"),r(),o(68,"button",40),f("click",function(){m(e);let t=y(56),a=p();return t.close(),u(a.delete())}),s(69,"Yes, Delete forever"),r()()()()()}if(i&2){let e,n=y(8),t=y(44),a=p();l(7),v("ngModel",a.journey().visibilities),l(2),c("disabled",!0),l(10),V(n.hasError("required")?19:-1),l(6),V(a.isBasicDetailsAvailableAndValid()?25:26),l(4),V(a.isGeoJsonAvailable()?29:30),l(4),V(a.isImagesDetailsAvailable()?33:34),l(4),V(a.isVideosDetailsAvailable()?37:38),l(6),v("ngModel",a.journey().thumbnail),l(2),c("value",a.DEFAULT_THUMBNAIL),l(2),F((e=a.journey().extendedDetails)==null||e.imagesDetails==null?null:e.imagesDetails.images),l(2),c("ngIf",t.value&&t.value!="default")}}var zi=(()=>{class i{constructor(){this.DEFAULT_THUMBNAIL=_i,this.router=S(Re),this.journeyService=S(z),this.notificationService=S(H),this.journey=J.required()}isBasicDetailsAvailableAndValid(){return this.journey().id!=""&&this.journey().name!=""&&this.journey().title!=""&&this.journey().description!=""&&this.journey().city!=""&&this.journey().country!=""&&this.journey().journeyDate!=""&&this.journey().category!=""&&this.journey().tags?.length>0&&this.journey().location!=null}isGeoJsonAvailable(){return this.journey().extendedDetails?.geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey().extendedDetails?.imagesDetails?.images?.length??!1}isVideosDetailsAvailable(){return this.journey().extendedDetails?.videosDetails?.videos?.length??!1}publish(e){console.debug("submitted form:",e),this.journey.update(n=>j(T({},n),{isPublished:!0})),this.journeyService.publishJourney(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while publishing data",n)})}save(e){e.valid&&(this.journey.update(n=>j(T({},n),{isPublished:!1})),this.journeyService.publishJourney(this.journey()).subscribe({next:n=>this.onUpdateSuccess(n),error:n=>this.onError("Unexpected error while publishing data",n)}))}onError(e,n){this.notificationService.showError(e),console.error(n)}onUpdateSuccess(e){let n=e.isPublished?"Journey published successfully.":"Journey saved successfully";this.notificationService.showSuccess(n),this.journey.set(e)}delete(){this.journeyService.deleteJourney(this.journey()).subscribe({next:e=>this.onDeleteSuccess(),error:e=>this.onError("Unexpected error while publishing data",e)})}onDeleteSuccess(){this.notificationService.showSuccess("Journey deleted successfully"),setTimeout(()=>this.router.navigate(["journey"]),1e3)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],["deleteJourneyDialog",""],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row"],[1,"col-12"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end","text-success"],["color","warn",1,"float-end"],[1,"col-12","col-md-8","mt-2","mt-md-0"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","class","btn btn-outline-danger",3,"click",4,"hasWriteAccess"],["type","button","class","btn btn-outline-primary",3,"disabled","click",4,"hasWriteAccess"],["type","submit","class","btn btn-outline-success",3,"disabled",4,"hasWriteAccess"],["id","deleteJourneyDialog",1,"border-0","rounded","rounded-3"],[1,"d-flex","flex-column","justify-content-center","align-content-center","align-items-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"p-3"],[1,"fs-3","text-danger"],[1,"mt-2"],[1,"text-danger"],[1,"d-flex","gap-3"],["type","button","autofocus","",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"text-center"],[1,"journey-thumbnail-img","rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"]],template:function(n,t){n&1&&_(0,Co,70,10,"form",4),n&2&&c("ngIf",t.journey())},dependencies:[fe,W,R,qe,He,Ue,te,L,ve,ie,A,O,pi,ci,si,di,ui,mi,Qt,li],styles:[".journey-thumbnail-img[_ngcontent-%COMP%]{width:30rem;height:15rem}"],changeDetection:0})}}return i})();function So(i,d){i&1&&s(0,"Memories")}function Eo(i,d){if(i&1){let e=C();o(0,"app-edit-journey-basic-data",11),x("journeyChange",function(t){m(e);let a=p(2);return b(a.journey,t)||(a.journey=t),u(t)}),r()}if(i&2){let e=p(2);v("journey",e.journey)}}function wo(i,d){i&1&&s(0,"Geography")}function Io(i,d){if(i&1){let e=C();o(0,"app-edit-journey-geo-details",11),x("journeyChange",function(t){m(e);let a=p(2);return b(a.journey,t)||(a.journey=t),u(t)}),r()}if(i&2){let e=p(2);v("journey",e.journey)}}function Do(i,d){i&1&&s(0,"Images")}function Mo(i,d){if(i&1){let e=C();o(0,"app-edit-journey-images-details",11),x("journeyChange",function(t){m(e);let a=p(2);return b(a.journey,t)||(a.journey=t),u(t)}),r()}if(i&2){let e=p(2);v("journey",e.journey)}}function To(i,d){i&1&&s(0,"Videos")}function jo(i,d){if(i&1){let e=C();o(0,"app-edit-journey-videos-details",11),x("journeyChange",function(t){m(e);let a=p(2);return b(a.journey,t)||(a.journey=t),u(t)}),r()}if(i&2){let e=p(2);v("journey",e.journey)}}function Vo(i,d){i&1&&s(0,"Publish")}function ko(i,d){if(i&1){let e=C();o(0,"app-edit-journey-publish-details",11),x("journeyChange",function(t){m(e);let a=p(2);return b(a.journey,t)||(a.journey=t),u(t)}),r()}if(i&2){let e=p(2);v("journey",e.journey)}}function Jo(i,d){if(i&1){let e=C();o(0,"section",1)(1,"div",2)(2,"div",3)(3,"h4")(4,"span",4),s(5),r(),o(6,"button",5),f("click",function(){m(e);let t=p();return u(t.viewJourney(t.journey()))}),w(7,"i",6),r()()()(),o(8,"mat-stepper",7)(9,"mat-step",8),_(10,So,1,0,"ng-template",9)(11,Eo,1,1,"ng-template",10),r(),o(12,"mat-step"),_(13,wo,1,0,"ng-template",9)(14,Io,1,1,"ng-template",10),r(),o(15,"mat-step"),_(16,Do,1,0,"ng-template",9)(17,Mo,1,1,"ng-template",10),r(),o(18,"mat-step"),_(19,To,1,0,"ng-template",9)(20,jo,1,1,"ng-template",10),r(),o(21,"mat-step"),_(22,Vo,1,0,"ng-template",9)(23,ko,1,1,"ng-template",10),r()()()}if(i&2){let e=p();l(5),k(e.journey().name),l(),c("matTooltip","View Journey"),l(3),c("completed",e.journey().id)}}var Cl=(()=>{class i{constructor(){this.route=S(At),this.journeyService=S(z),this.router=S(Re),this.journey=J(new Qe)}ngOnInit(){this.journeyService.getJourneyById(this.route.snapshot.params.id).subscribe(e=>this.journey.set(e))}viewJourney(e){this.router.navigate(["/journey",e.id,"view"]).then()}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=D({type:i,selectors:[["app-edit-journey"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},standalone:!0,features:[M],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text","me-1"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click","matTooltip"],[1,"bi","bi-eye-fill"],["orientation","horizontal"],[3,"completed"],["matStepLabel",""],["matStepContent",""],[3,"journeyChange","journey"]],template:function(n,t){n&1&&_(0,Jo,24,3,"section",0),n&2&&c("ngIf",t.journey)},dependencies:[vt,yt,Oi,Li,Ri,Me,ft,Wi,zi,O,ai],styles:["@media (max-width: 767.98px){[_nghost-%COMP%]     .mat-horizontal-stepper-header{flex-direction:column!important}[_nghost-%COMP%]     .mat-stepper-horizontal-line{display:contents}}"],changeDetection:0})}}return i})();export{Cl as EditJourneyComponent};
