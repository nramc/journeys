import{a as B}from"./chunk-TE5PT6L6.js";import{a as Y}from"./chunk-45ZUDZUP.js";import{a as D}from"./chunk-5CBQWKAO.js";import{c as O,g as R,h as T,i as W,j,k as L,s as G,t as q,w as U}from"./chunk-EJDL6C4J.js";import{a as V}from"./chunk-6NMX424Q.js";import{n as I}from"./chunk-FOKDS6NU.js";import"./chunk-XHHN6UGV.js";import{l as N}from"./chunk-FIKRSNUT.js";import{q as F,r as w}from"./chunk-6TOOB3QO.js";import{$b as E,Db as k,Ia as f,Ja as u,Kb as g,Mb as c,Qa as M,Vb as i,Wb as r,Xb as d,ec as _,gc as p,nc as v,oc as o,qb as a,qc as P,rb as y,rc as b,sc as x,tc as h,ua as S,vc as A,ya as C}from"./chunk-ZMWQM3UH.js";function H(l,m){if(l&1&&(i(0,"div",12),d(1,"input",27),i(2,"label",28),o(3),r()()),l&2){let s=m.$implicit;a(3),P(" ",s," ")}}function z(l,m){if(l&1){let s=E();i(0,"form",4,0),_("submit",function(){f(s);let t=v(1),n=p();return u(n.save(t))}),i(2,"div",5)(3,"div",6),d(4,"app-feedback-message",7),r()(),i(5,"div",5)(6,"label",8),o(7,"Username"),r(),i(8,"div",9),d(9,"input",10),r()(),i(10,"div",5)(11,"div",11)(12,"div",12),d(13,"input",13),i(14,"label",14),o(15," Active "),r()()()(),i(16,"fieldset",5)(17,"legend",15),o(18,"Role(s)"),r(),i(19,"div",16),g(20,H,4,1,"div",17),r()(),i(21,"div",5)(22,"label",18),o(23,"Created"),r(),i(24,"div",9),d(25,"input",19),r()(),i(26,"div",5)(27,"label",20),o(28,"Name"),r(),i(29,"div",9)(30,"input",21),h("ngModelChange",function(t){f(s);let n=p();return x(n.mydata.name,t)||(n.mydata.name=t),u(t)}),r()()(),i(31,"div",5)(32,"label",22),o(33,"Email"),r(),i(34,"div",9)(35,"input",23),h("ngModelChange",function(t){f(s);let n=p();return x(n.mydata.emailAddress,t)||(n.mydata.emailAddress=t),u(t)}),r()()(),i(36,"div",5)(37,"div",24)(38,"button",25),o(39,"Save"),r(),i(40,"button",26),_("click",function(){f(s);let t=p();return u(t.cancel())}),o(41,"Cancel"),r()()()()}if(l&2){let s=v(1),e=p();a(4),c("message",e.feedbackMessage()),a(5),c("value",e.mydata.username),a(4),c("checked",e.mydata.enabled),a(7),c("ngForOf",e.mydata.roles),a(5),c("value",e.mydata.createdDate),a(5),b("ngModel",e.mydata.name),a(5),b("ngModel",e.mydata.emailAddress),a(3),c("disabled",!s.valid)}}var oe=(()=>{let m=class m{constructor(e,t){this.myAccountService=e,this.router=t,this.MY_PROFILE_PAGE_INFO=I,this.destroyRef=S(M),this.feedbackMessage=k({})}ngOnInit(){this.myAccountService.getProfileData().pipe(D(this.destroyRef)).subscribe({next:e=>this.mydata=e,error:e=>console.error(e)})}save(e){e.valid&&e.dirty&&this.myAccountService.saveProfileData(this.mydata).subscribe({next:t=>this.onSuccessCallback(),error:t=>this.onErrorCallback()})}onSuccessCallback(){this.feedbackMessage.set({success:"Profile data saved successfully"})}onErrorCallback(){this.feedbackMessage.set({error:"Update failed. Please check data."})}cancel(){this.router.navigate(["/"]).then(console.log)}};m.\u0275fac=function(t){return new(t||m)(y(B),y(N))},m.\u0275cmp=C({type:m,selectors:[["app-my-profile-page"]],standalone:!0,features:[A],decls:3,vars:2,consts:[["profileForm","ngForm"],[3,"pageInfo"],[1,"container","d-flex","justify-content-start"],["class","col-12 col-lg-8",3,"submit",4,"ngIf"],[1,"col-12","col-lg-8",3,"submit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],["for","username",1,"col-sm-2","col-form-label","text-primary"],[1,"col-sm-10"],["type","text","id","username","disabled","",1,"form-control",3,"value"],[1,"col-sm-10","offset-sm-2"],[1,"form-check"],["type","checkbox","id","isAccountActive","name","isAccountActive","disabled","",1,"form-check-input",3,"checked"],["for","isAccountActive",1,"form-check-label","text-primary"],[1,"col-form-label","col-sm-2","pt-0","text-primary"],[1,"col-sm-10","text-primary"],["class","form-check",4,"ngFor","ngForOf"],["for","createdDate",1,"col-sm-2","col-form-label","text-primary"],["type","datetime-local","id","createdDate","name","createdDate","disabled","","readonly","",1,"form-control",3,"value"],["for","name",1,"col-sm-2","col-form-label","text-primary"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","emailAddress",1,"col-sm-2","col-form-label","text-primary"],["type","email","id","emailAddress","name","emailAddress","required","","email","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col","text-center","d-flex","gap-3","justify-content-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["type","checkbox","name","roleName","id","roleName","checked","","disabled","",1,"form-check-input"],["for","roleName",1,"form-check-label"]],template:function(t,n){t&1&&(d(0,"app-page-header",1),i(1,"section",2),g(2,z,42,8,"form",3),r()),t&2&&(c("pageInfo",n.MY_PROFILE_PAGE_INFO),a(2),c("ngIf",n.mydata))},dependencies:[V,w,U,L,O,R,T,G,q,j,W,F,Y]});let l=m;return l})();export{oe as MyProfilePageComponent};
