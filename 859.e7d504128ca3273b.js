"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[859],{3859:(li,A,d)=>{d.r(A),d.d(A,{EditJourneyComponent:()=>si});var V=d(5558),O=d(6939),C=d(6039),Y=d(8203),y=d(7336),e=d(4438),P=d(6860),z=d(1413),U=d(7673),x=d(9172),E=d(6977);const pe=["*"];function me(n,a){1&n&&e.SdG(0)}let H=(()=>{class n{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}return n})(),L=(()=>{class n{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","cdkStepLabel",""]],standalone:!0})}return n})(),ue=0;const Q=new e.nKC("STEPPER_GLOBAL_OPTIONS");let X=(()=>{class n{get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,i){this._stepper=t,this.interacted=!1,this.interactedStream=new e.bkB,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU((0,e.Rfq)(()=>I)),e.rXU(Q,8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["cdk-step"]],contentQueries:function(i,o,r){if(1&i&&e.wni(r,L,5),2&i){let l;e.mGM(l=e.lsd())&&(o.stepLabel=l.first)}},viewQuery:function(i,o){if(1&i&&e.GBs(e.C4Q,7),2&i){let r;e.mGM(r=e.lsd())&&(o.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],state:"state",editable:[e.Mj6.HasDecoratorInputTransform,"editable","editable",e.L39],optional:[e.Mj6.HasDecoratorInputTransform,"optional","optional",e.L39],completed:[e.Mj6.HasDecoratorInputTransform,"completed","completed",e.L39],hasError:[e.Mj6.HasDecoratorInputTransform,"hasError","hasError",e.L39]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[e.GFd,e.OA$,e.aNF],ngContentSelectors:pe,decls:1,vars:0,template:function(i,o){1&i&&(e.NAR(),e.DNE(0,me,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return n})(),I=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}constructor(t,i,o){this._dir=t,this._changeDetectorRef=i,this._elementRef=o,this._destroyed=new z.B,this.steps=new e.rOR,this._sortedHeaders=new e.rOR,this.linear=!1,this._selectedIndex=0,this.selectionChange=new e.bkB,this.selectedIndexChange=new e.bkB,this._orientation="horizontal",this._groupId=ue++}ngAfterContentInit(){this._steps.changes.pipe((0,x.Z)(this._steps),(0,E.Q)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,x.Z)(this._stepHeader),(0,E.Q)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((i,o)=>i._elementRef.nativeElement.compareDocumentPosition(o._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new C.Bu(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,U.of)()).pipe((0,x.Z)(this._layoutDirection()),(0,E.Q)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const i=t-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,i="number"){const o=this.steps.toArray()[t],r=this._isCurrentStep(t);return o._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(o,r):this._getGuidelineLogic(o,r,i)}_getDefaultIndicatorLogic(t,i){return t._showError()&&t.hasError&&!i?"error":!t.completed||i?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,i,o="number"){return t._showError()&&t.hasError&&!i?"error":t.completed&&!i?"done":t.completed&&i?o:t.editable&&i?"edit":o}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:i[t],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){const i=(0,y.rp)(t),o=t.keyCode,r=this._keyManager;null==r.activeItemIndex||i||o!==y.t6&&o!==y.Fm?r.setFocusOrigin("keyboard").onKeydown(t):(this.selectedIndex=r.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this.linear&&t>=0)&&this.steps.toArray().slice(0,t).some(i=>{const o=i.stepControl;return(o?o.invalid||o.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,P.vc)();return t===i||t.contains(i)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(Y.dS,8),e.rXU(e.gRc),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(i,o,r){if(1&i&&(e.wni(r,X,5),e.wni(r,H,5)),2&i){let l;e.mGM(l=e.lsd())&&(o._steps=l),e.mGM(l=e.lsd())&&(o._stepHeader=l)}},inputs:{linear:[e.Mj6.HasDecoratorInputTransform,"linear","linear",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[e.GFd]})}return n})(),_e=(()=>{class n{constructor(t){this._stepper=t,this.type="submit"}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(I))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(i,o){1&i&&e.bIt("click",function(){return o._stepper.next()}),2&i&&e.Mr5("type",o.type)},inputs:{type:"type"},standalone:!0})}return n})();var u=d(177),F=d(6600),k=d(9213),he=d(8359),ge=d(6354),Z=d(3294),c=d(9969);function fe(n,a){if(1&n&&e.eu8(0,2),2&n){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function ve(n,a){if(1&n&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(t._getDefaultTextForState(t.state))}}function be(n,a){if(1&n&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t._intl.completedLabel)}}function ye(n,a){if(1&n&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.JRh(t._intl.editableLabel)}}function je(n,a){if(1&n&&(e.DNE(0,be,2,1,"span",8)(1,ye,2,1),e.j41(2,"mat-icon",7),e.EFF(3),e.k0s()),2&n){const t=e.XpG(2);e.vxM(0,"done"===t.state?0:"edit"===t.state?1:-1),e.R7$(3),e.JRh(t._getDefaultTextForState(t.state))}}function xe(n,a){if(1&n&&e.DNE(0,ve,2,1)(1,je,4,2),2&n){let t;const i=e.XpG();e.vxM(0,"number"===(t=i.state)?0:1)}}function Ee(n,a){1&n&&(e.j41(0,"div",4),e.eu8(1,9),e.k0s()),2&n&&(e.R7$(),e.Y8G("ngTemplateOutlet",a.template))}function Me(n,a){if(1&n&&(e.j41(0,"div",4),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.label)}}function De(n,a){if(1&n&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t._intl.optionalLabel)}}function Ce(n,a){if(1&n&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.errorMessage)}}const K=["*"];function Ie(n,a){}function Fe(n,a){if(1&n&&(e.SdG(0),e.DNE(1,Ie,0,0,"ng-template",0)),2&n){const t=e.XpG();e.R7$(),e.Y8G("cdkPortalOutlet",t._portal)}}const W=(n,a)=>({step:n,i:a}),q=n=>({animationDuration:n}),ee=(n,a)=>({value:n,params:a});function ke(n,a){1&n&&e.SdG(0)}function Te(n,a){1&n&&e.nrm(0,"div",6)}function Se(n,a){if(1&n&&(e.eu8(0,5),e.DNE(1,Te,1,0,"div",6)),2&n){const t=a.$implicit,i=a.$index,o=a.$index,r=a.$count;e.XpG(2);const l=e.sdS(4);e.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",e.l_i(3,W,t,i)),e.R7$(),e.vxM(1,o!==r-1?1:-1)}}function Re(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",7),e.bIt("@horizontalStepTransition.done",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r._animationDone.next(o))}),e.eu8(1,8),e.k0s()}if(2&n){const t=a.$implicit,i=a.$index,o=e.XpG(2);e.AVh("mat-horizontal-stepper-content-inactive",o.selectedIndex!==i),e.Y8G("@horizontalStepTransition",e.l_i(8,ee,o._getAnimationDirection(i),e.eq3(6,q,o._getAnimationDuration())))("id",o._getStepContentId(i)),e.BMQ("aria-labelledby",o._getStepLabelId(i)),e.R7$(),e.Y8G("ngTemplateOutlet",t.content)}}function Be(n,a){if(1&n&&(e.j41(0,"div",1)(1,"div",2),e.Z7z(2,Se,2,6,null,null,e.fX1),e.k0s(),e.j41(4,"div",3),e.Z7z(5,Re,2,11,"div",4,e.fX1),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.Dyx(t.steps),e.R7$(3),e.Dyx(t.steps)}}function Ge(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",9),e.eu8(1,5),e.j41(2,"div",10)(3,"div",11),e.bIt("@verticalStepTransition.done",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r._animationDone.next(o))}),e.j41(4,"div",12),e.eu8(5,8),e.k0s()()()()}if(2&n){const t=a.$implicit,i=a.$index,o=a.$index,r=a.$count,l=e.XpG(2),m=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",m)("ngTemplateOutletContext",e.l_i(10,W,t,i)),e.R7$(),e.AVh("mat-stepper-vertical-line",o!==r-1),e.R7$(),e.AVh("mat-vertical-stepper-content-inactive",l.selectedIndex!==i),e.Y8G("@verticalStepTransition",e.l_i(15,ee,l._getAnimationDirection(i),e.eq3(13,q,l._getAnimationDuration())))("id",l._getStepContentId(i)),e.BMQ("aria-labelledby",l._getStepLabelId(i)),e.R7$(2),e.Y8G("ngTemplateOutlet",t.content)}}function Ne(n,a){if(1&n&&e.Z7z(0,Ge,6,18,"div",9,e.fX1),2&n){const t=e.XpG();e.Dyx(t.steps)}}function Je(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-step-header",13),e.bIt("click",function(){const o=e.eBV(t).step;return e.Njj(o.select())})("keydown",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r._onKeydown(o))}),e.k0s()}if(2&n){const t=a.step,i=a.i,o=e.XpG();e.AVh("mat-horizontal-stepper-header","horizontal"===o.orientation)("mat-vertical-stepper-header","vertical"===o.orientation),e.Y8G("tabIndex",o._getFocusIndex()===i?0:-1)("id",o._getStepLabelId(i))("index",i)("state",o._getIndicatorType(i,t.state))("label",t.stepLabel||t.label)("selected",o.selectedIndex===i)("active",o._stepIsNavigable(i,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",o._iconOverrides)("disableRipple",o.disableRipple||!o._stepIsNavigable(i,t))("color",t.color||o.color),e.BMQ("aria-posinset",i+1)("aria-setsize",o.steps.length)("aria-controls",o._getStepContentId(i))("aria-selected",o.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!o._stepIsNavigable(i,t)||null)}}let T=(()=>{class n extends L{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","matStepLabel",""]],standalone:!0,features:[e.Vt3]})}return n})(),S=(()=>{class n{constructor(){this.changes=new z.B,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),te=(()=>{class n extends H{constructor(t,i,o,r){super(o),this._intl=t,this._focusMonitor=i,this._intlSubscription=t.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._elementRef,t,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof T?null:this.label}_templateLabel(){return this.label instanceof T?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(S),e.rXU(C.FN),e.rXU(e.aKT),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,o){2&i&&e.HbH("mat-"+(o.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,o){if(1&i&&(e.nrm(0,"div",0),e.j41(1,"div")(2,"div",1),e.DNE(3,fe,1,2,"ng-container",2)(4,xe,2,1),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Ee,2,1,"div",4)(7,Me,2,1)(8,De,2,1,"div",5)(9,Ce,2,1,"div",6),e.k0s()),2&i){let r;e.Y8G("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disableRipple),e.R7$(),e.ZvI("mat-step-icon-state-",o.state," mat-step-icon"),e.AVh("mat-step-icon-selected",o.selected),e.R7$(2),e.vxM(3,o.iconOverrides&&o.iconOverrides[o.state]?3:4),e.R7$(2),e.AVh("mat-step-label-active",o.active)("mat-step-label-selected",o.selected)("mat-step-label-error","error"==o.state),e.R7$(),e.vxM(6,(r=o._templateLabel())?6:o._stringLabel()?7:-1,r),e.R7$(2),e.vxM(8,o.optional&&"error"!=o.state?8:-1),e.R7$(),e.vxM(9,"error"===o.state?9:-1)}},dependencies:[F.r6,u.T3,k.An],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0})}return n})();const oe={horizontalStepTransition:(0,c.hZ)("horizontalStepTransition",[(0,c.wk)("previous",(0,c.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,c.wk)("current",(0,c.iF)({transform:"none",visibility:"inherit"})),(0,c.wk)("next",(0,c.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,c.kY)("* => *",(0,c.Os)([(0,c.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),(0,c.P)("@*",(0,c.MA)(),{optional:!0})]),{params:{animationDuration:"500ms"}})]),verticalStepTransition:(0,c.hZ)("verticalStepTransition",[(0,c.wk)("previous",(0,c.iF)({height:"0px",visibility:"hidden"})),(0,c.wk)("next",(0,c.iF)({height:"0px",visibility:"hidden"})),(0,c.wk)("current",(0,c.iF)({height:"*",visibility:"inherit"})),(0,c.kY)("* <=> current",(0,c.Os)([(0,c.i0)("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),(0,c.P)("@*",(0,c.MA)(),{optional:!0})]),{params:{animationDuration:"225ms"}})])};let Ve=(()=>{class n{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[e.Mj6.None,"matStepperIcon","name"]},standalone:!0})}return n})(),re=(()=>{class n{constructor(t){this._template=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["ng-template","matStepContent",""]],standalone:!0})}return n})(),ae=(()=>{class n extends X{constructor(t,i,o,r){super(t,r),this._errorStateMatcher=i,this._viewContainerRef=o,this._isSelected=he.yU.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,V.n)(()=>this._stepper.selectionChange.pipe((0,ge.T)(t=>t.selectedStep===this),(0,x.Z)(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new O.VA(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,i){return this._errorStateMatcher.isErrorState(t,i)||!!(t&&t.invalid&&this.interacted)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU((0,e.Rfq)(()=>se)),e.rXU(F.es,4),e.rXU(e.c1b),e.rXU(Q,8))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["mat-step"]],contentQueries:function(i,o,r){if(1&i&&(e.wni(r,T,5),e.wni(r,re,5)),2&i){let l;e.mGM(l=e.lsd())&&(o.stepLabel=l.first),e.mGM(l=e.lsd())&&(o._lazyContent=l.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[e.Jv_([{provide:F.es,useExisting:n},{provide:X,useExisting:n}]),e.Vt3,e.aNF],ngContentSelectors:K,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,o){1&i&&(e.NAR(),e.DNE(0,Fe,2,1,"ng-template"))},dependencies:[O.I3],encapsulation:2,changeDetection:0})}return n})(),se=(()=>{class n extends I{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,i,o){super(t,i,o),this._stepHeader=void 0,this._steps=void 0,this.steps=new e.rOR,this.animationDone=new e.bkB,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new z.B,this._animationDuration="",this._isServer=!(0,e.WQX)(P.OD).isBrowser;const r=o.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===r?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:i})=>this._iconOverrides[t]=i),this.steps.changes.pipe((0,E.Q)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,Z.F)((t,i)=>t.fromState===i.fromState&&t.toState===i.toState),(0,E.Q)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,i){return i.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(Y.dS,8),e.rXU(e.gRc),e.rXU(e.aKT))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,o,r){if(1&i&&(e.wni(r,ae,5),e.wni(r,Ve,5)),2&i){let l;e.mGM(l=e.lsd())&&(o._steps=l),e.mGM(l=e.lsd())&&(o._icons=l)}},viewQuery:function(i,o){if(1&i&&e.GBs(te,5),2&i){let r;e.mGM(r=e.lsd())&&(o._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(i,o){2&i&&(e.BMQ("aria-orientation",o.orientation),e.AVh("mat-stepper-horizontal","horizontal"===o.orientation)("mat-stepper-vertical","vertical"===o.orientation)("mat-stepper-label-position-end","horizontal"===o.orientation&&"end"==o.labelPosition)("mat-stepper-label-position-bottom","horizontal"===o.orientation&&"bottom"==o.labelPosition)("mat-stepper-header-position-bottom","bottom"===o.headerPosition))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[e.Jv_([{provide:I,useExisting:n}]),e.Vt3,e.aNF],ngContentSelectors:K,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,o){if(1&i&&(e.NAR(),e.DNE(0,ke,1,0)(1,Be,7,0)(2,Ne,2,0)(3,Je,1,23,"ng-template",null,0,e.C5r)),2&i){let r;e.vxM(0,o._isServer?0:-1),e.R7$(),e.vxM(1,"horizontal"===(r=o.orientation)?1:"vertical"===r?2:-1)}},dependencies:[u.T3,te],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[oe.horizontalStepTransition,oe.verticalStepTransition]},changeDetection:0})}return n})(),R=(()=>{class n extends _e{static#e=this.\u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static#t=this.\u0275dir=e.FsC({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(i,o){2&i&&e.Mr5("type",o.type)},standalone:!0,features:[e.Vt3]})}return n})();var ze=d(152),M=d(6471),s=d(9417),D=d(5507),B=d(6911),le=d(8722),Xe=d(4435),j=d(7404),$e=d(1840);function Ae(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Name is required."),e.k0s())}function Oe(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Name must be at least 5 characters long."),e.k0s())}function Ye(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Name must be at most 50 characters long."),e.k0s())}function Pe(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Category is required."),e.k0s())}function Ue(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Category must be at least 3 characters long."),e.k0s())}function He(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Category must be at most 16 characters long."),e.k0s())}function Le(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Title is required."),e.k0s())}function Qe(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Title must be at least 10 characters long."),e.k0s())}function Ze(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Title must be at most 100 characters long."),e.k0s())}function Ke(n,a){if(1&n&&(e.j41(0,"option",35),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,t))}}function We(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Icon is required."),e.k0s())}function qe(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Memories is required."),e.k0s())}function et(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Memories must be at least 10 characters long."),e.k0s())}function tt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Memories must be at most 5000 characters long."),e.k0s())}function it(n,a){if(1&n){const t=e.RV6();e.j41(0,"mat-chip-row",64),e.bIt("removed",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeTag(o))}),e.EFF(1),e.j41(2,"button",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeTag(o))}),e.j41(3,"mat-icon"),e.EFF(4,"cancel"),e.k0s()()()}if(2&n){const t=a.$implicit;e.Y8G("highlighted",!0)("editable",!1)("removable",!0),e.R7$(),e.SpI(" ",t," ")}}function nt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Longitude is required."),e.k0s())}function ot(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Longitude must be between -180.0 to 180.0."),e.k0s())}function rt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Longitude must be between -180.0 to 180.0."),e.k0s())}function at(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Latitude is required."),e.k0s())}function st(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Latitude must be between -90.0 to 90.0."),e.k0s())}function lt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Latitude must be between -9 0.0 to 90.0."),e.k0s())}function dt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"City is required."),e.k0s())}function ct(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"City must be at least 3 characters long."),e.k0s())}function pt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"City must be at most 50 characters long."),e.k0s())}function mt(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Country is required."),e.k0s())}function ut(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Country must be at least 3 characters long."),e.k0s())}function _t(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Country must be at most 50 characters long."),e.k0s())}function ht(n,a){1&n&&(e.j41(0,"div"),e.EFF(1,"Journey Date is required."),e.k0s())}function gt(n,a){if(1&n){const t=e.RV6();e.j41(0,"form",13,0),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.sdS(1),r=e.XpG();return e.Njj(r.save(o))}),e.j41(2,"div",14)(3,"div",15),e.nrm(4,"app-feedback-message",16),e.k0s()(),e.j41(5,"div",17)(6,"div",18)(7,"div",17)(8,"div",19)(9,"span",20),e.EFF(10,"ID"),e.k0s(),e.j41(11,"input",21),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.id,o)||(r.journey.id=o),e.Njj(o)}),e.k0s()()(),e.j41(12,"div",17)(13,"div",22)(14,"label",23),e.EFF(15,"Name"),e.k0s(),e.j41(16,"input",24,1),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.name,o)||(r.journey.name=o),e.Njj(o)}),e.k0s(),e.j41(18,"div",25),e.DNE(19,Ae,2,0,"div",26)(20,Oe,2,0,"div",26)(21,Ye,2,0,"div",26),e.k0s()(),e.j41(22,"div",27)(23,"label",28),e.EFF(24,"Category"),e.k0s(),e.j41(25,"input",29,2),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.category,o)||(r.journey.category=o),e.Njj(o)}),e.k0s(),e.j41(27,"div",25),e.DNE(28,Pe,2,0,"div",26)(29,Ue,2,0,"div",26)(30,He,2,0,"div",26),e.k0s()()(),e.j41(31,"div",17)(32,"div",30)(33,"label",31),e.EFF(34,"Title"),e.k0s(),e.j41(35,"input",32,3),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.title,o)||(r.journey.title=o),e.Njj(o)}),e.k0s(),e.j41(37,"div",25),e.DNE(38,Le,2,0,"div",26)(39,Qe,2,0,"div",26)(40,Ze,2,0,"div",26),e.k0s()(),e.j41(41,"div",27)(42,"label",33),e.EFF(43,"Icon"),e.k0s(),e.j41(44,"select",34,4),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.refreshMapWithCoordinates())}),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.icon,o)||(r.journey.icon=o),e.Njj(o)}),e.Z7z(46,Ke,3,4,"option",35,e.fX1),e.k0s(),e.j41(48,"div",25),e.DNE(49,We,2,0,"div",26),e.k0s()()(),e.j41(50,"div",36)(51,"label",37),e.EFF(52,"Memories"),e.k0s(),e.j41(53,"textarea",38,5),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.description,o)||(r.journey.description=o),e.Njj(o)}),e.k0s(),e.j41(55,"div",25),e.DNE(56,qe,2,0,"div",26)(57,et,2,0,"div",26)(58,tt,2,0,"div",26),e.k0s()(),e.j41(59,"div",14)(60,"div",39)(61,"mat-chip-grid",40,6),e.Z7z(63,it,5,4,"mat-chip-row",41,e.fX1),e.j41(65,"input",42),e.bIt("matChipInputTokenEnd",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.addTag(o))}),e.k0s()()(),e.j41(66,"div",39)(67,"div",43)(68,"span",44),e.EFF(69,"Coordinates"),e.k0s(),e.j41(70,"input",45,7),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.coordinates[0],o)||(r.coordinates[0]=o),e.Njj(o)}),e.bIt("blur",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.refreshMapWithCoordinates())}),e.k0s(),e.j41(72,"input",46,8),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.coordinates[1],o)||(r.coordinates[1]=o),e.Njj(o)}),e.bIt("blur",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.refreshMapWithCoordinates())}),e.k0s()(),e.j41(74,"div",47)(75,"div",48),e.DNE(76,nt,2,0,"div",26)(77,ot,2,0,"div",26)(78,rt,2,0,"div",26),e.k0s(),e.j41(79,"div",25),e.DNE(80,at,2,0,"div",26)(81,st,2,0,"div",26)(82,lt,2,0,"div",26),e.k0s()()()(),e.j41(83,"div",17)(84,"div",49)(85,"label",50),e.EFF(86,"City"),e.k0s(),e.j41(87,"input",51,9),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.city,o)||(r.journey.city=o),e.Njj(o)}),e.k0s(),e.j41(89,"div",25),e.DNE(90,dt,2,0,"div",26)(91,ct,2,0,"div",26)(92,pt,2,0,"div",26),e.k0s()(),e.j41(93,"div",49)(94,"label",52),e.EFF(95,"Country"),e.k0s(),e.j41(96,"input",53,10),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.country,o)||(r.journey.country=o),e.Njj(o)}),e.k0s(),e.j41(98,"div",25),e.DNE(99,mt,2,0,"div",26)(100,ut,2,0,"div",26)(101,_t,2,0,"div",26),e.k0s()(),e.j41(102,"div",54)(103,"label",55),e.EFF(104,"Journey Date"),e.k0s(),e.j41(105,"div",56)(106,"input",57,11),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.journeyDate,o)||(r.journey.journeyDate=o),e.Njj(o)}),e.k0s(),e.j41(109,"button",58),e.bIt("click",function(){e.eBV(t);const o=e.sdS(108);return e.Njj(o.toggle())}),e.k0s(),e.j41(110,"div",25),e.DNE(111,ht,2,0,"div",26),e.k0s()()()()(),e.j41(112,"div",59),e.nrm(113,"app-world-map",60),e.k0s()(),e.j41(114,"div",17)(115,"div",61)(116,"button",62),e.EFF(117," Save "),e.k0s(),e.j41(118,"button",63),e.EFF(119,"Next "),e.k0s()()()()}if(2&n){const t=e.sdS(1),i=e.sdS(17),o=e.sdS(26),r=e.sdS(36),l=e.sdS(45),m=e.sdS(54),J=e.sdS(62),h=e.sdS(71),g=e.sdS(73),f=e.sdS(88),v=e.sdS(97),w=e.sdS(107),p=e.XpG();e.R7$(4),e.Y8G("successMessage",p.successMessage)("errorMessage",p.errorMessage),e.R7$(7),e.R50("ngModel",p.journey.id),e.R7$(5),e.R50("ngModel",p.journey.name),e.R7$(2),e.Y8G("hidden",i.valid||i.pristine),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.required),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.minlength),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.category),e.Y8G("ngbTypeahead",p.searchCategory),e.R7$(2),e.Y8G("hidden",o.valid||o.pristine),e.R7$(),e.Y8G("ngIf",null==o.errors?null:o.errors.required),e.R7$(),e.Y8G("ngIf",null==o.errors?null:o.errors.minlength),e.R7$(),e.Y8G("ngIf",null==o.errors?null:o.errors.maxlength),e.R7$(5),e.R50("ngModel",p.journey.title),e.R7$(2),e.Y8G("hidden",r.valid||r.pristine),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.minlength),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.icon),e.R7$(2),e.Dyx(p.SUPPORTED_ICONS),e.R7$(2),e.Y8G("hidden",l.valid||l.pristine),e.R7$(),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(4),e.R50("ngModel",p.journey.description),e.R7$(2),e.Y8G("hidden",m.valid||m.pristine),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.required),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.minlength),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.maxlength),e.R7$(5),e.Dyx(p.journey.tags),e.R7$(2),e.Y8G("matChipInputFor",J)("matChipInputSeparatorKeyCodes",p.separatorKeysCodes)("matChipInputAddOnBlur",!0),e.R7$(5),e.R50("ngModel",p.coordinates[0]),e.R7$(2),e.R50("ngModel",p.coordinates[1]),e.R7$(3),e.Y8G("hidden",h.valid||h.pristine),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.required),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.min),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.max),e.R7$(),e.Y8G("hidden",g.valid||g.pristine),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.required),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.min),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.max),e.R7$(5),e.R50("ngModel",p.journey.city),e.R7$(2),e.Y8G("hidden",f.valid||f.pristine),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.required),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.minlength),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.country),e.R7$(2),e.Y8G("hidden",v.valid||v.pristine),e.R7$(),e.Y8G("ngIf",null==v.errors?null:v.errors.required),e.R7$(),e.Y8G("ngIf",null==v.errors?null:v.errors.minlength),e.R7$(),e.Y8G("ngIf",null==v.errors?null:v.errors.maxlength),e.R7$(5),e.R50("ngModel",p.journey.journeyDate),e.R7$(4),e.Y8G("hidden",w.valid||w.pristine),e.R7$(),e.Y8G("ngIf",null==w.errors?null:w.errors.required),e.R7$(2),e.Y8G("geoJsonData",p.journey.location)("iconType",p.journey.icon)("maxZoom",10),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let ft=(()=>{class n{constructor(t,i){this.journeyService=t,this.autoCompleteService=i,this.separatorKeysCodes=[y.Fm,y.KE,y.t6],this.predefinedCategories=["Travel","Work","Residential"],this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.coordinates=[],this.searchCategory=o=>o.pipe((0,x.Z)(""),(0,ze.B)(200),(0,Z.F)(),(0,V.n)(r=>r.length<1?(0,U.of)([]):this.autoCompleteService.getAvailableCategories(r.toLowerCase()))),this.SUPPORTED_ICONS=Xe.AB}ngOnInit(){this.coordinates=this.journey.location.coordinates}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage="Journey saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}addTag(t){const i=(t.value||"").toLowerCase().trim();i&&this.journey.tags.push(i),t.chipInput.clear()}removeTag(t){const i=this.journey.tags.indexOf(t);i>=0&&this.journey.tags.splice(i,1)}refreshMapWithCoordinates(){setTimeout(()=>{2==this.coordinates.length&&(this.journey.location={type:"Point",coordinates:this.coordinates})},100)}save(t){console.debug("Submitted form data:",t),this.journeyService.saveJourneyBasicDetails(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while saving data",i)})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(j.K),e.rXU($e.Y))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","16","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["rows","5","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","blur","ngModel"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","blur","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-6"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-md-4"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData","iconType","maxZoom"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(i,o){1&i&&e.DNE(0,gt,120,58,"form",12),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[D.k,s.YN,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.xh,s.tU,s.VZ,s.zX,s.vS,s.cV,u.bT,B.$n,k.m_,k.An,M.YN,M.HW,M.D7,M.Zv,M.jH,B.cw,R,le.s,u.PV],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return n})();var b=d(777);function vt(n,a){if(1&n){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.sdS(1),r=e.XpG();return e.Njj(r.save(o))}),e.j41(2,"div",3)(3,"div",4),e.nrm(4,"app-feedback-message",5),e.k0s()(),e.j41(5,"div",6)(6,"div",7)(7,"div")(8,"label",8)(9,"span"),e.EFF(10,"Tip:"),e.k0s(),e.j41(11,"a",9),e.EFF(12,"GeoJson Creator"),e.k0s(),e.j41(13,"a",10),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.formatGeoJsonIfRequired())}),e.EFF(14,"Format Data"),e.k0s()(),e.j41(15,"textarea",11),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.geoJsonString,o)||(r.geoJsonString=o),e.Njj(o)}),e.bIt("change",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.reloadMap())}),e.EFF(16),e.nI1(17,"json"),e.k0s()()(),e.j41(18,"div",12),e.nrm(19,"app-world-map",13),e.k0s()(),e.j41(20,"div",14)(21,"div",15)(22,"button",16),e.EFF(23," Save "),e.k0s(),e.j41(24,"button",17),e.EFF(25,"Next "),e.k0s()()()()}if(2&n){const t=e.sdS(1),i=e.XpG();e.R7$(4),e.Y8G("successMessage",i.successMessage)("errorMessage",i.errorMessage),e.R7$(11),e.R50("ngModel",i.geoJsonString),e.R7$(),e.SpI("          ",e.bMT(17,7,null==i.journey.extendedDetails||null==i.journey.extendedDetails.geoDetails?null:i.journey.extendedDetails.geoDetails.geoJson),"\n        "),e.R7$(3),e.Y8G("geoJsonData",i.formGeoDetails.geoJson),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let bt=(()=>{class n{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formGeoDetails=new b.oy(void 0),this.geoJsonString=""}ngOnInit(){this.formGeoDetails=this.journey.extendedDetails?.geoDetails?this.journey.extendedDetails.geoDetails:new b.oy(this.journey.location),this.geoJsonString=JSON.stringify(this.formGeoDetails.geoJson)}save(t){console.debug("submitted form:",t),this.journeyService.saveJourneyGeoDetails(this.journey,this.formGeoDetails).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while saving geo data",i)})}onUpdateSuccess(t){this.successMessage="Journey saved successfully.",this.journey=t,this.savedEvent.emit(t)}onError(t,i){this.errorMessage=t,console.error(i)}reloadMap(){this.geoJsonString&&(this.formGeoDetails.geoJson=JSON.parse(this.geoJsonString))}formatGeoJsonIfRequired(){if(this.geoJsonString){let t=JSON.parse(this.geoJsonString);if("FeatureCollection"==t.type){let i={type:"GeometryCollection",geometries:t.features.map(o=>o.geometry)};this.geoJsonString=JSON.stringify(i),this.reloadMap()}}}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],[1,"geojson-tip",3,"click"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],["maxZoom","10",1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(i,o){1&i&&e.DNE(0,vt,26,9,"form",1),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.cV,D.k,le.s,R,u.bT,u.TG],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"]})}return n})();var $=d(2525);function yt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",4)(1,"div",5),e.nrm(2,"img",6),e.k0s(),e.j41(3,"div",7)(4,"form",8),e.bIt("submit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save())}),e.j41(5,"div",9)(6,"input",10),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.url,o)||(r.imageItem.url=o),e.Njj(o)}),e.k0s(),e.j41(7,"label",11),e.EFF(8,"Image URL"),e.k0s()(),e.j41(9,"div",9)(10,"input",12),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.assetId,o)||(r.imageItem.assetId=o),e.Njj(o)}),e.k0s(),e.j41(11,"label",13),e.EFF(12,"ID"),e.k0s()(),e.j41(13,"div",9)(14,"input",14),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.title,o)||(r.imageItem.title=o),e.Njj(o)}),e.k0s(),e.j41(15,"label",15),e.EFF(16,"Title"),e.k0s()(),e.j41(17,"div",16)(18,"div",17)(19,"input",18),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.isFavorite,o)||(r.imageItem.isFavorite=o),e.Njj(o)}),e.k0s()(),e.nrm(20,"input",19),e.k0s(),e.j41(21,"div",16)(22,"div",17)(23,"input",20),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.isThumbnail,o)||(r.imageItem.isThumbnail=o),e.Njj(o)}),e.k0s()(),e.nrm(24,"input",21),e.k0s(),e.j41(25,"div",22)(26,"button",23),e.EFF(27,"Save"),e.k0s(),e.j41(28,"button",24),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.remove())}),e.EFF(29,"Remove"),e.k0s(),e.j41(30,"button",25),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.cancel())}),e.EFF(31,"Cancel"),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(2),e.Y8G("src",t.imageItem.url,e.B4B)("alt",t.imageItem.assetId)("title",t.imageItem.assetId),e.R7$(4),e.R50("ngModel",t.imageItem.url),e.R7$(4),e.R50("ngModel",t.imageItem.assetId),e.R7$(4),e.R50("ngModel",t.imageItem.title),e.Y8G("autofocus",!0),e.R7$(5),e.R50("ngModel",t.imageItem.isFavorite),e.R7$(4),e.R50("ngModel",t.imageItem.isThumbnail)}}let jt=(()=>{class n{constructor(t){this.activeModel=t}save(){this.activeModel.close(this.imageItem)}cancel(){this.activeModel.dismiss()}remove(){this.activeModel.close(this.imageItem?.assetId)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(B.Lw))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:"imageItem"},standalone:!0,features:[e.aNF],decls:5,vars:1,consts:[[1,"container"],[1,"model-header","m-1"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],["class","d-flex flex-column flex-md-row justify-content-evenly",4,"ngIf"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly"],[1,"image-thumbnail","m-1","col-md-4","text-center"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[3,"submit"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],[1,"btn","btn-outline-primary","me-1"],["type","button",1,"btn","btn-outline-danger","me-1",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h6",2),e.EFF(3,"Edit Image Details"),e.k0s()(),e.DNE(4,yt,32,9,"div",3),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngIf",o.imageItem))},dependencies:[s.YN,s.qT,s.me,s.Zm,s.BC,s.cb,s.vS,s.cV,u.bT],encapsulation:2})}return n})();const xt=(n,a)=>a.assetId,Et=(n,a)=>({"border-success":n,"border-primary":a});function Mt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.openImageItem(o))}),e.nrm(1,"img",14),e.k0s()}if(2&n){const t=a.$implicit;e.R7$(),e.Y8G("src",t.url,e.B4B)("alt",t.assetId)("title",t.assetId)("ngClass",e.l_i(4,Et,t.isThumbnail,!t.isThumbnail))}}function Dt(n,a){if(1&n){const t=e.RV6();e.j41(0,"form",1),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.save())}),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"app-feedback-message",4),e.k0s()(),e.j41(4,"div",5)(5,"div",3)(6,"div",6),e.Z7z(7,Mt,2,7,"div",7,xt),e.k0s()()(),e.j41(9,"div",5)(10,"div",8)(11,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.openUploadWidget())}),e.nrm(12,"i",10),e.j41(13,"span",11),e.EFF(14,"Upload"),e.k0s()(),e.j41(15,"button",12),e.EFF(16,"Next "),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("successMessage",t.successMessage)("errorMessage",t.errorMessage),e.R7$(4),e.Dyx(t.formImageDetails.images),e.R7$(8),e.Y8G("disabled",!(null!=t.journey.extendedDetails&&null!=t.journey.extendedDetails.imagesDetails&&t.journey.extendedDetails.imagesDetails.images))}}let Ct=(()=>{class n{constructor(t,i){this.journeyService=t,this.modelService=i,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formImageDetails=new b.bV}ngOnInit(){this.journey?.extendedDetails?.imagesDetails&&(this.formImageDetails=this.journey.extendedDetails.imagesDetails),this.myWidget=cloudinary.createUploadWidget(this.getWidgetParams(this.journey),(t,i)=>{!t&&i&&"success"===i.event&&this.addImage(i.info),!t&&i&&"close"===i.event&&this.save()})}addImage(t){this.formImageDetails.images.push(new b.Fk(t.secure_url,t.asset_id))}removeImageAndSaveJourney(t){const i=this.formImageDetails.images.indexOf(t);i>=0&&(this.formImageDetails.images.splice(i,1),this.save())}getWidgetParams(t){return{cloudName:$.c.cloudName,uploadPreset:$.c.cloudinaryPreset,folder:`${$.c.cloudBaseDir}/${t.id}`,tags:t.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:"dev",id:`${t.id}`},cropping:!1,showAdvancedOptions:!0,multiple:!0}}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage="Image Details saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}save(){this.journeyService.saveJourneyImagesDetails(this.journey,this.formImageDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving images data",t)})}openUploadWidget(){this.myWidget.open()}openImageItem(t){const i=this.modelService.open(jt,{animation:!0,size:"lg",backdrop:!0,centered:!0,scrollable:!0});i.componentInstance.imageItem=t,i.result.then(o=>{if(o&&"object"==typeof o){let r=this.journey.extendedDetails?.imagesDetails?.images?.find(l=>l.assetId==o.assertId);Object.assign(r??{},o)}else if("string"==typeof o){const r=this.journey.extendedDetails?.imagesDetails?.images?.findIndex(l=>l.assetId==o);r&&r>-1&&this.journey.extendedDetails?.imagesDetails?.images.splice(r,1)}this.save()},o=>{console.log("Update cancelled, reason:",o)})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(j.K),e.rXU(B.Bq))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-images-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-cloud-arrow-up-fill","fs-5"],[1,"ms-2"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],[1,"m-2","image-thumbnail-wrapper",3,"click"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","alt","title","ngClass"]],template:function(i,o){1&i&&e.DNE(0,Dt,17,3,"form",0),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[D.k,s.YN,s.qT,s.cb,s.cV,u.bT,R,u.YU],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"]})}return n})(),It=0;const de="mat-badge-content",G=new Set;let Ft=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(i,o){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return n})(),kt=(()=>{class n{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,i,o,r,l){this._ngZone=t,this._elementRef=i,this._ariaDescriber=o,this._renderer=r,this._animationMode=l,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=It++,this._isInitialized=!1,this._interactivityChecker=(0,e.WQX)(C.Z7),this._document=(0,e.WQX)(u.qQ);const m=(0,e.WQX)(e.o8S);if(!G.has(m)){G.add(m);const J=(0,e.a0P)(Ft,{environmentInjector:(0,e.WQX)(e.uvJ)});m.onDestroy(()=>{G.delete(m),0===G.size&&J.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(de),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${de}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(C.vr),e.rXU(e.sFG),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,o){2&i&&e.AVh("mat-badge-overlap",o.overlap)("mat-badge-above",o.isAbove())("mat-badge-below",!o.isAbove())("mat-badge-before",!o.isAfter())("mat-badge-after",o.isAfter())("mat-badge-small","small"===o.size)("mat-badge-medium","medium"===o.size)("mat-badge-large","large"===o.size)("mat-badge-hidden",o.hidden||!o.content)("mat-badge-disabled",o.disabled)},inputs:{color:[e.Mj6.None,"matBadgeColor","color"],overlap:[e.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",e.L39],position:[e.Mj6.None,"matBadgePosition","position"],content:[e.Mj6.None,"matBadge","content"],description:[e.Mj6.None,"matBadgeDescription","description"],size:[e.Mj6.None,"matBadgeSize","size"],hidden:[e.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",e.L39]},standalone:!0,features:[e.GFd]})}return n})();const Tt=(n,a)=>a.videoId;function St(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",11)(1,"button",15),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeVideoAndSaveJourney(o))}),e.k0s(),e.nrm(2,"img",16),e.k0s()}if(2&n){const t=a.$implicit;e.R7$(2),e.Y8G("src","https://img.youtube.com/vi/"+t.videoId+"/0.jpg",e.B4B)("alt",t.videoId)("title",t.videoId)}}function Rt(n,a){1&n&&(e.j41(0,"p",12),e.EFF(1,"No Videos available for the journey"),e.k0s())}function Bt(n,a){if(1&n){const t=e.RV6();e.j41(0,"form",null,0)(2,"div",3)(3,"div",4),e.nrm(4,"app-feedback-message",5),e.k0s()(),e.j41(5,"div",6)(6,"div",4)(7,"div",7),e.nrm(8,"input",8,1),e.j41(10,"button",9),e.bIt("click",function(){e.eBV(t);const o=e.sdS(9);return e.XpG().addVideo(o.value),e.Njj(o.value="")}),e.EFF(11,"Add "),e.k0s()()()(),e.j41(12,"div",6)(13,"div",4)(14,"div",10),e.Z7z(15,St,3,3,"div",11,Tt),e.DNE(17,Rt,2,0,"p",12),e.k0s()()(),e.j41(18,"div",6)(19,"div",13)(20,"button",14),e.EFF(21,"Next"),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(4),e.Y8G("successMessage",t.successMessage)("errorMessage",t.errorMessage),e.R7$(11),e.Dyx(t.formVideosDetails.videos),e.R7$(2),e.vxM(17,t.formVideosDetails.videos.length?-1:17)}}let Gt=(()=>{class n{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formVideosDetails=new b.BR}ngOnInit(){this.journey?.extendedDetails?.videosDetails&&(this.formVideosDetails=this.journey.extendedDetails.videosDetails)}addVideo(t){this.formVideosDetails.videos.push(new b.Vn(t)),this.save()}removeVideoAndSaveJourney(t){const i=this.formVideosDetails.videos.indexOf(t);i>=0&&(this.formVideosDetails.videos.splice(i,1),this.save())}save(){this.journeyService.saveJourneyVideosDetails(this.journey,this.formVideosDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving videos data",t)})}onUpdateSuccess(t){this.successMessage="Video Details saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}onError(t,i){this.errorMessage=t,console.error(i)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["videoInput",""],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["type","button","aria-label","Close","matBadge","x","matBadgePosition","below after","matBadgeColor","warn","matBadgeSize","small",1,"btn-video-remove",3,"click"],[1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"]],template:function(i,o){1&i&&e.DNE(0,Bt,22,3,"form",2),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[D.k,s.YN,s.qT,s.cb,s.cV,u.bT,s.X1,R,kt],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}"]})}return n})();var N=d(6467),ce=d(2798);const Nt=(n,a)=>a.assetId;function Jt(n,a){1&n&&(e.j41(0,"mat-error"),e.EFF(1,"Please choose visibility"),e.k0s())}function wt(n,a){1&n&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Vt(n,a){1&n&&(e.j41(0,"mat-icon",29),e.EFF(1,"cancel"),e.k0s())}function zt(n,a){1&n&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Xt(n,a){1&n&&(e.j41(0,"mat-icon",29),e.EFF(1,"cancel"),e.k0s())}function $t(n,a){1&n&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function At(n,a){1&n&&(e.j41(0,"mat-icon",29),e.EFF(1,"cancel"),e.k0s())}function Ot(n,a){1&n&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Yt(n,a){1&n&&(e.j41(0,"mat-icon",29),e.EFF(1,"cancel"),e.k0s())}function Pt(n,a){if(1&n&&(e.j41(0,"option",23),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.Y8G("value",t.url),e.R7$(),e.JRh(t.assetId)}}function Ut(n,a){if(1&n&&(e.j41(0,"div",30),e.nrm(1,"img",31),e.k0s()),2&n){e.XpG();const t=e.sdS(47);e.R7$(),e.Y8G("src",t.value,e.B4B)("alt",t.value)}}function Ht(n,a){if(1&n){const t=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){e.eBV(t);const o=e.sdS(1),r=e.XpG();return e.Njj(r.publish(o))}),e.j41(2,"div",5)(3,"div",6),e.nrm(4,"app-feedback-message",7),e.k0s()(),e.j41(5,"div",8)(6,"div",6)(7,"mat-form-field",9)(8,"mat-label"),e.EFF(9,"Visibility"),e.k0s(),e.j41(10,"mat-select",10,1),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.visibilities,o)||(r.journey.visibilities=o),e.Njj(o)}),e.j41(12,"mat-option",11),e.EFF(13,"MYSELF"),e.k0s(),e.j41(14,"mat-option",12),e.EFF(15,"ADMINISTRATOR"),e.k0s(),e.j41(16,"mat-option",13),e.EFF(17,"MAINTAINER"),e.k0s(),e.j41(18,"mat-option",14),e.EFF(19,"AUTHENTICATED_USER"),e.k0s(),e.j41(20,"mat-option",15),e.EFF(21,"GUEST"),e.k0s()(),e.DNE(22,Jt,2,0,"mat-error"),e.k0s()()(),e.j41(23,"div",8)(24,"div",16)(25,"ul",17)(26,"li",18),e.EFF(27,"Basic Details "),e.DNE(28,wt,3,0,"mat-icon",19)(29,Vt,2,0),e.k0s(),e.j41(30,"li",18),e.EFF(31,"Geo Details "),e.DNE(32,zt,3,0,"mat-icon",19)(33,Xt,2,0),e.k0s(),e.j41(34,"li",18),e.EFF(35,"Images Details "),e.DNE(36,$t,3,0,"mat-icon",19)(37,At,2,0),e.k0s(),e.j41(38,"li",18),e.EFF(39,"Videos Details "),e.DNE(40,Ot,3,0,"mat-icon",19)(41,Yt,2,0),e.k0s()()(),e.j41(42,"div",16)(43,"div",20)(44,"label",21),e.EFF(45,"Thumbnail"),e.k0s(),e.j41(46,"select",22,2),e.mxI("ngModelChange",function(o){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.thumbnail,o)||(r.journey.thumbnail=o),e.Njj(o)}),e.j41(48,"option",23),e.EFF(49,"Default"),e.k0s(),e.Z7z(50,Pt,2,2,"option",23,Nt),e.k0s()(),e.DNE(52,Ut,2,2,"div",24),e.k0s()(),e.j41(53,"div",25)(54,"div",26)(55,"button",27),e.bIt("click",function(){e.eBV(t);const o=e.sdS(1),r=e.XpG();return e.Njj(r.save(o))}),e.EFF(56," Save as Draft "),e.k0s(),e.j41(57,"button",28),e.EFF(58," Publish "),e.k0s()()()()}if(2&n){const t=e.sdS(1),i=e.sdS(11),o=e.sdS(47),r=e.XpG();e.R7$(4),e.Y8G("successMessage",r.successMessage)("errorMessage",r.errorMessage),e.R7$(6),e.R50("ngModel",r.journey.visibilities),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("disabled",!0),e.R7$(8),e.vxM(22,i.hasError("required")?22:-1),e.R7$(6),e.vxM(28,r.isBasicDetailsAvailableAndValid()?28:29),e.R7$(4),e.vxM(32,r.isGeoJsonAvailable()?32:33),e.R7$(4),e.vxM(36,r.isImagesDetailsAvailable()?36:37),e.R7$(4),e.vxM(40,r.isVideosDetailsAvailable()?40:41),e.R7$(6),e.R50("ngModel",r.journey.thumbnail),e.R7$(2),e.Y8G("value",r.DEFAULT_THUMBNAIL),e.R7$(2),e.Dyx(null==r.journey.extendedDetails||null==r.journey.extendedDetails.imagesDetails?null:r.journey.extendedDetails.imagesDetails.images),e.R7$(2),e.Y8G("ngIf",o.value&&"default"!=o.value),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let Lt=(()=>{class n{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.DEFAULT_THUMBNAIL=b.fX}isBasicDetailsAvailableAndValid(){return""!=this.journey.id&&""!=this.journey.name&&""!=this.journey.title&&""!=this.journey.description&&""!=this.journey.city&&""!=this.journey.country&&""!=this.journey.journeyDate&&""!=this.journey.category&&this.journey.tags?.length>0&&null!=this.journey.location}isGeoJsonAvailable(){return null!=this.journey.extendedDetails?.geoDetails?.geoJson}isImagesDetailsAvailable(){return null!=this.journey.extendedDetails?.imagesDetails?.images&&this.journey.extendedDetails.imagesDetails.images.length>0}isVideosDetailsAvailable(){return null!=this.journey.extendedDetails?.videosDetails?.videos&&this.journey.extendedDetails.videosDetails.videos.length>0}publish(t){console.debug("submitted form:",t),this.journey.isPublished=!0,this.journeyService.publishJourney(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)})}save(t){t.valid&&(this.journey.isPublished=!1,this.journeyService.publishJourney(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)}))}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage=t.isPublished?"Journey published successfully.":"Journey saved successfully",this.journey=t,this.savedEvent.emit(this.journey)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR",3,"disabled"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-6"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["color","warn",1,"float-end"],[1,"text-center"],[1,"rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"]],template:function(i,o){1&i&&e.DNE(0,Ht,59,15,"form",3),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[k.An,s.YN,s.qT,s.xH,s.y7,s.wz,s.BC,s.cb,s.YS,s.vS,s.cV,u.bT,D.k,N.RG,N.rl,N.nJ,N.TL,ce.Ve,ce.VO,F.wT]})}return n})();var Qt=d(8498);function Zt(n,a){1&n&&e.EFF(0,"Edit Basic Details")}function Kt(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-edit-journey-basic-data",10),e.bIt("saved",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function Wt(n,a){1&n&&e.EFF(0,"Edit Geo Details")}function qt(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-edit-journey-geo-details",10),e.bIt("saved",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ei(n,a){1&n&&e.EFF(0,"Edit Images Details")}function ti(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-edit-journey-images-details",10),e.bIt("saved",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ii(n,a){1&n&&e.EFF(0,"Edit Videos Details")}function ni(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-edit-journey-videos-details",10),e.bIt("saved",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function oi(n,a){1&n&&e.EFF(0,"Publish Journey")}function ri(n,a){if(1&n){const t=e.RV6();e.j41(0,"app-edit-journey-publish-details",10),e.bIt("saved",function(o){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ai(n,a){if(1&n){const t=e.RV6();e.j41(0,"section",1)(1,"div",2)(2,"div",3),e.nrm(3,"h4",4),e.k0s()(),e.j41(4,"mat-stepper",5)(5,"mat-step",6),e.DNE(6,Zt,1,0,"ng-template",7)(7,Kt,1,1,"ng-template",8),e.k0s(),e.j41(8,"mat-step",9),e.bIt("interacted",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(o))}),e.DNE(9,Wt,1,0,"ng-template",7)(10,qt,1,1,"ng-template",8),e.k0s(),e.j41(11,"mat-step",9),e.bIt("interacted",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(o))}),e.DNE(12,ei,1,0,"ng-template",7)(13,ti,1,1,"ng-template",8),e.k0s(),e.j41(14,"mat-step",9),e.bIt("interacted",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(o))}),e.DNE(15,ii,1,0,"ng-template",7)(16,ni,1,1,"ng-template",8),e.k0s(),e.j41(17,"mat-step",9),e.bIt("interacted",function(o){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(o))}),e.DNE(18,oi,1,0,"ng-template",7)(19,ri,1,1,"ng-template",8),e.k0s()()()}if(2&n){const t=e.XpG();e.R7$(3),e.Y8G("innerText",t.journey.name),e.R7$(),e.Y8G("linear",!0),e.R7$(),e.Y8G("optional",!1)("completed",t.isBasicDataCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isGeoInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isEventInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isEventInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isJourneyPublished())}}let si=(()=>{class n{constructor(t,i){this.route=t,this.journeyService=i}ngOnInit(){this.fetchJourney()}stepsEventHandler(t){console.debug("Received event:",t),this.fetchJourney()}savedEventHandler(t){this.journey=t}fetchJourney(){this.route.paramMap.pipe((0,V.n)(t=>this.journeyService.getJourneyById(t.get("id")))).subscribe({next:t=>this.journey=t,error:t=>console.error(t)})}isBasicDataCollected(){return""!=this.journey.id}isGeoInfoCollected(){return""!=this.journey.id}isEventInfoCollected(){return""!=this.journey.id}isJourneyPublished(){return""!=this.journey.id}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(Qt.nX),e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-edit-journey"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text",3,"innerText"],["orientation","vertical",3,"linear"],["color","primary",3,"optional","completed"],["matStepLabel",""],["matStepContent",""],[3,"interacted","optional","completed"],[3,"saved","journey"]],template:function(i,o){1&i&&e.DNE(0,ai,20,12,"section",0),2&i&&e.Y8G("ngIf",o.journey)},dependencies:[se,ae,ft,bt,Ct,T,re,Gt,Lt,u.bT]})}return n})()}}]);