import"./chunk-4C7QGRK5.js";import{a as j}from"./chunk-JYOFC33Y.js";import{a as V}from"./chunk-2SNHFQHX.js";import{a as h}from"./chunk-VSQTGOJW.js";import{a as W}from"./chunk-B5NGEDAU.js";import{c as U,g as G,h as L,i as H,j as Y,k as q,s as B,x as z}from"./chunk-5L65BU43.js";import{o as T}from"./chunk-SNVCUL6N.js";import{a as J}from"./chunk-P7IOOWFA.js";import{a as O}from"./chunk-3WFRGX76.js";import{b as w}from"./chunk-P7PPGZS3.js";import{g as R}from"./chunk-XEJULNW6.js";import"./chunk-7FBRJZ3K.js";import"./chunk-5XB5PZR3.js";import{q as N,r as D}from"./chunk-4NTYDSMY.js";import{Cb as k,Ha as f,Ia as u,Lb as b,Nb as l,Pa as C,Wb as e,Xb as r,Yb as d,_c as I,ac as _,fc as g,hc as p,pb as m,qb as y,qc as v,rc as s,ta as x,tc as E,uc as P,vc as M,wc as A,xa as S,yc as F}from"./chunk-7FH2CJX7.js";function K(o,a){if(o&1&&(e(0,"div",12),d(1,"input",25),e(2,"label",26),s(3),r()()),o&2){let t=a.$implicit;m(3),E(" ",t," ")}}function Q(o,a){if(o&1&&(e(0,"button",27),s(1,"Save"),r()),o&2){p();let t=v(1);l("disabled",!t.valid)}}function X(o,a){if(o&1){let t=_();e(0,"button",28),g("click",function(){f(t);let i=p(2);return u(i.cancel())}),s(1,"Cancel"),r()}}function Z(o,a){if(o&1){let t=_();e(0,"form",4,0),g("submit",function(){f(t);let i=v(1),c=p();return u(c.save(i))}),e(2,"div",5)(3,"div",6),d(4,"app-feedback-message",7),r()(),e(5,"div",5)(6,"label",8),s(7,"Username"),r(),e(8,"div",9),d(9,"input",10),r()(),e(10,"div",5)(11,"div",11)(12,"div",12),d(13,"input",13),e(14,"label",14),s(15," Active "),r()()()(),e(16,"fieldset",5)(17,"legend",15),s(18,"Role(s)"),r(),e(19,"div",16),b(20,K,4,1,"div",17),r()(),e(21,"div",5)(22,"label",18),s(23,"Created"),r(),e(24,"div",9),d(25,"input",19),r()(),e(26,"div",5)(27,"label",20),s(28,"Name"),r(),e(29,"div",9)(30,"input",21),A("ngModelChange",function(i){f(t);let c=p();return M(c.mydata.name,i)||(c.mydata.name=i),u(i)}),r()()(),e(31,"div",5)(32,"div",22),b(33,Q,2,1,"button",23)(34,X,2,0,"button",24),r()()()}if(o&2){let t=p();m(4),l("message",t.feedbackMessage()),m(5),l("value",t.mydata.username),m(4),l("checked",t.mydata.enabled),m(7),l("ngForOf",t.mydata.roles),m(5),l("value",t.mydata.createdDate),m(5),P("ngModel",t.mydata.name),l("disabled",!t.hasAccess())}}var be=(()=>{let a=class a{constructor(n,i,c){this.myAccountService=n,this.router=i,this.authService=c,this.MY_PROFILE_PAGE_INFO=T,this.destroyRef=x(C),this.feedbackMessage=k({}),this.hasAccess=I(()=>this.authService.hasAnyRole([h.AUTHENTICATED_USER])),this.Role=h}ngOnInit(){this.myAccountService.getProfileData().pipe(O(this.destroyRef)).subscribe({next:n=>this.mydata=n,error:n=>console.error(n)})}save(n){n.valid&&n.dirty&&this.myAccountService.saveProfileData(this.mydata).subscribe({next:i=>this.onSuccessCallback(),error:i=>this.onErrorCallback()})}onSuccessCallback(){this.feedbackMessage.set({success:"Profile data saved successfully"})}onErrorCallback(){this.feedbackMessage.set({error:"Update failed. Please check data."})}cancel(){this.router.navigate(["/"]).then(console.log)}};a.\u0275fac=function(i){return new(i||a)(y(J),y(R),y(w))},a.\u0275cmp=S({type:a,selectors:[["app-my-profile-page"]],standalone:!0,features:[F],decls:3,vars:2,consts:[["profileForm","ngForm"],[3,"pageInfo"],[1,"container","d-flex","justify-content-start"],["class","col-12 col-lg-8",3,"submit",4,"ngIf"],[1,"col-12","col-lg-8",3,"submit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],["for","username",1,"col-sm-2","col-form-label","text-primary"],[1,"col-sm-10"],["type","text","id","username","disabled","",1,"form-control",3,"value"],[1,"col-sm-10","offset-sm-2"],[1,"form-check"],["type","checkbox","id","isAccountActive","name","isAccountActive","disabled","",1,"form-check-input",3,"checked"],["for","isAccountActive",1,"form-check-label","text-primary"],[1,"col-form-label","col-sm-2","pt-0","text-primary"],[1,"col-sm-10","text-primary"],["class","form-check",4,"ngFor","ngForOf"],["for","createdDate",1,"col-sm-2","col-form-label","text-primary"],["type","datetime-local","id","createdDate","name","createdDate","disabled","","readonly","",1,"form-control",3,"value"],["for","name",1,"col-sm-2","col-form-label","text-primary"],["type","text","id","name","name","name","required","",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col","text-center","d-flex","gap-3","justify-content-center"],["type","submit","class","btn btn-primary",3,"disabled",4,"hasWriteAccess"],["type","button","class","btn btn-primary",3,"click",4,"hasWriteAccess"],["type","checkbox","name","roleName","id","roleName","checked","","disabled","",1,"form-check-input"],["for","roleName",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(i,c){i&1&&(d(0,"app-page-header",1),e(1,"section",2),b(2,Z,35,7,"form",3),r()),i&2&&(l("pageInfo",c.MY_PROFILE_PAGE_INFO),m(2),l("ngIf",c.mydata))},dependencies:[V,D,z,q,U,G,L,B,Y,H,N,W,j]});let o=a;return o})();export{be as MyProfilePageComponent};
