import{a as n}from"./chunk-6WCMIU77.js";import{b as c}from"./chunk-FVZWZKWT.js";import{a,c as p}from"./chunk-CBUXQRBC.js";import{ka as u,pa as i}from"./chunk-QA4KX23A.js";var x=(()=>{class s{constructor(e,t){this.httpClient=e,this.authService=t}createJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.post(n.journeyApi+"/journey",e,{headers:{Authorization:`Bearer ${t.accessToken}`}})}findJourneyByQuery(e,t,o,h,y,C,l=[]){let r=new a;return r=r.set("q",e.text??""),r=r.set("city",e.city??""),r=r.set("country",e.country??""),r=r.set("category",e.category??""),r=r.set("year",e.year??""),r=r.set("sort",t),r=r.set("order",o.toUpperCase()),r=r.set("pageIndex",h),r=r.set("pageSize",y),r=r.set("publishedOnly",C),r=r.set("tags",l.join(",")),this.getAllJourneys(r)}getAllJourneys(e){let t=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys",{params:e,headers:{Authorization:`Bearer ${t.accessToken}`}})}getAllJourneysAsGeoJson(){let e=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys/published",{headers:{Accept:"application/geo+json",Authorization:`Bearer ${e.accessToken}`}})}getJourneyById(e){let t=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journey/"+e,{headers:{Authorization:`Bearer ${t.accessToken}`}})}saveJourneyBasicDetails(e){let t=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.basic.v1+json",Authorization:`Bearer ${t.accessToken}`}})}saveJourneyGeoDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.geo.v1+json",Authorization:`Bearer ${o.accessToken}`}})}saveJourneyImagesDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.images.v1+json",Authorization:`Bearer ${o.accessToken}`}})}saveJourneyVideosDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.videos.v1+json",Authorization:`Bearer ${o.accessToken}`}})}publishJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.publish.v1+json",Authorization:`Bearer ${t.accessToken}`}})}deleteJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.delete(n.journeyApi+"/journey/"+e.id,{headers:{Authorization:`Bearer ${t.accessToken}`}})}static{this.\u0275fac=function(t){return new(t||s)(i(p),i(c))}}static{this.\u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{x as a};
