import{a as n}from"./chunk-BZBETYD3.js";import{b as h}from"./chunk-R6MPEOK3.js";import{a,c as p}from"./chunk-HLWHUVVB.js";import{ka as u,pa as s}from"./chunk-VRY62XD3.js";var x=(()=>{class i{constructor(e,t){this.httpClient=e,this.authService=t}createJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.post(n.journeyApi+"/journey",e,{headers:{Authorization:`Bearer ${t.accessToken}`}})}findJourneyByQuery(e,t,o,c,y,l,C=[]){let r=new a;return r=r.set("q",e.text??""),r=r.set("city",e.city??""),r=r.set("country",e.country??""),r=r.set("category",e.category??""),r=r.set("year",e.year??""),r=r.set("sort",t),r=r.set("order",o.toUpperCase()),r=r.set("pageIndex",c),r=r.set("pageSize",y),r=r.set("publishedOnly",l),r=r.set("tags",C.join(",")),this.getAllJourneys(r)}getAllJourneys(e){let t=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys",{params:e,headers:{Authorization:`Bearer ${t.accessToken}`}})}getAllJourneysAsGeoJson(){let e=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys/published",{headers:{Accept:"application/geo+json",Authorization:`Bearer ${e.accessToken}`}})}getJourneyById(e){let t=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journey/"+e,{headers:{Authorization:`Bearer ${t.accessToken}`}})}saveJourneyBasicDetails(e){let t=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.basic.v1+json",Authorization:`Bearer ${t.accessToken}`}})}saveJourneyGeoDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.geo.v1+json",Authorization:`Bearer ${o.accessToken}`}})}saveJourneyImagesDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.images.v1+json",Authorization:`Bearer ${o.accessToken}`}})}saveJourneyVideosDetails(e,t){let o=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,t,{headers:{"Content-Type":"application/vnd.journey.api.videos.v1+json",Authorization:`Bearer ${o.accessToken}`}})}publishJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.publish.v1+json",Authorization:`Bearer ${t.accessToken}`}})}deleteJourney(e){let t=this.authService.getCurrentUserContext();return this.httpClient.delete(n.journeyApi+"/journey/"+e.id,{headers:{Authorization:`Bearer ${t.accessToken}`}})}static{this.\u0275fac=function(t){return new(t||i)(s(p),s(h))}}static{this.\u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{x as a};
