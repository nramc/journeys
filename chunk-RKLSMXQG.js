import{a as oi,b as ai}from"./chunk-ZTJAIUJZ.js";import{a as bi}from"./chunk-G4QUT55H.js";import{a as ci,b as mi,c as pi,d as ui,e as _i}from"./chunk-LVBZK62D.js";import{a as ti,b as ii,e as ni,f as ri}from"./chunk-MPAV3FZY.js";import{a as si,c as lt,d as dt,e as li,f as ct,g as di,h as hi,i as fi,j as yi,k as vi}from"./chunk-XHEC3SFK.js";import{a as gi,b as Ge}from"./chunk-PX5XKTKS.js";import"./chunk-QTVR55XV.js";import{a as B}from"./chunk-DRKPAWX6.js";import{b as qe,h as Xt,i as Zt,j as $t}from"./chunk-PS6LTETE.js";import"./chunk-LXMNER7C.js";import{a as ei}from"./chunk-J2HB7WXM.js";import"./chunk-VSQTGOJW.js";import{a as H}from"./chunk-H5QXDTGA.js";import"./chunk-ID2EJABW.js";import{b as Ut,c as ye,g as te,h as F,i as P,j as ie,k as N,l as Ht,n as We,o as Ue,p as He,q as qt,r as Gt,s as ve,u as Qt,v as Kt,x as O,y as Yt}from"./chunk-ZDAO2INT.js";import{b as zt,e as Wt}from"./chunk-7XJTF6IN.js";import"./chunk-USEFVD23.js";import{c as tt,d as it,e as nt,g as ce,h as me,j as rt,k as ot,l as at}from"./chunk-RGNDWIHZ.js";import"./chunk-R545OY35.js";import{a as be}from"./chunk-QCRUDY7U.js";import{a as fe,b as st}from"./chunk-ZL2HLOH2.js";import"./chunk-4HPKFMYY.js";import{e as Jt,g as Re,h as Ft}from"./chunk-MJ3Y34XA.js";import{C as Lt,a as Ot,h as Bt,m as At,p as Le,v as ze,x as Rt}from"./chunk-IV7S22EY.js";import{a as Pt,g as Nt}from"./chunk-MOYMDOXY.js";import"./chunk-WAAWWZ5Q.js";import{m as jt,o as J,s as et,u as Vt,x as kt}from"./chunk-ERNLTT6I.js";import{$b as C,Ac as de,Bb as A,Cc as Be,Db as wt,Dc as Ae,Ea as St,Eb as ge,Fa as p,Fc as Dt,Ga as u,Gb as Xe,Ja as Ye,Kb as h,Lb as Se,Mb as c,O as vt,Oa as W,Ob as ee,Pa as U,Pb as It,Qa as ue,Qb as Mt,Ra as _e,Rb as T,Rc as Ie,Sa as Ce,Sb as se,T as Je,Tb as V,Ub as k,Vb as o,Vc as he,Wb as a,Wc as Tt,Xb as x,_b as le,ac as Pe,ca as Z,da as pe,ea as oe,ec as g,gc as m,hc as Ee,i as Ke,ic as we,j as ft,jc as q,kb as $,kc as Ne,la as Fe,lc as R,ma as bt,mc as L,o as xe,ob as l,pa as xt,pb as f,pc as v,qc as d,rb as ae,rc as j,sa as Ct,sc as Oe,tc as S,u as ke,ua as M,uc as E,vc as w,wa as z,wc as Ze,xc as D,y as yt,zb as Et,zc as $e}from"./chunk-JNU3RU67.js";var Li=["*"];function zi(i,r){i&1&&we(0)}var mt=(()=>{let r=class r{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}};r.\u0275fac=function(e){return new(e||r)(f(ue))},r.\u0275dir=z({type:r,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0});let i=r;return i})(),pt=(()=>{let r=class r{constructor(t){this.template=t}};r.\u0275fac=function(e){return new(e||r)(f(ae))},r.\u0275dir=z({type:r,selectors:[["","cdkStepLabel",""]],standalone:!0});let i=r;return i})(),Wi=0;var G={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},ut=new xt("STEPPER_GLOBAL_OPTIONS"),Qe=(()=>{let r=class r{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,e){this._stepper=t,this.interacted=!1,this.interactedStream=new _e,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}};r.\u0275fac=function(e){return new(e||r)(f(Fe(()=>Me)),f(ut,8))},r.\u0275cmp=M({type:r,selectors:[["cdk-step"]],contentQueries:function(e,n,_){if(e&1&&q(_,pt,5),e&2){let y;R(y=L())&&(n.stepLabel=y.first)}},viewQuery:function(e,n){if(e&1&&Ne(ae,7),e&2){let _;R(_=L())&&(n.content=_.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",he],optional:[2,"optional","optional",he],completed:[2,"completed","completed",he],hasError:[2,"hasError","hasError",he]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[Xe,St,D],ngContentSelectors:Li,decls:1,vars:0,template:function(e,n){e&1&&(Ee(),h(0,zi,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let i=r;return i})(),Me=(()=>{let r=class r{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation(t==="vertical")}constructor(t,e,n){this._dir=t,this._changeDetectorRef=e,this._elementRef=n,this._destroyed=new xe,this.steps=new Ce,this._sortedHeaders=new Ce,this.linear=!1,this._selectedIndex=0,this.selectionChange=new _e,this.selectedIndexChange=new _e,this._orientation="horizontal",this._groupId=Wi++}ngAfterContentInit(){this._steps.changes.pipe(Z(this._steps),oe(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(e=>e._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe(Z(this._stepHeader),oe(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((e,n)=>e._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Bt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:ke()).pipe(Z(this._layoutDirection()),oe(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){let e=t-this._selectedIndex;return e<0?this._layoutDirection()==="rtl"?"next":"previous":e>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(t,e=G.NUMBER){let n=this.steps.toArray()[t],_=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,_):this._getGuidelineLogic(n,_,e)}_getDefaultIndicatorLogic(t,e){return t._showError()&&t.hasError&&!e?G.ERROR:!t.completed||e?G.NUMBER:t.editable?G.EDIT:G.DONE}_getGuidelineLogic(t,e,n=G.NUMBER){return t._showError()&&t.hasError&&!e?G.ERROR:t.completed&&!e?G.DONE:t.completed&&e?n:t.editable&&e?G.EDIT:n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){let e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){let e=Ot(t),n=t.keyCode,_=this._keyManager;_.activeItemIndex!=null&&!e&&(n===32||n===13)?(this.selectedIndex=_.activeItemIndex,t.preventDefault()):_.setFocusOrigin("keyboard").onKeydown(t)}_anyControlsInvalidOrPending(t){return this.linear&&t>=0?this.steps.toArray().slice(0,t).some(e=>{let n=e.stepControl;return(n?n.invalid||n.pending||!e.interacted:!e.completed)&&!e.optional&&!e._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let t=this._elementRef.nativeElement,e=Nt();return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}};r.\u0275fac=function(e){return new(e||r)(f(Le,8),f(Ie),f(ue))},r.\u0275dir=z({type:r,selectors:[["","cdkStepper",""]],contentQueries:function(e,n,_){if(e&1&&(q(_,Qe,5),q(_,mt,5)),e&2){let y;R(y=L())&&(n._steps=y),R(y=L())&&(n._stepHeader=y)}},inputs:{linear:[2,"linear","linear",he],selectedIndex:[2,"selectedIndex","selectedIndex",Tt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[Xe]});let i=r;return i})(),Si=(()=>{let r=class r{constructor(t){this._stepper=t,this.type="submit"}};r.\u0275fac=function(e){return new(e||r)(f(Me))},r.\u0275dir=z({type:r,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,n){e&1&&g("click",function(){return n._stepper.next()}),e&2&&Pe("type",n.type)},inputs:{type:"type"},standalone:!0});let i=r;return i})();function Hi(i,r){if(i&1&&le(0,2),i&2){let s=m();c("ngTemplateOutlet",s.iconOverrides[s.state])("ngTemplateOutletContext",s._getIconContext())}}function qi(i,r){if(i&1&&(o(0,"span",7),d(1),a()),i&2){let s=m(2);l(),j(s._getDefaultTextForState(s.state))}}function Gi(i,r){if(i&1&&(o(0,"span",8),d(1),a()),i&2){let s=m(3);l(),j(s._intl.completedLabel)}}function Qi(i,r){if(i&1&&(o(0,"span",8),d(1),a()),i&2){let s=m(3);l(),j(s._intl.editableLabel)}}function Ki(i,r){if(i&1&&(h(0,Gi,2,1,"span",8)(1,Qi,2,1,"span",8),o(2,"mat-icon",7),d(3),a()),i&2){let s=m(2);T(s.state==="done"?0:s.state==="edit"?1:-1),l(3),j(s._getDefaultTextForState(s.state))}}function Yi(i,r){if(i&1&&h(0,qi,2,1,"span",7)(1,Ki,4,2,"mat-icon",7),i&2){let s,t=m();T((s=t.state)==="number"?0:1)}}function Xi(i,r){i&1&&(o(0,"div",4),le(1,9),a()),i&2&&(l(),c("ngTemplateOutlet",r.template))}function Zi(i,r){if(i&1&&(o(0,"div",4),d(1),a()),i&2){let s=m();l(),j(s.label)}}function $i(i,r){if(i&1&&(o(0,"div",5),d(1),a()),i&2){let s=m();l(),j(s._intl.optionalLabel)}}function en(i,r){if(i&1&&(o(0,"div",6),d(1),a()),i&2){let s=m();l(),j(s.errorMessage)}}var Ii=["*"];function tn(i,r){}function nn(i,r){if(i&1&&(we(0),h(1,tn,0,0,"ng-template",0)),i&2){let s=m();l(),c("cdkPortalOutlet",s._portal)}}var Mi=(i,r)=>({step:i,i:r}),Di=i=>({animationDuration:i}),Ti=(i,r)=>({value:i,params:r});function rn(i,r){i&1&&we(0)}function on(i,r){i&1&&x(0,"div",6)}function an(i,r){if(i&1&&(le(0,5),h(1,on,1,0,"div",6)),i&2){let s=r.$implicit,t=r.$index,e=r.$count;m(2);let n=v(4);c("ngTemplateOutlet",n)("ngTemplateOutletContext",de(3,Mi,s,t)),l(),T(t!==e-1?1:-1)}}function sn(i,r){if(i&1){let s=C();o(0,"div",7),g("@horizontalStepTransition.done",function(e){p(s);let n=m(2);return u(n._animationDone.next(e))}),le(1,8),a()}if(i&2){let s=r.$implicit,t=r.$index,e=m(2);ee("mat-horizontal-stepper-content-inactive",e.selectedIndex!==t),c("@horizontalStepTransition",de(8,Ti,e._getAnimationDirection(t),$e(6,Di,e._getAnimationDuration())))("id",e._getStepContentId(t)),Se("aria-labelledby",e._getStepLabelId(t)),l(),c("ngTemplateOutlet",s.content)}}function ln(i,r){if(i&1&&(o(0,"div",1)(1,"div",2),V(2,an,2,6,null,null,se),a(),o(4,"div",3),V(5,sn,2,11,"div",4,se),a()()),i&2){let s=m();l(2),k(s.steps),l(3),k(s.steps)}}function dn(i,r){if(i&1){let s=C();o(0,"div",9),le(1,5),o(2,"div",10)(3,"div",11),g("@verticalStepTransition.done",function(e){p(s);let n=m(2);return u(n._animationDone.next(e))}),o(4,"div",12),le(5,8),a()()()()}if(i&2){let s=r.$implicit,t=r.$index,e=r.$count,n=m(2),_=v(4);l(),c("ngTemplateOutlet",_)("ngTemplateOutletContext",de(10,Mi,s,t)),l(),ee("mat-stepper-vertical-line",t!==e-1),l(),ee("mat-vertical-stepper-content-inactive",n.selectedIndex!==t),c("@verticalStepTransition",de(15,Ti,n._getAnimationDirection(t),$e(13,Di,n._getAnimationDuration())))("id",n._getStepContentId(t)),Se("aria-labelledby",n._getStepLabelId(t)),l(2),c("ngTemplateOutlet",s.content)}}function cn(i,r){if(i&1&&V(0,dn,6,18,"div",9,se),i&2){let s=m();k(s.steps)}}function mn(i,r){if(i&1){let s=C();o(0,"mat-step-header",13),g("click",function(){let e=p(s).step;return u(e.select())})("keydown",function(e){p(s);let n=m();return u(n._onKeydown(e))}),a()}if(i&2){let s=r.step,t=r.i,e=m();ee("mat-horizontal-stepper-header",e.orientation==="horizontal")("mat-vertical-stepper-header",e.orientation==="vertical"),c("tabIndex",e._getFocusIndex()===t?0:-1)("id",e._getStepLabelId(t))("index",t)("state",e._getIndicatorType(t,s.state))("label",s.stepLabel||s.label)("selected",e.selectedIndex===t)("active",e._stepIsNavigable(t,s))("optional",s.optional)("errorMessage",s.errorMessage)("iconOverrides",e._iconOverrides)("disableRipple",e.disableRipple||!e._stepIsNavigable(t,s))("color",s.color||e.color),Se("aria-posinset",t+1)("aria-setsize",e.steps.length)("aria-controls",e._getStepContentId(t))("aria-selected",e.selectedIndex==t)("aria-label",s.ariaLabel||null)("aria-labelledby",!s.ariaLabel&&s.ariaLabelledby?s.ariaLabelledby:null)("aria-disabled",e._stepIsNavigable(t,s)?null:!0)}}var De=(()=>{let r=class r extends pt{};r.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ye(r)))(n||r)}})(),r.\u0275dir=z({type:r,selectors:[["","matStepLabel",""]],standalone:!0,features:[ge]});let i=r;return i})(),pn=(()=>{let r=class r{constructor(){this.changes=new xe,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}};r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=bt({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();var Ei=(()=>{let r=class r extends mt{constructor(t,e,n,_){super(n),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>_.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof De?null:this.label}_templateLabel(){return this.label instanceof De?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return t=="number"?`${this.index+1}`:t=="edit"?"create":t=="error"?"warning":t}};r.\u0275fac=function(e){return new(e||r)(f(pn),f(At),f(ue),f(Ie))},r.\u0275cmp=M({type:r,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(e,n){e&2&&It("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[ge,D],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(e,n){if(e&1&&(x(0,"div",0),o(1,"div")(2,"div",1),h(3,Hi,1,2,"ng-container",2)(4,Yi,2,1),a()(),o(5,"div",3),h(6,Xi,2,1,"div",4)(7,Zi,2,1,"div",4)(8,$i,2,1,"div",5)(9,en,2,1,"div",6),a()),e&2){let _;c("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),l(),Mt("mat-step-icon-state-",n.state," mat-step-icon"),ee("mat-step-icon-selected",n.selected),l(2),T(n.iconOverrides&&n.iconOverrides[n.state]?3:4),l(2),ee("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error",n.state=="error"),l(),T((_=n._templateLabel())?6:n._stringLabel()?7:-1,_),l(2),T(n.optional&&n.state!="error"?8:-1),l(),T(n.state==="error"?9:-1)}},dependencies:[Rt,et,fe],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0});let i=r;return i})(),ji="500ms",Vi="225ms",wi={horizontalStepTransition:tt("horizontalStepTransition",[me("previous",ce({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),me("current",ce({transform:"none",visibility:"inherit"})),me("next",ce({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),rt("* => *",nt([it("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),at("@*",ot(),{optional:!0})]),{params:{animationDuration:ji}})]),verticalStepTransition:tt("verticalStepTransition",[me("previous",ce({height:"0px",visibility:"hidden"})),me("next",ce({height:"0px",visibility:"hidden"})),me("current",ce({height:"*",visibility:"inherit"})),rt("* <=> current",nt([it("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),at("@*",ot(),{optional:!0})]),{params:{animationDuration:Vi}})])},un=(()=>{let r=class r{constructor(t){this.templateRef=t}};r.\u0275fac=function(e){return new(e||r)(f(ae))},r.\u0275dir=z({type:r,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0});let i=r;return i})(),_t=(()=>{let r=class r{constructor(t){this._template=t}};r.\u0275fac=function(e){return new(e||r)(f(ae))},r.\u0275dir=z({type:r,selectors:[["ng-template","matStepContent",""]],standalone:!0});let i=r;return i})(),gt=(()=>{let r=class r extends Qe{constructor(t,e,n,_){super(t,_),this._errorStateMatcher=e,this._viewContainerRef=n,this._isSelected=ft.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(pe(()=>this._stepper.selectionChange.pipe(yt(t=>t.selectedStep===this),Z(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new zt(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,e){let n=this._errorStateMatcher.isErrorState(t,e),_=!!(t&&t.invalid&&this.interacted);return n||_}};r.\u0275fac=function(e){return new(e||r)(f(Fe(()=>ht)),f(ze,4),f(Et),f(ut,8))},r.\u0275cmp=M({type:r,selectors:[["mat-step"]],contentQueries:function(e,n,_){if(e&1&&(q(_,De,5),q(_,_t,5)),e&2){let y;R(y=L())&&(n.stepLabel=y.first),R(y=L())&&(n._lazyContent=y.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Ze([{provide:ze,useExisting:r},{provide:Qe,useExisting:r}]),ge,D],ngContentSelectors:Ii,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,n){e&1&&(Ee(),h(0,nn,2,1,"ng-template"))},dependencies:[Wt],encapsulation:2,changeDetection:0});let i=r;return i})(),ht=(()=>{let r=class r extends Me{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,e,n){super(t,e,n),this._stepHeader=void 0,this._steps=void 0,this.steps=new Ce,this.animationDone=new _e,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new xe,this._animationDuration="",this._isServer=!Ct(Pt).isBrowser;let _=n.nativeElement.nodeName.toLowerCase();this.orientation=_==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(oe(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Je((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),oe(this._destroyed)).subscribe(t=>{t.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(t,e){return e.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?ji:Vi}};r.\u0275fac=function(e){return new(e||r)(f(Le,8),f(Ie),f(ue))},r.\u0275cmp=M({type:r,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,n,_){if(e&1&&(q(_,gt,5),q(_,un,5)),e&2){let y;R(y=L())&&(n._steps=y),R(y=L())&&(n._icons=y)}},viewQuery:function(e,n){if(e&1&&Ne(Ei,5),e&2){let _;R(_=L())&&(n._stepHeader=_)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,n){e&2&&(Se("aria-orientation",n.orientation),ee("mat-stepper-horizontal",n.orientation==="horizontal")("mat-stepper-vertical",n.orientation==="vertical")("mat-stepper-label-position-end",n.orientation==="horizontal"&&n.labelPosition=="end")("mat-stepper-label-position-bottom",n.orientation==="horizontal"&&n.labelPosition=="bottom")("mat-stepper-header-position-bottom",n.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Ze([{provide:Me,useExisting:r}]),ge,D],ngContentSelectors:Ii,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(e,n){if(e&1&&(Ee(),h(0,rn,1,0)(1,ln,7,0,"div",1)(2,cn,2,0)(3,mn,1,23,"ng-template",null,0,Dt)),e&2){let _;T(n._isServer?0:-1),l(),T((_=n.orientation)==="horizontal"?1:_==="vertical"?2:-1)}},dependencies:[et,Ei],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[wi.horizontalStepTransition,wi.verticalStepTransition]},changeDetection:0});let i=r;return i})(),re=(()=>{let r=class r extends Si{};r.\u0275fac=(()=>{let t;return function(n){return(t||(t=Ye(r)))(n||r)}})(),r.\u0275dir=z({type:r,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,n){e&2&&Pe("type",n.type)},standalone:!0,features:[ge]});let i=r;return i})();function _n(i,r){i&1&&(o(0,"div"),d(1,"Name is required."),a())}function gn(i,r){i&1&&(o(0,"div"),d(1,"Name must be at least 5 characters long."),a())}function hn(i,r){i&1&&(o(0,"div"),d(1,"Name must be at most 50 characters long."),a())}function fn(i,r){i&1&&(o(0,"div"),d(1,"Category is required."),a())}function yn(i,r){i&1&&(o(0,"div"),d(1,"Category must be at least 3 characters long."),a())}function vn(i,r){i&1&&(o(0,"div"),d(1,"Category must be at most 16 characters long."),a())}function bn(i,r){i&1&&(o(0,"div"),d(1,"Title is required."),a())}function xn(i,r){i&1&&(o(0,"div"),d(1,"Title must be at least 10 characters long."),a())}function Cn(i,r){i&1&&(o(0,"div"),d(1,"Title must be at most 100 characters long."),a())}function Sn(i,r){if(i&1&&(o(0,"option",35),d(1),Be(2,"titlecase"),a()),i&2){let s=r.$implicit;c("value",s),l(),j(Ae(2,2,s))}}function En(i,r){i&1&&(o(0,"div"),d(1,"Icon is required."),a())}function wn(i,r){i&1&&(o(0,"div"),d(1,"Memories is required."),a())}function In(i,r){i&1&&(o(0,"div"),d(1,"Memories must be at least 10 characters long."),a())}function Mn(i,r){i&1&&(o(0,"div"),d(1,"Memories must be at most 5000 characters long."),a())}function Dn(i,r){if(i&1){let s=C();o(0,"mat-chip-row",71),g("removed",function(){let e=p(s).$implicit,n=m(2);return u(n.removeTag(e))}),d(1),o(2,"button",72),g("click",function(){let e=p(s).$implicit,n=m(2);return u(n.removeTag(e))}),o(3,"mat-icon"),d(4,"cancel"),a()()()}if(i&2){let s=r.$implicit;c("highlighted",!0)("editable",!1)("removable",!0),l(),Oe(" ",s," ")}}function Tn(i,r){i&1&&(o(0,"div"),d(1,"Longitude is required."),a())}function jn(i,r){i&1&&(o(0,"div"),d(1,"Longitude must be between -180.0 to 180.0."),a())}function Vn(i,r){i&1&&(o(0,"div"),d(1,"Longitude must be between -180.0 to 180.0."),a())}function kn(i,r){i&1&&(o(0,"div"),d(1,"Latitude is required."),a())}function Jn(i,r){i&1&&(o(0,"div"),d(1,"Latitude must be between -90.0 to 90.0."),a())}function Fn(i,r){i&1&&(o(0,"div"),d(1,"Latitude must be between -9 0.0 to 90.0."),a())}function Pn(i,r){i&1&&(o(0,"div"),d(1,"City is required."),a())}function Nn(i,r){i&1&&(o(0,"div"),d(1,"City must be at least 3 characters long."),a())}function On(i,r){i&1&&(o(0,"div"),d(1,"City must be at most 50 characters long."),a())}function Bn(i,r){i&1&&(o(0,"div"),d(1,"Country is required."),a())}function An(i,r){i&1&&(o(0,"div"),d(1,"Country must be at least 3 characters long."),a())}function Rn(i,r){i&1&&(o(0,"div"),d(1,"Country must be at most 50 characters long."),a())}function Ln(i,r){i&1&&(o(0,"div"),d(1,"Journey Date is required."),a())}function zn(i,r){if(i&1){let s=C();o(0,"form",13,0),g("ngSubmit",function(){p(s);let e=v(1),n=m();return u(n.save(e))}),o(2,"div",14)(3,"div",15),x(4,"app-feedback-message",16),a()(),o(5,"div",17)(6,"div",18)(7,"div",17)(8,"div",19)(9,"span",20),d(10,"ID"),a(),o(11,"input",21),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().id,e)||(n.journey().id=e),u(e)}),a()()(),o(12,"div",17)(13,"div",22)(14,"label",23),d(15,"Name"),a(),o(16,"input",24,1),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().name,e)||(n.journey().name=e),u(e)}),a(),o(18,"div",25),h(19,_n,2,0,"div",26)(20,gn,2,0,"div",26)(21,hn,2,0,"div",26),a()(),o(22,"div",27)(23,"label",28),d(24,"Category"),a(),o(25,"input",29,2),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().category,e)||(n.journey().category=e),u(e)}),a(),o(27,"div",25),h(28,fn,2,0,"div",26)(29,yn,2,0,"div",26)(30,vn,2,0,"div",26),a()()(),o(31,"div",17)(32,"div",30)(33,"label",31),d(34,"Title"),a(),o(35,"input",32,3),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().title,e)||(n.journey().title=e),u(e)}),a(),o(37,"div",25),h(38,bn,2,0,"div",26)(39,xn,2,0,"div",26)(40,Cn,2,0,"div",26),a()(),o(41,"div",27)(42,"label",33),d(43,"Icon"),a(),o(44,"select",34,4),g("change",function(){p(s);let e=m();return u(e.refreshMapWithCoordinates())}),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().icon,e)||(n.journey().icon=e),u(e)}),V(46,Sn,3,4,"option",35,se),a(),o(48,"div",25),h(49,En,2,0,"div",26),a()()(),o(50,"div",36)(51,"label",37),d(52,"Memories"),a(),o(53,"mat-button-toggle-group",38),w("ngModelChange",function(e){p(s);let n=m();return E(n.markdownStyle,e)||(n.markdownStyle=e),u(e)}),o(54,"mat-button-toggle",39),d(55,"Edit"),a(),o(56,"mat-button-toggle",40),d(57,"Preview"),a()(),o(58,"textarea",41,5),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().description,e)||(n.journey().description=e),u(e)}),a(),o(60,"div",42),x(61,"app-display-markdown-component",43),a(),o(62,"div",25),h(63,wn,2,0,"div",26)(64,In,2,0,"div",26)(65,Mn,2,0,"div",26),a()(),o(66,"div",14)(67,"div",44)(68,"mat-chip-grid",45,6),V(70,Dn,5,4,"mat-chip-row",46,se),o(72,"input",47),g("matChipInputTokenEnd",function(e){p(s);let n=m();return u(n.addTag(e))}),a()()(),o(73,"div",44)(74,"div",48)(75,"span",49),d(76,"Coordinates"),a(),o(77,"input",50,7),w("ngModelChange",function(e){p(s);let n=m();return E(n.coordinates[0],e)||(n.coordinates[0]=e),u(e)}),g("blur",function(){p(s);let e=m();return u(e.refreshMapWithCoordinates())}),a(),o(79,"button",51),d(80," Coordinates "),a(),o(81,"ul",52)(82,"li")(83,"button",53),g("click",function(){p(s);let e=m();return u(e.copyCoordinatesFromGoogleMap())}),d(84,"Paste coordinates copied from Google Map "),a()(),o(85,"li")(86,"button",53),g("click",function(){p(s);let e=m();return u(e.copyCoordinatesFromClipboard())}),d(87,"Paste from clipboard "),a()(),o(88,"li")(89,"button",53),g("click",function(){p(s);let e=m();return u(e.swapCoordinates())}),d(90,"Swap Coordinates"),a()()(),o(91,"input",54,8),w("ngModelChange",function(e){p(s);let n=m();return E(n.coordinates[1],e)||(n.coordinates[1]=e),u(e)}),g("blur",function(){p(s);let e=m();return u(e.refreshMapWithCoordinates())}),a()(),o(93,"div",55)(94,"div",56),h(95,Tn,2,0,"div",26)(96,jn,2,0,"div",26)(97,Vn,2,0,"div",26),a(),o(98,"div",25),h(99,kn,2,0,"div",26)(100,Jn,2,0,"div",26)(101,Fn,2,0,"div",26),a()()()(),o(102,"div",17)(103,"div",57)(104,"label",58),d(105,"City"),a(),o(106,"input",59,9),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().city,e)||(n.journey().city=e),u(e)}),a(),o(108,"div",25),h(109,Pn,2,0,"div",26)(110,Nn,2,0,"div",26)(111,On,2,0,"div",26),a()(),o(112,"div",57)(113,"label",60),d(114,"Country"),a(),o(115,"input",61,10),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().country,e)||(n.journey().country=e),u(e)}),a(),o(117,"div",25),h(118,Bn,2,0,"div",26)(119,An,2,0,"div",26)(120,Rn,2,0,"div",26),a()(),o(121,"div",57)(122,"label",62),d(123,"Journey Date"),a(),o(124,"div",63)(125,"input",64,11),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().journeyDate,e)||(n.journey().journeyDate=e),u(e)}),a(),o(128,"button",65),g("click",function(){p(s);let e=v(127);return u(e.toggle())}),a(),o(129,"div",25),h(130,Ln,2,0,"div",26),a()()()()(),o(131,"div",66),x(132,"app-world-map",67),a()(),o(133,"div",17)(134,"div",68)(135,"button",69),d(136," Save "),a(),o(137,"button",70),d(138,"Next "),a()()()()}if(i&2){let s=v(1),t=v(17),e=v(26),n=v(36),_=v(45),y=v(59),b=v(69),Q=v(78),K=v(92),Y=v(107),X=v(116),Ve=v(126),I=m();l(4),c("message",I.feedbackMessage()),l(7),S("ngModel",I.journey().id),l(5),S("ngModel",I.journey().name),l(2),c("hidden",t.valid||t.pristine),l(),c("ngIf",t.errors==null?null:t.errors.required),l(),c("ngIf",t.errors==null?null:t.errors.minlength),l(),c("ngIf",t.errors==null?null:t.errors.maxlength),l(4),S("ngModel",I.journey().category),c("ngbTypeahead",I.searchCategory),l(2),c("hidden",e.valid||e.pristine),l(),c("ngIf",e.errors==null?null:e.errors.required),l(),c("ngIf",e.errors==null?null:e.errors.minlength),l(),c("ngIf",e.errors==null?null:e.errors.maxlength),l(5),S("ngModel",I.journey().title),l(2),c("hidden",n.valid||n.pristine),l(),c("ngIf",n.errors==null?null:n.errors.required),l(),c("ngIf",n.errors==null?null:n.errors.minlength),l(),c("ngIf",n.errors==null?null:n.errors.maxlength),l(4),S("ngModel",I.journey().icon),l(2),k(I.SUPPORTED_ICONS),l(2),c("hidden",_.valid||_.pristine),l(),c("ngIf",_.errors==null?null:_.errors.required),l(4),S("ngModel",I.markdownStyle),l(5),S("ngModel",I.journey().description),c("hidden",I.markdownStyle()==="Preview"),l(2),c("hidden",I.markdownStyle()=="Source"),l(),c("title",I.journey().title)("markdownText",I.journey().description),l(),c("hidden",y.valid||y.pristine),l(),c("ngIf",y.errors==null?null:y.errors.required),l(),c("ngIf",y.errors==null?null:y.errors.minlength),l(),c("ngIf",y.errors==null?null:y.errors.maxlength),l(5),k(I.journey().tags),l(2),c("matChipInputFor",b)("matChipInputSeparatorKeyCodes",I.separatorKeysCodes)("matChipInputAddOnBlur",!0),l(5),S("ngModel",I.coordinates[0]),l(14),S("ngModel",I.coordinates[1]),l(3),c("hidden",Q.valid||Q.pristine),l(),c("ngIf",Q.errors==null?null:Q.errors.required),l(),c("ngIf",Q.errors==null?null:Q.errors.min),l(),c("ngIf",Q.errors==null?null:Q.errors.max),l(),c("hidden",K.valid||K.pristine),l(),c("ngIf",K.errors==null?null:K.errors.required),l(),c("ngIf",K.errors==null?null:K.errors.min),l(),c("ngIf",K.errors==null?null:K.errors.max),l(5),S("ngModel",I.journey().city),l(2),c("hidden",Y.valid||Y.pristine),l(),c("ngIf",Y.errors==null?null:Y.errors.required),l(),c("ngIf",Y.errors==null?null:Y.errors.minlength),l(),c("ngIf",Y.errors==null?null:Y.errors.maxlength),l(4),S("ngModel",I.journey().country),l(2),c("hidden",X.valid||X.pristine),l(),c("ngIf",X.errors==null?null:X.errors.required),l(),c("ngIf",X.errors==null?null:X.errors.minlength),l(),c("ngIf",X.errors==null?null:X.errors.maxlength),l(5),S("ngModel",I.journey().journeyDate),l(4),c("hidden",Ve.valid||Ve.pristine),l(),c("ngIf",Ve.errors==null?null:Ve.errors.required),l(2),c("geoJsonData",I.journey().location)("iconType",I.journey().icon),l(3),c("disabled",!s.form.valid),l(2),c("disabled",!s.form.valid)}}var ki=(()=>{let r=class r{constructor(t,e){this.journeyService=t,this.autoCompleteService=e,this.separatorKeysCodes=[13,188,32],this.markdownStyle=A("Source"),this.savedEvent=W({alias:"saved"}),this.feedbackMessage=A({}),this.journey=U.required(),this.coordinates=[],this.searchCategory=n=>n.pipe(Z(""),vt(200),Je(),pe(_=>_.length<1?ke([]):this.autoCompleteService.getAvailableCategories(_.toLowerCase()))),this.SUPPORTED_ICONS=gi}ngOnInit(){this.coordinates=this.journey().location.coordinates}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.savedEvent.emit(t)}addTag(t){let e=(t.value||"").toLowerCase().trim();e&&this.journey().tags.push(e),t.chipInput.clear()}removeTag(t){let e=this.journey().tags.indexOf(t);e>=0&&this.journey().tags.splice(e,1)}refreshMapWithCoordinates(){setTimeout(()=>{this.coordinates.length==2&&(this.journey().location={type:"Point",coordinates:this.coordinates})},100)}save(t){console.debug("Submitted form data:",t),this.journeyService.saveJourneyBasicDetails(this.journey()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving data",e)})}swapCoordinates(){let t=this.coordinates[0];this.coordinates[0]=this.coordinates[1],this.coordinates[1]=t,this.refreshMapWithCoordinates()}copyCoordinatesFromGoogleMap(){return Ke(this,null,function*(){let t=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",t),t){let e=t.split(",");this.coordinates[0]=Number(e.length<2?e[0]:e[1]),this.coordinates[1]=Number(e[0]),this.refreshMapWithCoordinates()}})}copyCoordinatesFromClipboard(){return Ke(this,null,function*(){let t=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",t),t){let e=t.split(",");this.coordinates[0]=Number(e[0]),this.coordinates[1]=Number(e.length>=2?e[1]:e[0]),this.refreshMapWithCoordinates()}})}};r.\u0275fac=function(e){return new(e||r)(f(B),f(bi))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","50","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["name","markdownStyle","aria-label","Markdown Style","hideSingleSelectionIndicator","true",1,"ignore-highlight","ms-2",3,"ngModelChange","ngModel"],["value","Source"],["value","Preview"],["rows","15","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control","vh-50",3,"ngModelChange","ngModel","hidden"],[2,"height","25rem",3,"hidden"],[3,"title","markdownText"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","blur","ngModel"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-light","input-group-text","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-dark"],["type","button",1,"dropdown-item",3,"click"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","blur","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-4"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData","iconType"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(e,n){e&1&&h(0,zn,139,61,"form",12),e&2&&c("ngIf",n.journey)},dependencies:[H,O,N,Ue,He,ye,Ht,We,te,F,ve,Qt,Kt,Gt,qt,ie,P,J,$t,st,fe,_i,pi,ui,ci,mi,qe,re,Ge,Vt,vi,fi,yi,hi],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0});let i=r;return i})();function Wn(i,r){if(i&1){let s=C();o(0,"form",2,0),g("ngSubmit",function(){p(s);let e=v(1),n=m();return u(n.save(e))}),o(2,"div",3)(3,"div",4),x(4,"app-feedback-message",5),a()(),o(5,"div",6)(6,"div",7)(7,"div")(8,"label",8)(9,"span"),d(10,"Tip:"),a(),o(11,"a",9),d(12,"GeoJson Creator"),a()(),o(13,"textarea",10),w("ngModelChange",function(e){p(s);let n=m();return E(n.geoJsonString,e)||(n.geoJsonString=e),u(e)}),g("change",function(){p(s);let e=m();return u(e.reloadMap())}),d(14),Be(15,"json"),a()()(),o(16,"div",11),x(17,"app-world-map",12),a()(),o(18,"div",13)(19,"div",14)(20,"button",15),d(21," Save "),a(),o(22,"button",16),d(23,"Next "),a()()()()}if(i&2){let s,t=v(1),e=m();l(4),c("message",e.feedbackMessage()),l(9),S("ngModel",e.geoJsonString),l(),Oe("          ",Ae(15,6,(s=e.journey().extendedDetails)==null||s.geoDetails==null?null:s.geoDetails.geoJson),`
        `),l(3),c("geoJsonData",e.formGeoDetails.geoJson),l(3),c("disabled",!t.form.valid),l(2),c("disabled",!t.form.valid)}}var Ji=(()=>{let r=class r{constructor(t){this.journeyService=t,this.savedEvent=W({alias:"saved"}),this.feedbackMessage=A({}),this.journey=U.required(),this.formGeoDetails=new lt(void 0),this.geoJsonString=""}ngOnInit(){this.journey().extendedDetails?.geoDetails?this.formGeoDetails=this.journey().extendedDetails.geoDetails:this.formGeoDetails=new lt(this.journey().location),this.geoJsonString=JSON.stringify(this.formGeoDetails.geoJson)}save(t){console.debug("submitted form:",t),this.journeyService.saveJourneyGeoDetails(this.journey(),this.formGeoDetails).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving geo data",e)})}onUpdateSuccess(t){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.savedEvent.emit(t)}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}reloadMap(){this.geoJsonString&&(this.formGeoDetails.geoJson=JSON.parse(this.geoJsonString))}};r.\u0275fac=function(e){return new(e||r)(f(B))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,n){e&1&&h(0,Wn,24,8,"form",1),e&2&&c("ngIf",n.journey)},dependencies:[O,N,ye,te,F,ve,ie,P,H,Ge,re,J,kt],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"],changeDetection:0});let i=r;return i})();var Fi=(()=>{let r=class r{constructor(t){this.activeModel=t,this.imageItem=wt.required()}save(){this.activeModel.close(this.imageItem())}cancel(){this.activeModel.dismiss()}remove(){this.activeModel.close(this.imageItem()?.assetId)}};r.\u0275fac=function(e){return new(e||r)(f(Xt))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:[1,"imageItem"]},outputs:{imageItem:"imageItemChange"},standalone:!0,features:[D],decls:48,vars:11,consts:[["d","ngbDatepicker"],[1,"container"],[1,"model-header","m-1"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly","align-items-center","align-content-center"],[1,"image-thumbnail","m-1","col-md-4","text-center"],["fill","",1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[3,"submit"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","publicId","name","publicId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","publicId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],[1,"input-group","input-group-sm","mb-1"],[1,"form-floating"],["type","text","id","eventDate","name","eventDate","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control","form-control-sm","ignore-highlight",3,"ngModelChange","ngModel"],["for","eventDate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","bi","bi-calendar3",3,"click"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],[1,"btn","btn-outline-primary","me-1"],["type","button",1,"btn","btn-outline-danger","me-1",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,n){if(e&1){let _=C();o(0,"div",1)(1,"div",2)(2,"h6",3),d(3,"Edit Image Details"),a()(),o(4,"div",4)(5,"div",5),x(6,"img",6),a(),o(7,"div",7)(8,"form",8),g("submit",function(){return p(_),u(n.save())}),o(9,"div",9)(10,"input",10),w("ngModelChange",function(b){return p(_),E(n.imageItem().url,b)||(n.imageItem().url=b),u(b)}),a(),o(11,"label",11),d(12,"Image URL"),a()(),o(13,"div",9)(14,"input",12),w("ngModelChange",function(b){return p(_),E(n.imageItem().assetId,b)||(n.imageItem().assetId=b),u(b)}),a(),o(15,"label",13),d(16,"Asset ID"),a()(),o(17,"div",9)(18,"input",14),w("ngModelChange",function(b){return p(_),E(n.imageItem().publicId,b)||(n.imageItem().publicId=b),u(b)}),a(),o(19,"label",15),d(20,"Public ID"),a()(),o(21,"div",9)(22,"input",16),w("ngModelChange",function(b){return p(_),E(n.imageItem().title,b)||(n.imageItem().title=b),u(b)}),a(),o(23,"label",17),d(24,"Title"),a()(),o(25,"div",18)(26,"div",19)(27,"input",20),w("ngModelChange",function(b){return p(_),E(n.imageItem().isFavorite,b)||(n.imageItem().isFavorite=b),u(b)}),a()(),x(28,"input",21),a(),o(29,"div",22)(30,"div",23)(31,"input",24,0),w("ngModelChange",function(b){return p(_),E(n.imageItem().eventDate,b)||(n.imageItem().eventDate=b),u(b)}),a(),o(33,"label",25),d(34,"Event Date"),a()(),o(35,"div",19)(36,"button",26),g("click",function(){p(_);let b=v(32);return u(b.toggle())}),a()()(),o(37,"div",18)(38,"div",19)(39,"input",27),w("ngModelChange",function(b){return p(_),E(n.imageItem().isThumbnail,b)||(n.imageItem().isThumbnail=b),u(b)}),a()(),x(40,"input",28),a(),o(41,"div",29)(42,"button",30),d(43,"Save"),a(),o(44,"button",31),g("click",function(){return p(_),u(n.remove())}),d(45,"Remove"),a(),o(46,"button",32),g("click",function(){return p(_),u(n.cancel())}),d(47,"Cancel"),a()()()()()()}e&2&&(l(6),c("src",n.imageItem().url,$)("alt",n.imageItem().assetId)("title",n.imageItem().assetId),l(4),S("ngModel",n.imageItem().url),l(4),S("ngModel",n.imageItem().assetId),l(4),S("ngModel",n.imageItem().publicId),l(4),S("ngModel",n.imageItem().title),c("autofocus",!0),l(5),S("ngModel",n.imageItem().isFavorite),l(4),S("ngModel",n.imageItem().eventDate),l(8),S("ngModel",n.imageItem().isThumbnail))},dependencies:[O,N,ye,Ut,te,F,ie,P,qe],encapsulation:2});let i=r;return i})();var Hn=(i,r)=>r.assetId,qn=(i,r)=>({"border-success":i,"border-primary":r});function Gn(i,r){if(i&1){let s=C();o(0,"a",16),g("click",function(){let e=p(s).$implicit,n=m(2);return u(n.openImageItem(e))}),x(1,"img",17),a()}if(i&2){let s=r.$implicit;l(),c("src",s.url,$)("title",s.assetId)("ngClass",de(3,qn,s.isThumbnail,!s.isThumbnail))}}function Qn(i,r){if(i&1){let s=C();o(0,"form",1),g("ngSubmit",function(){p(s);let e=m();return u(e.save())}),o(1,"div",2)(2,"div",3),x(3,"app-feedback-message",4),a()(),o(4,"div",5)(5,"div",3)(6,"div",6),V(7,Gn,2,6,"a",7,Hn),a()()(),o(9,"div",5)(10,"div",8)(11,"button",9),g("click",function(){p(s);let e=m();return u(e.openUploadWidget(!0))}),x(12,"i",10),o(13,"span",11),d(14,"Upload Image(s)"),a()(),o(15,"button",9),g("click",function(){p(s);let e=m();return u(e.openUploadWidget(!1))}),x(16,"i",12),o(17,"span",11),d(18,"Upload Image"),a()(),o(19,"button",13),d(20,"Next "),a(),o(21,"a",14),d(22,"Reduce Image Size"),x(23,"i",15),a()()()()}if(i&2){let s,t=m();l(3),c("message",t.feedbackMessage()),l(4),k(t.formImageDetails.images),l(12),c("disabled",!(!((s=t.journey().extendedDetails)==null||s.imagesDetails==null)&&s.imagesDetails.images))}}var Pi=(()=>{let r=class r{constructor(t,e){this.journeyService=t,this.modelService=e,this.savedEvent=W({alias:"saved"}),this.journey=U.required(),this.feedbackMessage=A({}),this.formImageDetails=new dt}ngOnInit(){this.formImageDetails=this.journey().extendedDetails?.imagesDetails??new dt}addImage(t){this.formImageDetails.images.push(new li(t.secure_url,t.asset_id,t.public_id))}getWidgetParams(t,e){return{cloudName:be.cloudName,uploadPreset:e?be.cloudinaryPreset:be.cloudinarySingleImgPreset,folder:`${be.cloudBaseDir}/${t.id}`,tags:t.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:be.stage,id:`${t.id}`},cropping:!e,showAdvancedOptions:!0,multiple:e}}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){this.feedbackMessage.set({success:"Image Details saved successfully."}),this.savedEvent.emit(t)}save(){this.journeyService.saveJourneyImagesDetails(this.journey(),this.formImageDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving images data",t)})}openUploadWidget(t=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey(),t),(e,n)=>{!e&&n&&n.event==="success"&&this.addImage(n.info),!e&&n&&n.event==="close"&&this.save()}).open()}openImageItem(t){let e=this.modelService.open(Fi,{animation:!0,size:"lg",backdrop:!0,centered:!0,scrollable:!0});e.componentInstance.imageItem.set(t),e.result.then(n=>{if(n&&typeof n=="object"){let _=this.journey().extendedDetails?.imagesDetails?.images?.find(y=>y.assetId==n.assertId);Object.assign(_??{},n)}else if(typeof n=="string"){let _=this.formImageDetails.images.findIndex(y=>y.assetId==n);_>=0&&this.formImageDetails.images.splice(_,1)}this.save()},n=>{console.log("Update cancelled, reason:",n)})}};r.\u0275fac=function(e){return new(e||r)(f(B),f(Zt))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-images-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center","align-items-end"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-folder-plus"],[1,"ms-2"],[1,"bi","bi-file-earmark-binary"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["role","link","routerLink","/tools","target","_blank",1,"text-decoration-none"],[1,"bi","bi-box-arrow-up-right","ms-1"],[1,"m-2","image-thumbnail-wrapper",3,"click"],["alt","thumbnail",1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","title","ngClass"]],template:function(e,n){e&1&&h(0,Qn,24,2,"form",0),e&2&&c("ngIf",n.journey())},dependencies:[H,O,N,F,P,J,re,jt,Ft],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"]});let i=r;return i})();var Kn=(i,r)=>r.videoId;function Yn(i,r){if(i&1){let s=C();o(0,"div",11)(1,"button",15),g("click",function(){let e=p(s).$implicit,n=m(2);return u(n.removeVideoAndSaveJourney(e))}),d(2," X "),a(),x(3,"img",16),a()}if(i&2){let s=r.$implicit;l(3),c("src","https://img.youtube.com/vi/"+s.videoId+"/0.jpg",$)("alt",s.videoId)("title",s.videoId)}}function Xn(i,r){i&1&&(o(0,"p",12),d(1,"No Videos available for the journey"),a())}function Zn(i,r){if(i&1){let s=C();o(0,"form",null,0)(2,"div",3)(3,"div",4),x(4,"app-feedback-message",5),a()(),o(5,"div",6)(6,"div",4)(7,"div",7),x(8,"input",8,1),o(10,"button",9),g("click",function(){p(s);let e=v(9);return m().addVideo(e.value),u(e.value="")}),d(11,"Add "),a()()()(),o(12,"div",6)(13,"div",4)(14,"div",10),V(15,Yn,4,3,"div",11,Kn),h(17,Xn,2,0,"p",12),a()()(),o(18,"div",6)(19,"div",13)(20,"button",14),d(21,"Next"),a()()()()}if(i&2){let s=m();l(4),c("message",s.feedbackMessage()),l(11),k(s.formVideosDetails.videos),l(2),T(s.formVideosDetails.videos.length?-1:17)}}var Ni=(()=>{let r=class r{constructor(t){this.journeyService=t,this.journey=U.required(),this.savedEvent=W({alias:"saved"}),this.feedbackMessage=A({}),this.formVideosDetails=new ct}ngOnInit(){this.formVideosDetails=this.journey().extendedDetails?.videosDetails??new ct}addVideo(t){this.formVideosDetails.videos.push(new di(t)),this.save()}removeVideoAndSaveJourney(t){let e=this.formVideosDetails.videos.indexOf(t);e>=0&&(this.formVideosDetails.videos.splice(e,1),this.save())}save(){this.journeyService.saveJourneyVideosDetails(this.journey(),this.formVideosDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving videos data",t)})}onUpdateSuccess(t){this.feedbackMessage.set({success:"Video Details saved successfully."}),this.savedEvent.emit(t)}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}};r.\u0275fac=function(e){return new(e||r)(f(B))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["videoInput",""],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["aria-label","close",1,"btn","btn-sm","btn-outline-danger","btn-video-remove","rounded-2",3,"click"],[1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"]],template:function(e,n){e&1&&h(0,Zn,22,2,"form",2),e&2&&c("ngIf",n.journey())},dependencies:[H,O,N,F,P,J,Yt,re],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{position:absolute;right:0}"]});let i=r;return i})();var er=(i,r)=>r.assetId;function tr(i,r){i&1&&(o(0,"mat-error"),d(1,"Please choose visibility"),a())}function ir(i,r){i&1&&(o(0,"mat-icon",20),d(1,"check_circle"),a())}function nr(i,r){i&1&&(o(0,"mat-icon",21),d(1,"cancel"),a())}function rr(i,r){i&1&&(o(0,"mat-icon",20),d(1,"check_circle"),a())}function or(i,r){i&1&&(o(0,"mat-icon",21),d(1,"cancel"),a())}function ar(i,r){i&1&&(o(0,"mat-icon",20),d(1,"check_circle"),a())}function sr(i,r){i&1&&(o(0,"mat-icon",21),d(1,"cancel"),a())}function lr(i,r){i&1&&(o(0,"mat-icon",20),d(1,"check_circle"),a())}function dr(i,r){i&1&&(o(0,"mat-icon",21),d(1,"cancel"),a())}function cr(i,r){if(i&1&&(o(0,"option",26),d(1),a()),i&2){let s=r.$implicit;c("value",s.url),l(),j(s.assetId)}}function mr(i,r){if(i&1&&(o(0,"div",43),x(1,"img",44),a()),i&2){m();let s=v(47);l(),c("src",s.value,$)("alt",s.value)}}function pr(i,r){if(i&1){let s=C();o(0,"button",42),g("click",function(){p(s),m();let e=v(59);return u(e.showModal())}),d(1," Delete Journey "),a()}}function ur(i,r){if(i&1){let s=C();o(0,"button",45),g("click",function(){p(s),m();let e=v(1),n=m();return u(n.save(e))}),d(1," Save as Draft "),a()}if(i&2){m();let s=v(1);c("disabled",!s.form.valid)}}function _r(i,r){if(i&1&&(o(0,"button",46),d(1," Publish "),a()),i&2){m();let s=v(1);c("disabled",!s.form.valid)}}function gr(i,r){if(i&1){let s=C();o(0,"form",5,0),g("ngSubmit",function(){p(s);let e=v(1),n=m();return u(n.publish(e))}),o(2,"div",6)(3,"div",7),x(4,"app-feedback-message",8),a()(),o(5,"div",9)(6,"div",7)(7,"mat-form-field",10)(8,"mat-label"),d(9,"Visibility"),a(),o(10,"mat-select",11,1),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().visibilities,e)||(n.journey().visibilities=e),u(e)}),o(12,"mat-option",12),d(13,"MYSELF"),a(),o(14,"mat-option",13),d(15,"ADMINISTRATOR"),a(),o(16,"mat-option",14),d(17,"MAINTAINER"),a(),o(18,"mat-option",15),d(19,"AUTHENTICATED_USER"),a(),o(20,"mat-option",16),d(21,"GUEST"),a()(),h(22,tr,2,0,"mat-error"),a()()(),o(23,"div",9)(24,"div",17)(25,"ul",18)(26,"li",19),d(27,"Basic Details "),h(28,ir,2,0,"mat-icon",20)(29,nr,2,0,"mat-icon",21),a(),o(30,"li",19),d(31,"Geo Details "),h(32,rr,2,0,"mat-icon",20)(33,or,2,0,"mat-icon",21),a(),o(34,"li",19),d(35,"Images Details "),h(36,ar,2,0,"mat-icon",20)(37,sr,2,0,"mat-icon",21),a(),o(38,"li",19),d(39,"Videos Details "),h(40,lr,2,0,"mat-icon",20)(41,dr,2,0,"mat-icon",21),a()()(),o(42,"div",22)(43,"div",23)(44,"label",24),d(45,"Thumbnail"),a(),o(46,"select",25,2),w("ngModelChange",function(e){p(s);let n=m();return E(n.journey().thumbnail,e)||(n.journey().thumbnail=e),u(e)}),o(48,"option",26),d(49,"Default"),a(),V(50,cr,2,2,"option",26,er),a()(),h(52,mr,2,2,"div",27),a()(),o(53,"div",28)(54,"div",29),h(55,pr,2,0,"button",30)(56,ur,2,1,"button",31)(57,_r,2,1,"button",32),a()(),o(58,"dialog",33,3)(60,"div",34)(61,"div",35)(62,"div",36)(63,"mat-icon",37),d(64,"delete_forever"),a()(),o(65,"div",38)(66,"p",39),d(67,"Are you sure you want to delete the journey ?"),a()()(),o(68,"div",40)(69,"button",41),g("click",function(){p(s);let e=v(59);return u(e.close())}),d(70,"No, Keep it"),a(),o(71,"button",42),g("click",function(){p(s);let e=v(59),n=m();return e.close(),u(n.delete())}),d(72,"Yes, Delete forever"),a()()()()()}if(i&2){let s,t=v(11),e=v(47),n=m();l(4),c("message",n.feedbackMessage()),l(6),S("ngModel",n.journey().visibilities),l(2),c("disabled",!0),l(10),T(t.hasError("required")?22:-1),l(6),T(n.isBasicDetailsAvailableAndValid()?28:29),l(4),T(n.isGeoJsonAvailable()?32:33),l(4),T(n.isImagesDetailsAvailable()?36:37),l(4),T(n.isVideosDetailsAvailable()?40:41),l(6),S("ngModel",n.journey().thumbnail),l(2),c("value",n.DEFAULT_THUMBNAIL),l(2),k((s=n.journey().extendedDetails)==null||s.imagesDetails==null?null:s.imagesDetails.images),l(2),c("ngIf",e.value&&e.value!="default")}}var Oi=(()=>{let r=class r{constructor(t,e){this.router=t,this.journeyService=e,this.DEFAULT_THUMBNAIL=si,this.journey=U.required(),this.savedEvent=W({alias:"saved"}),this.feedbackMessage=A({})}isBasicDetailsAvailableAndValid(){return this.journey().id!=""&&this.journey().name!=""&&this.journey().title!=""&&this.journey().description!=""&&this.journey().city!=""&&this.journey().country!=""&&this.journey().journeyDate!=""&&this.journey().category!=""&&this.journey().tags?.length>0&&this.journey().location!=null}isGeoJsonAvailable(){return this.journey().extendedDetails?.geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey().extendedDetails?.imagesDetails?.images?.length??!1}isVideosDetailsAvailable(){return this.journey().extendedDetails?.videosDetails?.videos?.length??!1}publish(t){console.debug("submitted form:",t),this.journey().isPublished=!0,this.journeyService.publishJourney(this.journey()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)})}save(t){t.valid&&(this.journey().isPublished=!1,this.journeyService.publishJourney(this.journey()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)}))}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){let e=t.isPublished?"Journey published successfully.":"Journey saved successfully";this.feedbackMessage.set({success:e}),this.savedEvent.emit(t)}delete(){this.feedbackMessage.set({loading:"Please wait while your request processing..."}),this.journeyService.deleteJourney(this.journey()).subscribe({next:t=>this.onDeleteSuccess(),error:t=>this.onError("Unexpected error while publishing data",t)})}onDeleteSuccess(){this.feedbackMessage.set({success:"Journey deleted successfully"}),setTimeout(()=>this.router.navigate(["journey"]),1e3)}};r.\u0275fac=function(e){return new(e||r)(f(Re),f(B))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:[1,"journey"]},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],["deleteJourneyDialog",""],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end"],["color","warn",1,"float-end"],[1,"col-12","col-md-8","mt-2","mt-md-0"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","class","btn btn-outline-danger",3,"click",4,"hasWriteAccess"],["type","button","class","btn btn-outline-primary",3,"disabled","click",4,"hasWriteAccess"],["type","submit","class","btn btn-outline-success",3,"disabled",4,"hasWriteAccess"],["id","deleteJourneyDialog",1,"border-0","rounded","rounded-3"],[1,"d-flex","flex-column","justify-content-center","align-content-center","align-items-center"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"p-3"],[1,"fs-3","text-danger"],[1,"mt-2"],[1,"text-danger"],[1,"d-flex","gap-3"],["type","button","autofocus","",1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"text-center"],[1,"journey-thumbnail-img","rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"]],template:function(e,n){e&1&&h(0,gr,73,11,"form",4),e&2&&c("ngIf",n.journey())},dependencies:[fe,O,N,Ue,He,We,te,F,ve,ie,P,J,H,ri,ni,ti,ii,ai,oi,Lt,ei],styles:[".journey-thumbnail-img[_ngcontent-%COMP%]{width:30rem;height:15rem}"]});let i=r;return i})();function hr(i,r){i&1&&d(0,"Memories")}function fr(i,r){if(i&1){let s=C();o(0,"app-edit-journey-basic-data",12),g("saved",function(e){p(s);let n=m(2);return u(n.savedEventHandler(e))}),a()}if(i&2){let s=m(2);c("journey",s.journey)}}function yr(i,r){i&1&&d(0,"Geography")}function vr(i,r){if(i&1){let s=C();o(0,"app-edit-journey-geo-details",12),g("saved",function(e){p(s);let n=m(2);return u(n.savedEventHandler(e))}),a()}if(i&2){let s=m(2);c("journey",s.journey)}}function br(i,r){i&1&&d(0,"Images")}function xr(i,r){if(i&1){let s=C();o(0,"app-edit-journey-images-details",12),g("saved",function(e){p(s);let n=m(2);return u(n.savedEventHandler(e))}),a()}if(i&2){let s=m(2);c("journey",s.journey)}}function Cr(i,r){i&1&&d(0,"Videos")}function Sr(i,r){if(i&1){let s=C();o(0,"app-edit-journey-videos-details",12),g("saved",function(e){p(s);let n=m(2);return u(n.savedEventHandler(e))}),a()}if(i&2){let s=m(2);c("journey",s.journey)}}function Er(i,r){i&1&&d(0,"Publish")}function wr(i,r){if(i&1){let s=C();o(0,"app-edit-journey-publish-details",12),g("saved",function(e){p(s);let n=m(2);return u(n.savedEventHandler(e))}),a()}if(i&2){let s=m(2);c("journey",s.journey)}}function Ir(i,r){if(i&1){let s=C();o(0,"section",1)(1,"div",2)(2,"div",3)(3,"h4")(4,"span",4),d(5),a(),o(6,"button",5),g("click",function(){p(s);let e=m();return u(e.viewJourney(e.journey))}),x(7,"i",6),a()()()(),o(8,"mat-stepper",7)(9,"mat-step",8),h(10,hr,1,0,"ng-template",9)(11,fr,1,1,"ng-template",10),a(),o(12,"mat-step",11),g("interacted",function(e){p(s);let n=m();return u(n.stepsEventHandler(e))}),h(13,yr,1,0,"ng-template",9)(14,vr,1,1,"ng-template",10),a(),o(15,"mat-step",11),g("interacted",function(e){p(s);let n=m();return u(n.stepsEventHandler(e))}),h(16,br,1,0,"ng-template",9)(17,xr,1,1,"ng-template",10),a(),o(18,"mat-step",11),g("interacted",function(e){p(s);let n=m();return u(n.stepsEventHandler(e))}),h(19,Cr,1,0,"ng-template",9)(20,Sr,1,1,"ng-template",10),a(),o(21,"mat-step",11),g("interacted",function(e){p(s);let n=m();return u(n.stepsEventHandler(e))}),h(22,Er,1,0,"ng-template",9)(23,wr,1,1,"ng-template",10),a()()()}if(i&2){let s=m();l(5),j(s.journey.name),l(4),c("completed",s.journey.id)}}var Qa=(()=>{let r=class r{constructor(t,e,n){this.route=t,this.journeyService=e,this.router=n}ngOnInit(){this.fetchJourney()}stepsEventHandler(t){this.fetchJourney()}savedEventHandler(t){this.journey=t}fetchJourney(){this.route.paramMap.pipe(pe(t=>this.journeyService.getJourneyById(t.get("id")))).subscribe({next:t=>this.journey=t,error:t=>console.error(t)})}viewJourney(t){this.router.navigate(["/journey",t.id,"view"]).then()}};r.\u0275fac=function(e){return new(e||r)(f(Jt),f(B),f(Re))},r.\u0275cmp=M({type:r,selectors:[["app-edit-journey"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text","me-1"],["type","button","title","View Journey",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-eye-fill"],["orientation","horizontal"],[3,"completed"],["matStepLabel",""],["matStepContent",""],[3,"interacted"],[3,"saved","journey"]],template:function(e,n){e&1&&h(0,Ir,24,2,"section",0),e&2&&c("ngIf",n.journey)},dependencies:[ht,gt,ki,Ji,Pi,De,_t,Ni,Oi,J],styles:["@media (max-width: 767.98px){[_nghost-%COMP%]     .mat-horizontal-stepper-header{flex-direction:column!important}[_nghost-%COMP%]     .mat-stepper-horizontal-line{display:contents}}"]});let i=r;return i})();export{Qa as EditJourneyComponent};
