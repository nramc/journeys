import{a as q}from"./chunk-EXXTB3G4.js";import{a as ai,b as si}from"./chunk-MILEOYK3.js";import{a as Ei}from"./chunk-CPULIXDG.js";import{a as gi,b as _i,c as hi,d as fi,e as vi}from"./chunk-Q3L4AX33.js";import{b as qe,h as yi,i as bi,j as xi}from"./chunk-LAVBDWJT.js";import"./chunk-VXFKOE2P.js";import{a as ii,b as ni,e as ri,f as oi}from"./chunk-3SLBWMZJ.js";import{b as At,c as fe,g as ie,h as B,i as N,j as ne,k as z,l as Rt,n as Re,o as Le,p as We,q as Lt,r as Wt,s as ve,u as Ut,v as Ht,w as O,x as qt}from"./chunk-XEDJDCXR.js";import{a as li}from"./chunk-3JD2APKK.js";import{k as Gt,n as Qt}from"./chunk-RRHBB2PL.js";import"./chunk-VSQTGOJW.js";import{a as di,c as lt,d as ci,e as mi,f as pi,g as ui}from"./chunk-BW2DKKL2.js";import{a as Ci,b as Ge}from"./chunk-NE4QBVIQ.js";import"./chunk-DR6ZSMLY.js";import{a as P}from"./chunk-N2HJALQZ.js";import{a as ye,b as st}from"./chunk-TSQIDNTP.js";import{B as ti,a as Ue,c as Kt,h as Yt,j as Zt,k as Xt,o as $t,v as He,x as ei}from"./chunk-4PTYCNBB.js";import{c as tt,d as it,e as nt,g as me,h as pe,j as rt,k as ot,l as at}from"./chunk-RGNDWIHZ.js";import{a as Ot,g as Pt}from"./chunk-LHFKDAYA.js";import{e as Nt,g as Ae,h as zt}from"./chunk-K7HVF7SP.js";import{a as he}from"./chunk-GISEPMBY.js";import"./chunk-ARLEKDS5.js";import{A as Bt,d as kt,p as Jt,r as V,v as et,x as Ft}from"./chunk-42OPBNH4.js";import{$b as de,$c as Vt,Aa as F,Bb as It,Bc as Oe,Cc as Pe,Db as W,Ea as bt,Ec as Mt,Fb as _e,Ha as xt,Hb as Ce,Ia as p,Ja as u,Lb as f,Ma as Ze,Mb as Ee,Nb as c,Oc as Tt,P as ft,Pb as U,Qb as Dt,Rb as wt,Sa as ee,Sb as M,Sc as De,Ta as T,Tb as le,U as Je,Ua as xe,Ub as k,Vb as J,Wb as a,Wc as H,Xb as s,Xc as jt,Yb as b,Za as Ct,ac as x,bc as Be,ea as $,fa as ge,fc as _,ga as oe,hc as m,ic as Se,j as Ye,jc as Ie,k as _t,kc as Q,lc as Ne,mb as te,mc as R,na as Fe,nc as L,oa as vt,oc as v,p as be,pc as d,qb as l,qc as j,ra as yt,rb as h,rc as ze,sc as C,tb as se,tc as E,ua as ae,uc as S,v as ke,vc as Xe,wb as Et,wc as D,ya as I,yb as St,yc as $e,z as ht,zc as ce}from"./chunk-TO7D4NWA.js";var qi=["*"];function Gi(i,n){i&1&&Ie(0)}var dt=(()=>{let n=class n{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}};n.\u0275fac=function(e){return new(e||n)(h(ee))},n.\u0275dir=F({type:n,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0});let i=n;return i})(),ct=(()=>{let n=class n{constructor(t){this.template=t}};n.\u0275fac=function(e){return new(e||n)(h(se))},n.\u0275dir=F({type:n,selectors:[["","cdkStepLabel",""]],standalone:!0});let i=n;return i})(),Qi=0;var K={NUMBER:"number",EDIT:"edit",DONE:"done",ERROR:"error"},mt=new yt("STEPPER_GLOBAL_OPTIONS"),Qe=(()=>{let n=class n{get completed(){return this._completedOverride==null?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return this._customError==null?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,e){this._stepper=t,this.interacted=!1,this.interactedStream=new T,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=e||{},this._displayDefaultIndicatorType=this._stepperOptions.displayDefaultIndicatorType!==!1}select(){this._stepper.selected=this}reset(){this.interacted=!1,this._completedOverride!=null&&(this._completedOverride=!1),this._customError!=null&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??this._customError!=null}};n.\u0275fac=function(e){return new(e||n)(h(Fe(()=>we)),h(mt,8))},n.\u0275cmp=I({type:n,selectors:[["cdk-step"]],contentQueries:function(e,r,g){if(e&1&&Q(g,ct,5),e&2){let y;R(y=L())&&(r.stepLabel=y.first)}},viewQuery:function(e,r){if(e&1&&Ne(se,7),e&2){let g;R(g=L())&&(r.content=g.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],state:"state",editable:[2,"editable","editable",H],optional:[2,"optional","optional",H],completed:[2,"completed","completed",H],hasError:[2,"hasError","hasError",H]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[Ce,xt,D],ngContentSelectors:qi,decls:1,vars:0,template:function(e,r){e&1&&(Se(),f(0,Gi,1,0,"ng-template"))},encapsulation:2,changeDetection:0});let i=n;return i})(),we=(()=>{let n=class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation(t==="vertical")}constructor(t,e,r){this._dir=t,this._changeDetectorRef=e,this._elementRef=r,this._destroyed=new be,this.steps=new xe,this._sortedHeaders=new xe,this.linear=!1,this._selectedIndex=0,this.selectionChange=new T,this.selectedIndexChange=new T,this._orientation="horizontal",this._groupId=Qi++}ngAfterContentInit(){this._steps.changes.pipe($(this._steps),oe(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(e=>e._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe($(this._stepHeader),oe(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((e,r)=>e._elementRef.nativeElement.compareDocumentPosition(r._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new Zt(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation(this._orientation==="vertical"),(this._dir?this._dir.change:ke()).pipe($(this._layoutDirection()),oe(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){let e=t-this._selectedIndex;return e<0?this._layoutDirection()==="rtl"?"next":"previous":e>0?this._layoutDirection()==="rtl"?"previous":"next":"current"}_getIndicatorType(t,e=K.NUMBER){let r=this.steps.toArray()[t],g=this._isCurrentStep(t);return r._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(r,g):this._getGuidelineLogic(r,g,e)}_getDefaultIndicatorLogic(t,e){return t._showError()&&t.hasError&&!e?K.ERROR:!t.completed||e?K.NUMBER:t.editable?K.EDIT:K.DONE}_getGuidelineLogic(t,e,r=K.NUMBER){return t._showError()&&t.hasError&&!e?K.ERROR:t.completed&&!e?K.DONE:t.completed&&e?r:t.editable&&e?K.EDIT:r}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){let e=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:e[t],previouslySelectedStep:e[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){let e=Kt(t),r=t.keyCode,g=this._keyManager;g.activeItemIndex!=null&&!e&&(r===32||r===13)?(this.selectedIndex=g.activeItemIndex,t.preventDefault()):g.setFocusOrigin("keyboard").onKeydown(t)}_anyControlsInvalidOrPending(t){return this.linear&&t>=0?this.steps.toArray().slice(0,t).some(e=>{let r=e.stepControl;return(r?r.invalid||r.pending||!e.interacted:!e.completed)&&!e.optional&&!e._completedOverride}):!1}_layoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_containsFocus(){let t=this._elementRef.nativeElement,e=Pt();return t===e||t.contains(e)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}};n.\u0275fac=function(e){return new(e||n)(h(Ue,8),h(De),h(ee))},n.\u0275dir=F({type:n,selectors:[["","cdkStepper",""]],contentQueries:function(e,r,g){if(e&1&&(Q(g,Qe,5),Q(g,dt,5)),e&2){let y;R(y=L())&&(r._steps=y),R(y=L())&&(r._stepHeader=y)}},inputs:{linear:[2,"linear","linear",H],selectedIndex:[2,"selectedIndex","selectedIndex",jt],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[Ce]});let i=n;return i})(),Mi=(()=>{let n=class n{constructor(t){this._stepper=t,this.type="submit"}};n.\u0275fac=function(e){return new(e||n)(h(we))},n.\u0275dir=F({type:n,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(e,r){e&1&&_("click",function(){return r._stepper.next()}),e&2&&Be("type",r.type)},inputs:{type:"type"},standalone:!0});let i=n;return i})();function Zi(i,n){if(i&1&&de(0,2),i&2){let o=m();c("ngTemplateOutlet",o.iconOverrides[o.state])("ngTemplateOutletContext",o._getIconContext())}}function Xi(i,n){if(i&1&&(a(0,"span",7),d(1),s()),i&2){let o=m(2);l(),j(o._getDefaultTextForState(o.state))}}function $i(i,n){if(i&1&&(a(0,"span",8),d(1),s()),i&2){let o=m(3);l(),j(o._intl.completedLabel)}}function en(i,n){if(i&1&&(a(0,"span",8),d(1),s()),i&2){let o=m(3);l(),j(o._intl.editableLabel)}}function tn(i,n){if(i&1&&(f(0,$i,2,1,"span",8)(1,en,2,1,"span",8),a(2,"mat-icon",7),d(3),s()),i&2){let o=m(2);M(o.state==="done"?0:o.state==="edit"?1:-1),l(3),j(o._getDefaultTextForState(o.state))}}function nn(i,n){if(i&1&&f(0,Xi,2,1,"span",7)(1,tn,4,2,"mat-icon",7),i&2){let o,t=m();M((o=t.state)==="number"?0:1)}}function rn(i,n){i&1&&(a(0,"div",4),de(1,9),s()),i&2&&(l(),c("ngTemplateOutlet",n.template))}function on(i,n){if(i&1&&(a(0,"div",4),d(1),s()),i&2){let o=m();l(),j(o.label)}}function an(i,n){if(i&1&&(a(0,"div",5),d(1),s()),i&2){let o=m();l(),j(o._intl.optionalLabel)}}function sn(i,n){if(i&1&&(a(0,"div",6),d(1),s()),i&2){let o=m();l(),j(o.errorMessage)}}var Vi=["*"];function ln(i,n){}function dn(i,n){if(i&1&&(Ie(0),f(1,ln,0,0,"ng-template",0)),i&2){let o=m();l(),c("cdkPortalOutlet",o._portal)}}var ki=(i,n)=>({step:i,i:n}),Ji=i=>({animationDuration:i}),Fi=(i,n)=>({value:i,params:n});function cn(i,n){i&1&&Ie(0)}function mn(i,n){i&1&&b(0,"div",6)}function pn(i,n){if(i&1&&(de(0,5),f(1,mn,1,0,"div",6)),i&2){let o=n.$implicit,t=n.$index,e=n.$count;m(2);let r=v(4);c("ngTemplateOutlet",r)("ngTemplateOutletContext",ce(3,ki,o,t)),l(),M(t!==e-1?1:-1)}}function un(i,n){if(i&1){let o=x();a(0,"div",7),_("@horizontalStepTransition.done",function(e){p(o);let r=m(2);return u(r._animationDone.next(e))}),de(1,8),s()}if(i&2){let o=n.$implicit,t=n.$index,e=m(2);U("mat-horizontal-stepper-content-inactive",e.selectedIndex!==t),c("@horizontalStepTransition",ce(8,Fi,e._getAnimationDirection(t),$e(6,Ji,e._getAnimationDuration())))("id",e._getStepContentId(t)),Ee("aria-labelledby",e._getStepLabelId(t)),l(),c("ngTemplateOutlet",o.content)}}function gn(i,n){if(i&1&&(a(0,"div",1)(1,"div",2),k(2,pn,2,6,null,null,le),s(),a(4,"div",3),k(5,un,2,11,"div",4,le),s()()),i&2){let o=m();l(2),J(o.steps),l(3),J(o.steps)}}function _n(i,n){if(i&1){let o=x();a(0,"div",9),de(1,5),a(2,"div",10)(3,"div",11),_("@verticalStepTransition.done",function(e){p(o);let r=m(2);return u(r._animationDone.next(e))}),a(4,"div",12),de(5,8),s()()()()}if(i&2){let o=n.$implicit,t=n.$index,e=n.$count,r=m(2),g=v(4);l(),c("ngTemplateOutlet",g)("ngTemplateOutletContext",ce(10,ki,o,t)),l(),U("mat-stepper-vertical-line",t!==e-1),l(),U("mat-vertical-stepper-content-inactive",r.selectedIndex!==t),c("@verticalStepTransition",ce(15,Fi,r._getAnimationDirection(t),$e(13,Ji,r._getAnimationDuration())))("id",r._getStepContentId(t)),Ee("aria-labelledby",r._getStepLabelId(t)),l(2),c("ngTemplateOutlet",o.content)}}function hn(i,n){if(i&1&&k(0,_n,6,18,"div",9,le),i&2){let o=m();J(o.steps)}}function fn(i,n){if(i&1){let o=x();a(0,"mat-step-header",13),_("click",function(){let e=p(o).step;return u(e.select())})("keydown",function(e){p(o);let r=m();return u(r._onKeydown(e))}),s()}if(i&2){let o=n.step,t=n.i,e=m();U("mat-horizontal-stepper-header",e.orientation==="horizontal")("mat-vertical-stepper-header",e.orientation==="vertical"),c("tabIndex",e._getFocusIndex()===t?0:-1)("id",e._getStepLabelId(t))("index",t)("state",e._getIndicatorType(t,o.state))("label",o.stepLabel||o.label)("selected",e.selectedIndex===t)("active",e._stepIsNavigable(t,o))("optional",o.optional)("errorMessage",o.errorMessage)("iconOverrides",e._iconOverrides)("disableRipple",e.disableRipple||!e._stepIsNavigable(t,o))("color",o.color||e.color),Ee("aria-posinset",t+1)("aria-setsize",e.steps.length)("aria-controls",e._getStepContentId(t))("aria-selected",e.selectedIndex==t)("aria-label",o.ariaLabel||null)("aria-labelledby",!o.ariaLabel&&o.ariaLabelledby?o.ariaLabelledby:null)("aria-disabled",e._stepIsNavigable(t,o)?null:!0)}}var Me=(()=>{let n=class n extends ct{};n.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ze(n)))(r||n)}})(),n.\u0275dir=F({type:n,selectors:[["","matStepLabel",""]],standalone:!0,features:[_e]});let i=n;return i})(),vn=(()=>{let n=class n{constructor(){this.changes=new be,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=vt({token:n,factory:n.\u0275fac,providedIn:"root"});let i=n;return i})();var Ti=(()=>{let n=class n extends dt{constructor(t,e,r,g){super(r),this._intl=t,this._focusMonitor=e,this._intlSubscription=t.changes.subscribe(()=>g.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._elementRef,t,e):this._elementRef.nativeElement.focus(e)}_stringLabel(){return this.label instanceof Me?null:this.label}_templateLabel(){return this.label instanceof Me?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return t=="number"?`${this.index+1}`:t=="edit"?"create":t=="error"?"warning":t}};n.\u0275fac=function(e){return new(e||n)(h(vn),h($t),h(ee),h(De))},n.\u0275cmp=I({type:n,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(e,r){e&2&&Dt("mat-"+(r.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[_e,D],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(e,r){if(e&1&&(b(0,"div",0),a(1,"div")(2,"div",1),f(3,Zi,1,2,"ng-container",2)(4,nn,2,1),s()(),a(5,"div",3),f(6,rn,2,1,"div",4)(7,on,2,1,"div",4)(8,an,2,1,"div",5)(9,sn,2,1,"div",6),s()),e&2){let g;c("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disableRipple),l(),wt("mat-step-icon-state-",r.state," mat-step-icon"),U("mat-step-icon-selected",r.selected),l(2),M(r.iconOverrides&&r.iconOverrides[r.state]?3:4),l(2),U("mat-step-label-active",r.active)("mat-step-label-selected",r.selected)("mat-step-label-error",r.state=="error"),l(),M((g=r._templateLabel())?6:r._stringLabel()?7:-1,g),l(2),M(r.optional&&r.state!="error"?8:-1),l(),M(r.state==="error"?9:-1)}},dependencies:[ei,et,ye],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0});let i=n;return i})(),Bi="500ms",Ni="225ms",ji={horizontalStepTransition:tt("horizontalStepTransition",[pe("previous",me({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),pe("current",me({transform:"none",visibility:"inherit"})),pe("next",me({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),rt("* => *",nt([it("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),at("@*",ot(),{optional:!0})]),{params:{animationDuration:Bi}})]),verticalStepTransition:tt("verticalStepTransition",[pe("previous",me({height:"0px",visibility:"hidden"})),pe("next",me({height:"0px",visibility:"hidden"})),pe("current",me({height:"*",visibility:"inherit"})),rt("* <=> current",nt([it("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),at("@*",ot(),{optional:!0})]),{params:{animationDuration:Ni}})])},yn=(()=>{let n=class n{constructor(t){this.templateRef=t}};n.\u0275fac=function(e){return new(e||n)(h(se))},n.\u0275dir=F({type:n,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[0,"matStepperIcon","name"]},standalone:!0});let i=n;return i})(),pt=(()=>{let n=class n{constructor(t){this._template=t}};n.\u0275fac=function(e){return new(e||n)(h(se))},n.\u0275dir=F({type:n,selectors:[["ng-template","matStepContent",""]],standalone:!0});let i=n;return i})(),ut=(()=>{let n=class n extends Qe{constructor(t,e,r,g){super(t,g),this._errorStateMatcher=e,this._viewContainerRef=r,this._isSelected=_t.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe(ge(()=>this._stepper.selectionChange.pipe(ht(t=>t.selectedStep===this),$(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new Gt(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,e){let r=this._errorStateMatcher.isErrorState(t,e),g=!!(t&&t.invalid&&this.interacted);return r||g}};n.\u0275fac=function(e){return new(e||n)(h(Fe(()=>gt)),h(He,4),h(It),h(mt,8))},n.\u0275cmp=I({type:n,selectors:[["mat-step"]],contentQueries:function(e,r,g){if(e&1&&(Q(g,Me,5),Q(g,pt,5)),e&2){let y;R(y=L())&&(r.stepLabel=y.first),R(y=L())&&(r._lazyContent=y.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[Xe([{provide:He,useExisting:n},{provide:Qe,useExisting:n}]),_e,D],ngContentSelectors:Vi,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(e,r){e&1&&(Se(),f(0,dn,2,1,"ng-template"))},dependencies:[Qt],encapsulation:2,changeDetection:0});let i=n;return i})(),gt=(()=>{let n=class n extends we{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,e,r){super(t,e,r),this._stepHeader=void 0,this._steps=void 0,this.steps=new xe,this.animationDone=new T,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new be,this._animationDuration="",this._isServer=!ae(Ot).isBrowser;let g=r.nativeElement.nodeName.toLowerCase();this.orientation=g==="mat-vertical-stepper"?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:e})=>this._iconOverrides[t]=e),this.steps.changes.pipe(oe(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe(Je((t,e)=>t.fromState===e.fromState&&t.toState===e.toState),oe(this._destroyed)).subscribe(t=>{t.toState==="current"&&this.animationDone.emit()})}_stepIsNavigable(t,e){return e.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:this.orientation==="horizontal"?Bi:Ni}};n.\u0275fac=function(e){return new(e||n)(h(Ue,8),h(De),h(ee))},n.\u0275cmp=I({type:n,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(e,r,g){if(e&1&&(Q(g,ut,5),Q(g,yn,5)),e&2){let y;R(y=L())&&(r._steps=y),R(y=L())&&(r._icons=y)}},viewQuery:function(e,r){if(e&1&&Ne(Ti,5),e&2){let g;R(g=L())&&(r._stepHeader=g)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(e,r){e&2&&(Ee("aria-orientation",r.orientation),U("mat-stepper-horizontal",r.orientation==="horizontal")("mat-stepper-vertical",r.orientation==="vertical")("mat-stepper-label-position-end",r.orientation==="horizontal"&&r.labelPosition=="end")("mat-stepper-label-position-bottom",r.orientation==="horizontal"&&r.labelPosition=="bottom")("mat-stepper-header-position-bottom",r.headerPosition==="bottom"))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[Xe([{provide:we,useExisting:n}]),_e,D],ngContentSelectors:Vi,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(e,r){if(e&1&&(Se(),f(0,cn,1,0)(1,gn,7,0,"div",1)(2,hn,2,0)(3,fn,1,23,"ng-template",null,0,Mt)),e&2){let g;M(r._isServer?0:-1),l(),M((g=r.orientation)==="horizontal"?1:g==="vertical"?2:-1)}},dependencies:[et,Ti],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[ji.horizontalStepTransition,ji.verticalStepTransition]},changeDetection:0});let i=n;return i})(),re=(()=>{let n=class n extends Mi{};n.\u0275fac=(()=>{let t;return function(r){return(t||(t=Ze(n)))(r||n)}})(),n.\u0275dir=F({type:n,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(e,r){e&2&&Be("type",r.type)},standalone:!0,features:[_e]});let i=n;return i})();function bn(i,n){i&1&&(a(0,"div"),d(1,"Name is required."),s())}function xn(i,n){i&1&&(a(0,"div"),d(1,"Name must be at least 5 characters long."),s())}function Cn(i,n){i&1&&(a(0,"div"),d(1,"Name must be at most 50 characters long."),s())}function En(i,n){i&1&&(a(0,"div"),d(1,"Category is required."),s())}function Sn(i,n){i&1&&(a(0,"div"),d(1,"Category must be at least 3 characters long."),s())}function In(i,n){i&1&&(a(0,"div"),d(1,"Category must be at most 16 characters long."),s())}function Dn(i,n){i&1&&(a(0,"div"),d(1,"Title is required."),s())}function wn(i,n){i&1&&(a(0,"div"),d(1,"Title must be at least 10 characters long."),s())}function Mn(i,n){i&1&&(a(0,"div"),d(1,"Title must be at most 100 characters long."),s())}function Tn(i,n){if(i&1&&(a(0,"option",35),d(1),Oe(2,"titlecase"),s()),i&2){let o=n.$implicit;c("value",o),l(),j(Pe(2,2,o))}}function jn(i,n){i&1&&(a(0,"div"),d(1,"Icon is required."),s())}function Vn(i,n){i&1&&(a(0,"div"),d(1,"Memories is required."),s())}function kn(i,n){i&1&&(a(0,"div"),d(1,"Memories must be at least 10 characters long."),s())}function Jn(i,n){i&1&&(a(0,"div"),d(1,"Memories must be at most 5000 characters long."),s())}function Fn(i,n){if(i&1){let o=x();a(0,"mat-chip-row",67),_("removed",function(){let e=p(o).$implicit,r=m(2);return u(r.removeTag(e))}),d(1),a(2,"button",68),_("click",function(){let e=p(o).$implicit,r=m(2);return u(r.removeTag(e))}),a(3,"mat-icon"),d(4,"cancel"),s()()()}if(i&2){let o=n.$implicit;c("highlighted",!0)("editable",!1)("removable",!0),l(),ze(" ",o," ")}}function Bn(i,n){i&1&&(a(0,"div"),d(1,"Longitude is required."),s())}function Nn(i,n){i&1&&(a(0,"div"),d(1,"Longitude must be between -180.0 to 180.0."),s())}function zn(i,n){i&1&&(a(0,"div"),d(1,"Longitude must be between -180.0 to 180.0."),s())}function On(i,n){i&1&&(a(0,"div"),d(1,"Latitude is required."),s())}function Pn(i,n){i&1&&(a(0,"div"),d(1,"Latitude must be between -90.0 to 90.0."),s())}function An(i,n){i&1&&(a(0,"div"),d(1,"Latitude must be between -9 0.0 to 90.0."),s())}function Rn(i,n){i&1&&(a(0,"div"),d(1,"City is required."),s())}function Ln(i,n){i&1&&(a(0,"div"),d(1,"City must be at least 3 characters long."),s())}function Wn(i,n){i&1&&(a(0,"div"),d(1,"City must be at most 50 characters long."),s())}function Un(i,n){i&1&&(a(0,"div"),d(1,"Country is required."),s())}function Hn(i,n){i&1&&(a(0,"div"),d(1,"Country must be at least 3 characters long."),s())}function qn(i,n){i&1&&(a(0,"div"),d(1,"Country must be at most 50 characters long."),s())}function Gn(i,n){i&1&&(a(0,"div"),d(1,"Journey Date is required."),s())}function Qn(i,n){if(i&1){let o=x();a(0,"form",13,0),_("ngSubmit",function(){p(o);let e=v(1),r=m();return u(r.save(e))}),a(2,"div",14)(3,"div",15),b(4,"app-feedback-message",16),s()(),a(5,"div",17)(6,"div",18)(7,"div",17)(8,"div",19)(9,"span",20),d(10,"ID"),s(),a(11,"input",21),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.id,e)||(r.journey.id=e),u(e)}),s()()(),a(12,"div",17)(13,"div",22)(14,"label",23),d(15,"Name"),s(),a(16,"input",24,1),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.name,e)||(r.journey.name=e),u(e)}),s(),a(18,"div",25),f(19,bn,2,0,"div",26)(20,xn,2,0,"div",26)(21,Cn,2,0,"div",26),s()(),a(22,"div",27)(23,"label",28),d(24,"Category"),s(),a(25,"input",29,2),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.category,e)||(r.journey.category=e),u(e)}),s(),a(27,"div",25),f(28,En,2,0,"div",26)(29,Sn,2,0,"div",26)(30,In,2,0,"div",26),s()()(),a(31,"div",17)(32,"div",30)(33,"label",31),d(34,"Title"),s(),a(35,"input",32,3),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.title,e)||(r.journey.title=e),u(e)}),s(),a(37,"div",25),f(38,Dn,2,0,"div",26)(39,wn,2,0,"div",26)(40,Mn,2,0,"div",26),s()(),a(41,"div",27)(42,"label",33),d(43,"Icon"),s(),a(44,"select",34,4),_("change",function(){p(o);let e=m();return u(e.refreshMapWithCoordinates())}),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.icon,e)||(r.journey.icon=e),u(e)}),k(46,Tn,3,4,"option",35,le),s(),a(48,"div",25),f(49,jn,2,0,"div",26),s()()(),a(50,"div",36)(51,"label",37),d(52,"Memories"),s(),a(53,"textarea",38,5),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.description,e)||(r.journey.description=e),u(e)}),s(),a(55,"div",25),f(56,Vn,2,0,"div",26)(57,kn,2,0,"div",26)(58,Jn,2,0,"div",26),s()(),a(59,"div",14)(60,"div",39)(61,"mat-chip-grid",40,6),k(63,Fn,5,4,"mat-chip-row",41,le),a(65,"input",42),_("matChipInputTokenEnd",function(e){p(o);let r=m();return u(r.addTag(e))}),s()()(),a(66,"div",39)(67,"div",43)(68,"span",44),d(69,"Coordinates"),s(),a(70,"input",45,7),S("ngModelChange",function(e){p(o);let r=m();return E(r.coordinates[0],e)||(r.coordinates[0]=e),u(e)}),_("blur",function(){p(o);let e=m();return u(e.refreshMapWithCoordinates())}),s(),a(72,"button",46),d(73," Coordinates "),s(),a(74,"ul",47)(75,"li")(76,"a",48),_("click",function(){p(o);let e=m();return u(e.copyCoordinatesFromGoogleMap())}),d(77,"Paste coordinates copied from Google Map"),s()(),a(78,"li")(79,"a",48),_("click",function(){p(o);let e=m();return u(e.copyCoordinatesFromClipboard())}),d(80,"Paste from clipboard"),s()(),a(81,"li")(82,"a",48),_("click",function(){p(o);let e=m();return u(e.swapCoordinates())}),d(83,"Swap Coordinates"),s()()(),a(84,"input",49,8),S("ngModelChange",function(e){p(o);let r=m();return E(r.coordinates[1],e)||(r.coordinates[1]=e),u(e)}),_("blur",function(){p(o);let e=m();return u(e.refreshMapWithCoordinates())}),s()(),a(86,"div",50)(87,"div",51),f(88,Bn,2,0,"div",26)(89,Nn,2,0,"div",26)(90,zn,2,0,"div",26),s(),a(91,"div",25),f(92,On,2,0,"div",26)(93,Pn,2,0,"div",26)(94,An,2,0,"div",26),s()()()(),a(95,"div",17)(96,"div",52)(97,"label",53),d(98,"City"),s(),a(99,"input",54,9),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.city,e)||(r.journey.city=e),u(e)}),s(),a(101,"div",25),f(102,Rn,2,0,"div",26)(103,Ln,2,0,"div",26)(104,Wn,2,0,"div",26),s()(),a(105,"div",52)(106,"label",55),d(107,"Country"),s(),a(108,"input",56,10),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.country,e)||(r.journey.country=e),u(e)}),s(),a(110,"div",25),f(111,Un,2,0,"div",26)(112,Hn,2,0,"div",26)(113,qn,2,0,"div",26),s()(),a(114,"div",57)(115,"label",58),d(116,"Journey Date"),s(),a(117,"div",59)(118,"input",60,11),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.journeyDate,e)||(r.journey.journeyDate=e),u(e)}),s(),a(121,"button",61),_("click",function(){p(o);let e=v(120);return u(e.toggle())}),s(),a(122,"div",25),f(123,Gn,2,0,"div",26),s()()()()(),a(124,"div",62),b(125,"app-world-map",63),s()(),a(126,"div",17)(127,"div",64)(128,"button",65),d(129," Save "),s(),a(130,"button",66),d(131,"Next "),s()()()()}if(i&2){let o=v(1),t=v(17),e=v(26),r=v(36),g=v(45),y=v(54),ue=v(62),A=v(71),G=v(85),Z=v(100),X=v(109),Ve=v(119),w=m();l(4),c("message",w.feedbackMessage()),l(7),C("ngModel",w.journey.id),l(5),C("ngModel",w.journey.name),l(2),c("hidden",t.valid||t.pristine),l(),c("ngIf",t.errors==null?null:t.errors.required),l(),c("ngIf",t.errors==null?null:t.errors.minlength),l(),c("ngIf",t.errors==null?null:t.errors.maxlength),l(4),C("ngModel",w.journey.category),c("ngbTypeahead",w.searchCategory),l(2),c("hidden",e.valid||e.pristine),l(),c("ngIf",e.errors==null?null:e.errors.required),l(),c("ngIf",e.errors==null?null:e.errors.minlength),l(),c("ngIf",e.errors==null?null:e.errors.maxlength),l(5),C("ngModel",w.journey.title),l(2),c("hidden",r.valid||r.pristine),l(),c("ngIf",r.errors==null?null:r.errors.required),l(),c("ngIf",r.errors==null?null:r.errors.minlength),l(),c("ngIf",r.errors==null?null:r.errors.maxlength),l(4),C("ngModel",w.journey.icon),l(2),J(w.SUPPORTED_ICONS),l(2),c("hidden",g.valid||g.pristine),l(),c("ngIf",g.errors==null?null:g.errors.required),l(4),C("ngModel",w.journey.description),l(2),c("hidden",y.valid||y.pristine),l(),c("ngIf",y.errors==null?null:y.errors.required),l(),c("ngIf",y.errors==null?null:y.errors.minlength),l(),c("ngIf",y.errors==null?null:y.errors.maxlength),l(5),J(w.journey.tags),l(2),c("matChipInputFor",ue)("matChipInputSeparatorKeyCodes",w.separatorKeysCodes)("matChipInputAddOnBlur",!0),l(5),C("ngModel",w.coordinates[0]),l(14),C("ngModel",w.coordinates[1]),l(3),c("hidden",A.valid||A.pristine),l(),c("ngIf",A.errors==null?null:A.errors.required),l(),c("ngIf",A.errors==null?null:A.errors.min),l(),c("ngIf",A.errors==null?null:A.errors.max),l(),c("hidden",G.valid||G.pristine),l(),c("ngIf",G.errors==null?null:G.errors.required),l(),c("ngIf",G.errors==null?null:G.errors.min),l(),c("ngIf",G.errors==null?null:G.errors.max),l(5),C("ngModel",w.journey.city),l(2),c("hidden",Z.valid||Z.pristine),l(),c("ngIf",Z.errors==null?null:Z.errors.required),l(),c("ngIf",Z.errors==null?null:Z.errors.minlength),l(),c("ngIf",Z.errors==null?null:Z.errors.maxlength),l(4),C("ngModel",w.journey.country),l(2),c("hidden",X.valid||X.pristine),l(),c("ngIf",X.errors==null?null:X.errors.required),l(),c("ngIf",X.errors==null?null:X.errors.minlength),l(),c("ngIf",X.errors==null?null:X.errors.maxlength),l(5),C("ngModel",w.journey.journeyDate),l(4),c("hidden",Ve.valid||Ve.pristine),l(),c("ngIf",Ve.errors==null?null:Ve.errors.required),l(2),c("geoJsonData",w.journey.location)("iconType",w.journey.icon)("maxZoom",10),l(3),c("disabled",!o.form.valid),l(2),c("disabled",!o.form.valid)}}var zi=(()=>{let n=class n{constructor(t,e){this.journeyService=t,this.autoCompleteService=e,this.separatorKeysCodes=[13,188,32],this.savedEvent=new T,this.feedbackMessage=W({}),this.coordinates=[],this.searchCategory=r=>r.pipe($(""),ft(200),Je(),ge(g=>g.length<1?ke([]):this.autoCompleteService.getAvailableCategories(g.toLowerCase()))),this.SUPPORTED_ICONS=Ci}ngOnInit(){this.coordinates=this.journey.location.coordinates}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.journey=t,this.savedEvent.emit(this.journey)}addTag(t){let e=(t.value||"").toLowerCase().trim();e&&this.journey.tags.push(e),t.chipInput.clear()}removeTag(t){let e=this.journey.tags.indexOf(t);e>=0&&this.journey.tags.splice(e,1)}refreshMapWithCoordinates(){setTimeout(()=>{this.coordinates.length==2&&(this.journey.location={type:"Point",coordinates:this.coordinates})},100)}save(t){console.debug("Submitted form data:",t),this.journeyService.saveJourneyBasicDetails(this.journey).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving data",e)})}swapCoordinates(){let t=this.coordinates[0];this.coordinates[0]=this.coordinates[1],this.coordinates[1]=t,this.refreshMapWithCoordinates()}copyCoordinatesFromGoogleMap(){return Ye(this,null,function*(){let t=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",t),t){let e=t.split(",");this.coordinates[0]=Number(e.length<2?e[0]:e[1]),this.coordinates[1]=Number(e[0]),this.refreshMapWithCoordinates()}})}copyCoordinatesFromClipboard(){return Ye(this,null,function*(){let t=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",t),t){let e=t.split(",");this.coordinates[0]=Number(e[0]),this.coordinates[1]=Number(e.length>=2?e[1]:e[0]),this.refreshMapWithCoordinates()}})}};n.\u0275fac=function(e){return new(e||n)(h(P),h(Ei))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","50","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["rows","5","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","blur","ngModel"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","input-group-text","dropdown-toggle"],[1,"dropdown-menu"],["role","button",1,"dropdown-item",3,"click"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","blur","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-6"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-md-4"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData","iconType","maxZoom"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(e,r){e&1&&f(0,Qn,132,57,"form",12),e&2&&c("ngIf",r.journey)},dependencies:[q,O,z,Le,We,fe,Rt,Re,ie,B,ve,Ut,Ht,Wt,Lt,ne,N,V,xi,st,ye,vi,hi,fi,gi,_i,qe,re,Ge,Ft],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]});let i=n;return i})();function Kn(i,n){if(i&1){let o=x();a(0,"form",2,0),_("ngSubmit",function(){p(o);let e=v(1),r=m();return u(r.save(e))}),a(2,"div",3)(3,"div",4),b(4,"app-feedback-message",5),s()(),a(5,"div",6)(6,"div",7)(7,"div")(8,"label",8)(9,"span"),d(10,"Tip:"),s(),a(11,"a",9),d(12,"GeoJson Creator"),s()(),a(13,"textarea",10),S("ngModelChange",function(e){p(o);let r=m();return E(r.geoJsonString,e)||(r.geoJsonString=e),u(e)}),_("change",function(){p(o);let e=m();return u(e.reloadMap())}),d(14),Oe(15,"json"),s()()(),a(16,"div",11),b(17,"app-world-map",12),s()(),a(18,"div",13)(19,"div",14)(20,"button",15),d(21," Save "),s(),a(22,"button",16),d(23,"Next "),s()()()()}if(i&2){let o=v(1),t=m();l(4),c("message",t.feedbackMessage()),l(9),C("ngModel",t.geoJsonString),l(),ze("          ",Pe(15,6,t.journey.extendedDetails==null||t.journey.extendedDetails.geoDetails==null?null:t.journey.extendedDetails.geoDetails.geoJson),`
        `),l(3),c("geoJsonData",t.formGeoDetails.geoJson),l(3),c("disabled",!o.form.valid),l(2),c("disabled",!o.form.valid)}}var Oi=(()=>{let n=class n{constructor(t){this.journeyService=t,this.savedEvent=new T,this.feedbackMessage=W({}),this.formGeoDetails=new lt(void 0),this.geoJsonString=""}ngOnInit(){this.journey.extendedDetails?.geoDetails?this.formGeoDetails=this.journey.extendedDetails.geoDetails:this.formGeoDetails=new lt(this.journey.location),this.geoJsonString=JSON.stringify(this.formGeoDetails.geoJson)}save(t){console.debug("submitted form:",t),this.journeyService.saveJourneyGeoDetails(this.journey,this.formGeoDetails).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving geo data",e)})}onUpdateSuccess(t){this.feedbackMessage.set({success:"Journey details saved successfully."}),this.journey=t,this.savedEvent.emit(t)}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}reloadMap(){this.geoJsonString&&(this.formGeoDetails.geoJson=JSON.parse(this.geoJsonString))}};n.\u0275fac=function(e){return new(e||n)(h(P))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],["maxZoom","10",1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(e,r){e&1&&f(0,Kn,24,8,"form",1),e&2&&c("ngIf",r.journey)},dependencies:[O,z,fe,ie,B,ve,ne,N,q,Ge,re,V,Bt],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"]});let i=n;return i})();var Yn=0,Pi="mat-badge-content",Ke=new Set,Zn=(()=>{let n=class n{};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=I({type:n,selectors:[["ng-component"]],standalone:!0,features:[D],decls:0,vars:0,template:function(e,r){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0});let i=n;return i})(),Ai=(()=>{let n=class n{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,e,r,g,y){this._ngZone=t,this._elementRef=e,this._ariaDescriber=r,this._renderer=g,this._animationMode=y,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=Yn++,this._isInitialized=!1,this._interactivityChecker=ae(Xt),this._document=ae(kt);let ue=ae(Tt);if(!Ke.has(ue)){Ke.add(ue);let A=Vt(Zn,{environmentInjector:ae(bt)});ue.onDestroy(()=>{Ke.delete(ue),Ke.size===0&&A.destroy()})}}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let t=this._renderer.createElement("span"),e="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(Pi),this._animationMode==="NoopAnimations"&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),typeof requestAnimationFrame=="function"&&this._animationMode!=="NoopAnimations"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(e)})}):t.classList.add(e),t}_updateRenderedContent(t){let e=`${t??""}`.trim();this._isInitialized&&e&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=e),this._content=e}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){let e=this._elementRef.nativeElement.classList;e.remove(`mat-badge-${this._color}`),t&&e.add(`mat-badge-${t}`)}_clearExistingBadges(){let t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Pi}`);for(let e of Array.from(t))e!==this._badgeElement&&e.remove()}};n.\u0275fac=function(e){return new(e||n)(h(St),h(ee),h(Yt),h(Et),h(Ct,8))},n.\u0275dir=F({type:n,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(e,r){e&2&&U("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",H],disabled:[2,"matBadgeDisabled","disabled",H],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",H]},standalone:!0,features:[Ce]});let i=n;return i})();function $n(i,n){if(i&1){let o=x();a(0,"div",5)(1,"div",6),b(2,"img",7),s(),a(3,"div",8)(4,"form",9),_("submit",function(){p(o);let e=m();return u(e.save())}),a(5,"div",10)(6,"input",11),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.url,e)||(r.imageItem.url=e),u(e)}),s(),a(7,"label",12),d(8,"Image URL"),s()(),a(9,"div",10)(10,"input",13),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.assetId,e)||(r.imageItem.assetId=e),u(e)}),s(),a(11,"label",14),d(12,"Asset ID"),s()(),a(13,"div",10)(14,"input",15),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.publicId,e)||(r.imageItem.publicId=e),u(e)}),s(),a(15,"label",16),d(16,"Public ID"),s()(),a(17,"div",10)(18,"input",17),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.title,e)||(r.imageItem.title=e),u(e)}),s(),a(19,"label",18),d(20,"Title"),s()(),a(21,"div",19)(22,"div",20)(23,"input",21),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.isFavorite,e)||(r.imageItem.isFavorite=e),u(e)}),s()(),b(24,"input",22),s(),a(25,"div",23)(26,"div",24)(27,"input",25,0),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.eventDate,e)||(r.imageItem.eventDate=e),u(e)}),s(),a(29,"label",26),d(30,"Event Date"),s()(),a(31,"div",20)(32,"button",27),_("click",function(){p(o);let e=v(28);return u(e.toggle())}),s()()(),a(33,"div",19)(34,"div",20)(35,"input",28),S("ngModelChange",function(e){p(o);let r=m();return E(r.imageItem.isThumbnail,e)||(r.imageItem.isThumbnail=e),u(e)}),s()(),b(36,"input",29),s(),a(37,"div",30)(38,"button",31),d(39,"Save"),s(),a(40,"button",32),_("click",function(){p(o);let e=m();return u(e.remove())}),d(41,"Remove"),s(),a(42,"button",33),_("click",function(){p(o);let e=m();return u(e.cancel())}),d(43,"Cancel"),s()()()()()}if(i&2){let o=m();l(2),c("src",o.imageItem.url,te)("alt",o.imageItem.assetId)("title",o.imageItem.assetId),l(4),C("ngModel",o.imageItem.url),l(4),C("ngModel",o.imageItem.assetId),l(4),C("ngModel",o.imageItem.publicId),l(4),C("ngModel",o.imageItem.title),c("autofocus",!0),l(5),C("ngModel",o.imageItem.isFavorite),l(4),C("ngModel",o.imageItem.eventDate),l(8),C("ngModel",o.imageItem.isThumbnail)}}var Ri=(()=>{let n=class n{constructor(t){this.activeModel=t}save(){this.activeModel.close(this.imageItem)}cancel(){this.activeModel.dismiss()}remove(){this.activeModel.close(this.imageItem?.assetId)}};n.\u0275fac=function(e){return new(e||n)(h(yi))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:"imageItem"},standalone:!0,features:[D],decls:5,vars:1,consts:[["d","ngbDatepicker"],[1,"container"],[1,"model-header","m-1"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],["class","d-flex flex-column flex-md-row justify-content-evenly",4,"ngIf"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly"],[1,"image-thumbnail","m-1","col-md-4","text-center"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[3,"submit"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","publicId","name","publicId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","publicId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],[1,"input-group","input-group-sm","mb-1"],[1,"form-floating"],["type","text","id","eventDate","name","eventDate","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control","form-control-sm","ignore-highlight",3,"ngModelChange","ngModel"],["for","eventDate"],["type","button",1,"btn","btn-sm","btn-outline-secondary","bi","bi-calendar3",3,"click"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],[1,"btn","btn-outline-primary","me-1"],["type","button",1,"btn","btn-outline-danger","me-1",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(e,r){e&1&&(a(0,"div",1)(1,"div",2)(2,"h6",3),d(3,"Edit Image Details"),s()(),f(4,$n,44,11,"div",4),s()),e&2&&(l(4),c("ngIf",r.imageItem))},dependencies:[O,z,fe,At,ie,B,ne,N,V,qe],encapsulation:2});let i=n;return i})();var er=(i,n)=>n.assetId,tr=(i,n)=>({"border-success":i,"border-primary":n});function ir(i,n){if(i&1){let o=x();a(0,"div",16),_("click",function(){let e=p(o).$implicit,r=m(2);return u(r.openImageItem(e))}),b(1,"img",17),s()}if(i&2){let o=n.$implicit;l(),c("src",o.url,te)("alt",o.assetId)("title",o.assetId)("ngClass",ce(4,tr,o.isThumbnail,!o.isThumbnail))}}function nr(i,n){if(i&1){let o=x();a(0,"form",1),_("ngSubmit",function(){p(o);let e=m();return u(e.save())}),a(1,"div",2)(2,"div",3),b(3,"app-feedback-message",4),s()(),a(4,"div",5)(5,"div",3)(6,"div",6),k(7,ir,2,7,"div",7,er),s()()(),a(9,"div",5)(10,"div",8)(11,"button",9),_("click",function(){p(o);let e=m();return u(e.openUploadWidget(!0))}),b(12,"i",10),a(13,"span",11),d(14,"Upload Image(s)"),s()(),a(15,"button",9),_("click",function(){p(o);let e=m();return u(e.openUploadWidget(!1))}),b(16,"i",12),a(17,"span",11),d(18,"Upload Image"),s()(),a(19,"button",13),d(20,"Next "),s(),a(21,"a",14),d(22,"Reduce Image Size"),b(23,"i",15),s()()()()}if(i&2){let o=m();l(3),c("message",o.feedbackMessage()),l(4),J(o.formImageDetails.images),l(12),c("disabled",!(!(o.journey.extendedDetails==null||o.journey.extendedDetails.imagesDetails==null)&&o.journey.extendedDetails.imagesDetails.images))}}var Li=(()=>{let n=class n{constructor(t,e){this.journeyService=t,this.modelService=e,this.savedEvent=new T,this.feedbackMessage=W({}),this.formImageDetails=new ci}ngOnInit(){this.journey?.extendedDetails?.imagesDetails&&(this.formImageDetails=this.journey.extendedDetails.imagesDetails)}addImage(t){this.formImageDetails.images.push(new mi(t.secure_url,t.asset_id,t.public_id))}removeImageAndSaveJourney(t){let e=this.formImageDetails.images.indexOf(t);e>=0&&(this.formImageDetails.images.splice(e,1),this.save())}getWidgetParams(t,e){return{cloudName:he.cloudName,uploadPreset:e?he.cloudinaryPreset:he.cloudinarySingleImgPreset,folder:`${he.cloudBaseDir}/${t.id}`,tags:t.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:he.stage,id:`${t.id}`},cropping:!e,showAdvancedOptions:!0,multiple:e}}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){this.feedbackMessage.set({success:"Image Details saved successfully."}),this.journey=t,this.savedEvent.emit(this.journey)}save(){this.journeyService.saveJourneyImagesDetails(this.journey,this.formImageDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving images data",t)})}openUploadWidget(t=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey,t),(e,r)=>{!e&&r&&r.event==="success"&&this.addImage(r.info),!e&&r&&r.event==="close"&&this.save()}).open()}openImageItem(t){let e=this.modelService.open(Ri,{animation:!0,size:"lg",backdrop:!0,centered:!0,scrollable:!0});e.componentInstance.imageItem=t,e.result.then(r=>{if(r&&typeof r=="object"){let g=this.journey.extendedDetails?.imagesDetails?.images?.find(y=>y.assetId==r.assertId);Object.assign(g??{},r)}else if(typeof r=="string"){let g=this.formImageDetails.images.findIndex(y=>y.assetId==r);g>=0&&this.formImageDetails.images.splice(g,1)}this.save()},r=>{console.log("Update cancelled, reason:",r)})}};n.\u0275fac=function(e){return new(e||n)(h(P),h(bi))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-images-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center","align-items-end"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-folder-plus"],[1,"ms-2"],[1,"bi","bi-file-earmark-binary"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["role","link","routerLink","/tools","target","_blank",1,"text-decoration-none"],[1,"bi","bi-box-arrow-up-right","ms-1"],[1,"m-2","image-thumbnail-wrapper",3,"click"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","alt","title","ngClass"]],template:function(e,r){e&1&&f(0,nr,24,2,"form",0),e&2&&c("ngIf",r.journey)},dependencies:[q,O,z,B,N,V,re,Jt,zt],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"]});let i=n;return i})();var rr=(i,n)=>n.videoId;function or(i,n){if(i&1){let o=x();a(0,"div",11)(1,"button",15),_("click",function(){let e=p(o).$implicit,r=m(2);return u(r.removeVideoAndSaveJourney(e))}),s(),b(2,"img",16),s()}if(i&2){let o=n.$implicit;l(2),c("src","https://img.youtube.com/vi/"+o.videoId+"/0.jpg",te)("alt",o.videoId)("title",o.videoId)}}function ar(i,n){i&1&&(a(0,"p",12),d(1,"No Videos available for the journey"),s())}function sr(i,n){if(i&1){let o=x();a(0,"form",null,0)(2,"div",3)(3,"div",4),b(4,"app-feedback-message",5),s()(),a(5,"div",6)(6,"div",4)(7,"div",7),b(8,"input",8,1),a(10,"button",9),_("click",function(){p(o);let e=v(9);return m().addVideo(e.value),u(e.value="")}),d(11,"Add "),s()()()(),a(12,"div",6)(13,"div",4)(14,"div",10),k(15,or,3,3,"div",11,rr),f(17,ar,2,0,"p",12),s()()(),a(18,"div",6)(19,"div",13)(20,"button",14),d(21,"Next"),s()()()()}if(i&2){let o=m();l(4),c("message",o.feedbackMessage()),l(11),J(o.formVideosDetails.videos),l(2),M(o.formVideosDetails.videos.length?-1:17)}}var Wi=(()=>{let n=class n{constructor(t){this.journeyService=t,this.savedEvent=new T,this.feedbackMessage=W({}),this.formVideosDetails=new pi}ngOnInit(){this.journey?.extendedDetails?.videosDetails&&(this.formVideosDetails=this.journey.extendedDetails.videosDetails)}addVideo(t){this.formVideosDetails.videos.push(new ui(t)),this.save()}removeVideoAndSaveJourney(t){let e=this.formVideosDetails.videos.indexOf(t);e>=0&&(this.formVideosDetails.videos.splice(e,1),this.save())}save(){this.journeyService.saveJourneyVideosDetails(this.journey,this.formVideosDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving videos data",t)})}onUpdateSuccess(t){this.feedbackMessage.set({success:"Video Details saved successfully."}),this.journey=t,this.savedEvent.emit(this.journey)}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}};n.\u0275fac=function(e){return new(e||n)(h(P))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["videoInput",""],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["type","button","aria-label","Close","matBadge","x","matBadgePosition","below after","matBadgeColor","warn","matBadgeSize","small",1,"btn-video-remove",3,"click"],[1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"]],template:function(e,r){e&1&&f(0,sr,22,2,"form",2),e&2&&c("ngIf",r.journey)},dependencies:[q,O,z,B,N,V,qt,re,Ai],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}"]});let i=n;return i})();var dr=(i,n)=>n.assetId;function cr(i,n){i&1&&(a(0,"mat-error"),d(1,"Please choose visibility"),s())}function mr(i,n){i&1&&(a(0,"mat-icon",20),d(1,"check_circle"),s())}function pr(i,n){i&1&&(a(0,"mat-icon",21),d(1,"cancel"),s())}function ur(i,n){i&1&&(a(0,"mat-icon",20),d(1,"check_circle"),s())}function gr(i,n){i&1&&(a(0,"mat-icon",21),d(1,"cancel"),s())}function _r(i,n){i&1&&(a(0,"mat-icon",20),d(1,"check_circle"),s())}function hr(i,n){i&1&&(a(0,"mat-icon",21),d(1,"cancel"),s())}function fr(i,n){i&1&&(a(0,"mat-icon",20),d(1,"check_circle"),s())}function vr(i,n){i&1&&(a(0,"mat-icon",21),d(1,"cancel"),s())}function yr(i,n){if(i&1&&(a(0,"option",26),d(1),s()),i&2){let o=n.$implicit;c("value",o.url),l(),j(o.assetId)}}function br(i,n){if(i&1&&(a(0,"div",33),b(1,"img",34),s()),i&2){m();let o=v(47);l(),c("src",o.value,te)("alt",o.value)}}function xr(i,n){if(i&1){let o=x();a(0,"button",35,3),_("click",function(){p(o);let e=v(1),r=m(2);return u(r.delete(e))}),d(2," Delete Journey "),s()}}function Cr(i,n){if(i&1){let o=x();a(0,"button",36),_("click",function(){p(o),m();let e=v(1),r=m();return u(r.save(e))}),d(1," Save as Draft "),s()}if(i&2){m();let o=v(1);c("disabled",!o.form.valid)}}function Er(i,n){if(i&1&&(a(0,"button",37),d(1," Publish "),s()),i&2){m();let o=v(1);c("disabled",!o.form.valid)}}function Sr(i,n){if(i&1){let o=x();a(0,"form",5,0),_("ngSubmit",function(){p(o);let e=v(1),r=m();return u(r.publish(e))}),a(2,"div",6)(3,"div",7),b(4,"app-feedback-message",8),s()(),a(5,"div",9)(6,"div",7)(7,"mat-form-field",10)(8,"mat-label"),d(9,"Visibility"),s(),a(10,"mat-select",11,1),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.visibilities,e)||(r.journey.visibilities=e),u(e)}),a(12,"mat-option",12),d(13,"MYSELF"),s(),a(14,"mat-option",13),d(15,"ADMINISTRATOR"),s(),a(16,"mat-option",14),d(17,"MAINTAINER"),s(),a(18,"mat-option",15),d(19,"AUTHENTICATED_USER"),s(),a(20,"mat-option",16),d(21,"GUEST"),s()(),f(22,cr,2,0,"mat-error"),s()()(),a(23,"div",9)(24,"div",17)(25,"ul",18)(26,"li",19),d(27,"Basic Details "),f(28,mr,2,0,"mat-icon",20)(29,pr,2,0,"mat-icon",21),s(),a(30,"li",19),d(31,"Geo Details "),f(32,ur,2,0,"mat-icon",20)(33,gr,2,0,"mat-icon",21),s(),a(34,"li",19),d(35,"Images Details "),f(36,_r,2,0,"mat-icon",20)(37,hr,2,0,"mat-icon",21),s(),a(38,"li",19),d(39,"Videos Details "),f(40,fr,2,0,"mat-icon",20)(41,vr,2,0,"mat-icon",21),s()()(),a(42,"div",22)(43,"div",23)(44,"label",24),d(45,"Thumbnail"),s(),a(46,"select",25,2),S("ngModelChange",function(e){p(o);let r=m();return E(r.journey.thumbnail,e)||(r.journey.thumbnail=e),u(e)}),a(48,"option",26),d(49,"Default"),s(),k(50,yr,2,2,"option",26,dr),s()(),f(52,br,2,2,"div",27),s()(),a(53,"div",28)(54,"div",29),f(55,xr,3,0,"button",30)(56,Cr,2,1,"button",31)(57,Er,2,1,"button",32),s()()()}if(i&2){let o=v(11),t=v(47),e=m();l(4),c("message",e.feedbackMessage()),l(6),C("ngModel",e.journey.visibilities),l(2),c("disabled",!0),l(10),M(o.hasError("required")?22:-1),l(6),M(e.isBasicDetailsAvailableAndValid()?28:29),l(4),M(e.isGeoJsonAvailable()?32:33),l(4),M(e.isImagesDetailsAvailable()?36:37),l(4),M(e.isVideosDetailsAvailable()?40:41),l(6),C("ngModel",e.journey.thumbnail),l(2),c("value",e.DEFAULT_THUMBNAIL),l(2),J(e.journey.extendedDetails==null||e.journey.extendedDetails.imagesDetails==null?null:e.journey.extendedDetails.imagesDetails.images),l(2),c("ngIf",t.value&&t.value!="default")}}var Ui=(()=>{let n=class n{constructor(t,e){this.router=t,this.journeyService=e,this.DEFAULT_THUMBNAIL=di,this.savedEvent=new T,this.feedbackMessage=W({})}isBasicDetailsAvailableAndValid(){return this.journey.id!=""&&this.journey.name!=""&&this.journey.title!=""&&this.journey.description!=""&&this.journey.city!=""&&this.journey.country!=""&&this.journey.journeyDate!=""&&this.journey.category!=""&&this.journey.tags?.length>0&&this.journey.location!=null}isGeoJsonAvailable(){return this.journey.extendedDetails?.geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey.extendedDetails?.imagesDetails?.images!=null&&this.journey.extendedDetails.imagesDetails.images.length>0}isVideosDetailsAvailable(){return this.journey.extendedDetails?.videosDetails?.videos!=null&&this.journey.extendedDetails.videosDetails.videos.length>0}publish(t){console.debug("submitted form:",t),this.journey.isPublished=!0,this.journeyService.publishJourney(this.journey).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)})}save(t){t.valid&&(this.journey.isPublished=!1,this.journeyService.publishJourney(this.journey).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while publishing data",e)}))}onError(t,e){this.feedbackMessage.set({error:t}),console.error(e)}onUpdateSuccess(t){let e=t.isPublished?"Journey published successfully.":"Journey saved successfully";this.feedbackMessage.set({success:e}),this.journey=t,this.savedEvent.emit(this.journey)}delete(t){t.disabled=!0,t.name="Deleting",this.journeyService.deleteJourney(this.journey).subscribe({next:e=>this.onDeleteSuccess(),error:e=>this.onError("Unexpected error while publishing data",e)})}onDeleteSuccess(){this.feedbackMessage.set({success:"Journey deleted successfully"}),setTimeout(()=>this.router.navigate(["journey"]),1e3)}};n.\u0275fac=function(e){return new(e||n)(h(Ae),h(P))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[D],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],["deleteButton",""],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"message"],[1,"row"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end"],["color","warn",1,"float-end"],[1,"col-12","col-md-8","mt-2","mt-md-0"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","class","btn btn-outline-danger",3,"click",4,"hasWriteAccess"],["type","button","class","btn btn-outline-primary",3,"disabled","click",4,"hasWriteAccess"],["type","submit","class","btn btn-outline-success",3,"disabled",4,"hasWriteAccess"],[1,"text-center"],[1,"journey-thumbnail-img","rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"]],template:function(e,r){e&1&&f(0,Sr,58,11,"form",4),e&2&&c("ngIf",r.journey)},dependencies:[ye,O,z,Le,We,Re,ie,B,ve,ne,N,V,q,oi,ri,ii,ni,si,ai,ti,li],styles:[".journey-thumbnail-img[_ngcontent-%COMP%]{width:30rem;height:15rem}"]});let i=n;return i})();function Ir(i,n){i&1&&d(0,"Edit Basic Details")}function Dr(i,n){if(i&1){let o=x();a(0,"app-edit-journey-basic-data",12),_("saved",function(e){p(o);let r=m(2);return u(r.savedEventHandler(e))}),s()}if(i&2){let o=m(2);c("journey",o.journey)}}function wr(i,n){i&1&&d(0,"Edit Geo Details")}function Mr(i,n){if(i&1){let o=x();a(0,"app-edit-journey-geo-details",12),_("saved",function(e){p(o);let r=m(2);return u(r.savedEventHandler(e))}),s()}if(i&2){let o=m(2);c("journey",o.journey)}}function Tr(i,n){i&1&&d(0,"Edit Images Details")}function jr(i,n){if(i&1){let o=x();a(0,"app-edit-journey-images-details",12),_("saved",function(e){p(o);let r=m(2);return u(r.savedEventHandler(e))}),s()}if(i&2){let o=m(2);c("journey",o.journey)}}function Vr(i,n){i&1&&d(0,"Edit Videos Details")}function kr(i,n){if(i&1){let o=x();a(0,"app-edit-journey-videos-details",12),_("saved",function(e){p(o);let r=m(2);return u(r.savedEventHandler(e))}),s()}if(i&2){let o=m(2);c("journey",o.journey)}}function Jr(i,n){i&1&&d(0,"Publish Journey")}function Fr(i,n){if(i&1){let o=x();a(0,"app-edit-journey-publish-details",12),_("saved",function(e){p(o);let r=m(2);return u(r.savedEventHandler(e))}),s()}if(i&2){let o=m(2);c("journey",o.journey)}}function Br(i,n){if(i&1){let o=x();a(0,"section",1)(1,"div",2)(2,"div",3)(3,"h4")(4,"span",4),d(5),s(),a(6,"button",5),_("click",function(){p(o);let e=m();return u(e.viewJourney(e.journey))}),b(7,"i",6),s()()()(),a(8,"mat-stepper",7)(9,"mat-step",8),f(10,Ir,1,0,"ng-template",9)(11,Dr,1,1,"ng-template",10),s(),a(12,"mat-step",11),_("interacted",function(e){p(o);let r=m();return u(r.stepsEventHandler(e))}),f(13,wr,1,0,"ng-template",9)(14,Mr,1,1,"ng-template",10),s(),a(15,"mat-step",11),_("interacted",function(e){p(o);let r=m();return u(r.stepsEventHandler(e))}),f(16,Tr,1,0,"ng-template",9)(17,jr,1,1,"ng-template",10),s(),a(18,"mat-step",11),_("interacted",function(e){p(o);let r=m();return u(r.stepsEventHandler(e))}),f(19,Vr,1,0,"ng-template",9)(20,kr,1,1,"ng-template",10),s(),a(21,"mat-step",11),_("interacted",function(e){p(o);let r=m();return u(r.stepsEventHandler(e))}),f(22,Jr,1,0,"ng-template",9)(23,Fr,1,1,"ng-template",10),s()()()}if(i&2){let o=m();l(5),j(o.journey.name),l(3),c("linear",!0),l(),c("optional",!1)("completed",o.isBasicDataCollected()),l(3),c("optional",!1)("completed",o.isGeoInfoCollected()),l(3),c("optional",!1)("completed",o.isEventInfoCollected()),l(3),c("optional",!1)("completed",o.isEventInfoCollected()),l(3),c("optional",!1)("completed",o.isJourneyPublished())}}var bs=(()=>{let n=class n{constructor(t,e,r){this.route=t,this.journeyService=e,this.router=r}ngOnInit(){this.fetchJourney()}stepsEventHandler(t){this.fetchJourney()}savedEventHandler(t){this.journey=t}fetchJourney(){this.route.paramMap.pipe(ge(t=>this.journeyService.getJourneyById(t.get("id")))).subscribe({next:t=>this.journey=t,error:t=>console.error(t)})}isBasicDataCollected(){return this.journey.id!=""}isGeoInfoCollected(){return this.journey.id!=""}isEventInfoCollected(){return this.journey.id!=""}isJourneyPublished(){return this.journey.id!=""}viewJourney(t){this.router.navigate(["/journey",t.id,"view"]).then()}};n.\u0275fac=function(e){return new(e||n)(h(Nt),h(P),h(Ae))},n.\u0275cmp=I({type:n,selectors:[["app-edit-journey"]],standalone:!0,features:[D],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text","me-1"],["type","button","title","View Journey",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-eye-fill"],["orientation","vertical",3,"linear"],["color","primary",3,"optional","completed"],["matStepLabel",""],["matStepContent",""],[3,"interacted","optional","completed"],[3,"saved","journey"]],template:function(e,r){e&1&&f(0,Br,24,12,"section",0),e&2&&c("ngIf",r.journey)},dependencies:[gt,ut,zi,Oi,Li,Me,pt,Wi,Ui,V]});let i=n;return i})();export{bs as EditJourneyComponent};
