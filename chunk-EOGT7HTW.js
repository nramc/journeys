import{a as d,b as p,c as U}from"./chunk-4Z6MI2A7.js";import{a as P}from"./chunk-OYSS2LAC.js";import{a as Y,d as B,f as F,k as O}from"./chunk-R7RXGC3S.js";import{h as S,k as L}from"./chunk-DPXNYG4I.js";import{c as J}from"./chunk-G3CP2NQH.js";import{h as I,q as V}from"./chunk-T257ZYH5.js";import{Cb as w,Lc as M,Nc as E,Wb as C,Xb as o,Yb as a,Yc as A,Zb as j,bc as D,gc as c,ic as h,kb as l,oa as _,ua as x,va as b,vc as k,wb as v,xc as s,yc as g,zc as T}from"./chunk-BQWC7YH4.js";var f=class{constructor(n="",m="",t="",e=p,i="",u=[],y=d){this.id=n,this.name=m,this.title=t,this.category=e,this.journeyDate=i,this.tags=u,this.thumbnail=y}};function H(r,n){if(r&1&&(o(0,"span")(1,"small",13),s(2),M(3,"date"),a()()),r&2){let m=h();l(2),T(" ",E(3,1,m.journey().journeyDate,"dd.MM.YYYY")," ")}}function N(r,n){if(r&1){let m=D();o(0,"button",12),c("click",function(e){x(m);let i=h();return b(i.editDetails(e))}),s(1,"Edit "),a()}}var oe=(()=>{let n=class n{constructor(){this.router=_(J),this.journey=A.required({transform:t=>this.transformJourney(t)})}viewDetails(){this.router.navigate(["/journey",this.journey().id,"view"]).then(console.log)}editDetails(t){return t.stopPropagation(),this.router.navigate(["/journey",this.journey().id,"edit"]).then(console.log),!1}viewInTimeline(t){return t.stopPropagation(),this.router.navigate(["/timeline"],{queryParams:{id:this.journey().id}}).then(console.log),!1}transformJourney(t){if(Object.hasOwn(t,"geoDetails")||t instanceof U){let e=t;return new f(e.id,e.name,e.geoDetails?.title,e.geoDetails?.category??p,e.journeyDate,e.tags,e.thumbnail??d)}else return t}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=v({type:n,selectors:[["app-journey-card-view"]],inputs:{journey:[1,"journey"]},decls:17,vars:5,consts:[[1,"m-0","w-full"],[1,"text-white","border","border-primary","cursor-pointer","relative","overflow-hidden","hover:shadow-lg","hover:shadow-primary","w-full","max-w-[75vw]","md:w-[25rem]","h-[15rem]",3,"click","keydown.enter"],[1,"absolute","inset-0","bg-black/25"],[1,"relative","p-4","flex","flex-col","sm:flex-col","md:flex-row","justify-between","h-full"],[1,"text-lg","font-semibold","mb-2"],[1,"text-white","text-primary-outline"],[1,"text-sm","font-medium","text-gray-200","mb-4","text-primary-outline"],[1,"relative","justify-between","flex-row","gap-2"],[1,"flex","items-center","justify-between","w-full"],[4,"ngIf"],[1,"flex","justify-end"],["mat-raised-button","","class","text-xs py-1",3,"click",4,"appHasWriteAccess"],["mat-raised-button","",1,"text-xs","py-1",3,"click"],[1,"text-xs","border","border-white","rounded-lg","px-2","py-1","bg-black/50"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"mat-card",1),c("click",function(){return i.viewDetails()})("keydown.enter",function(){return i.viewDetails()}),j(2,"div",2),o(3,"mat-card-content",3)(4,"div")(5,"h5",4)(6,"span",5),s(7),a()(),o(8,"p",6),s(9),a()()(),o(10,"mat-card-actions",7)(11,"div",8),w(12,H,4,4,"span",9),a(),o(13,"div",10),w(14,N,2,0,"button",11),o(15,"button",12),c("click",function(y){return i.viewInTimeline(y)}),s(16,"Timeline"),a()()()()()),e&2&&(l(),k("background-image: url("+i.journey().thumbnail+"); background-size: cover; background-repeat: no-repeat;"),l(6),g(i.journey().name),l(2),g(i.journey().title),l(3),C("ngIf",i.journey().journeyDate))},dependencies:[V,O,Y,F,B,L,S,I,P],styles:["mat-card-content[_ngcontent-%COMP%]{background:#3459e61a}"],changeDetection:0});let r=n;return r})();export{f as a,oe as b};
