import{a as J}from"./chunk-K37WLGUI.js";import{c as O}from"./chunk-W6IR7XEV.js";import{a as k}from"./chunk-ARYB63DG.js";import{A as H,c as F,h as L,i as q,j as W,k as R,l as D,u as G,v as B,w as j,x as z,y as U,z as Z}from"./chunk-QRSDOWPC.js";import"./chunk-HWGXPR67.js";import{d as A}from"./chunk-A5BAHEOC.js";import"./chunk-GGW32R6S.js";import"./chunk-DUQER7DB.js";import{k as P}from"./chunk-IVYRUNV3.js";import{$b as M,Ab as I,Ac as y,Cc as V,Db as b,Fa as f,Ga as v,Jb as c,Ma as C,Ob as o,Zb as i,_b as n,dc as T,ic as N,kc as _,qa as x,qb as r,ua as w,uc as m,vc as a,yc as S,zc as h}from"./chunk-4YTPSGIK.js";function K(e,d){e&1&&(i(0,"div",28)(1,"div",29),a(2,"Registration Successful!"),n(),i(3,"p"),a(4,"We've sent an activation email to your email address. Please check and click the activation link to complete your registration."),n()())}function Q(e,d){e&1&&(i(0,"div")(1,"p",30),a(2,"Sorry, Unexpected error occurred. Please try again later."),n()())}function X(e,d){e&1&&(i(0,"div"),a(1,"Name is required."),n())}function Y(e,d){e&1&&(i(0,"div"),a(1,"Name must be at most 50 characters long."),n())}function $(e,d){e&1&&(i(0,"div"),a(1,"Name must be at least 3 characters long."),n())}function ee(e,d){if(e&1&&(i(0,"div",31),c(1,X,2,0,"div",10)(2,Y,2,0,"div",10)(3,$,2,0,"div",10),n()),e&2){_();let t=m(14);r(),o("ngIf",t.errors==null?null:t.errors.required),r(),o("ngIf",t.errors==null?null:t.errors.maxlength),r(),o("ngIf",t.errors==null?null:t.errors.minlength)}}function te(e,d){e&1&&(i(0,"div"),a(1,"Email Address is required."),n())}function ie(e,d){e&1&&(i(0,"div"),a(1,"Email Address must be at most 50 characters long."),n())}function ne(e,d){e&1&&(i(0,"div"),a(1," Email Address must have at least 8 characters long. "),n())}function re(e,d){e&1&&(i(0,"div"),a(1,"Email Address invalid."),n())}function oe(e,d){if(e&1&&(i(0,"div",31),c(1,te,2,0,"div",10)(2,ie,2,0,"div",10)(3,ne,2,0,"div",10)(4,re,2,0,"div",10),n()),e&2){_();let t=m(21);r(),o("ngIf",t.errors==null?null:t.errors.required),r(),o("ngIf",t.errors==null?null:t.errors.maxlength),r(),o("ngIf",(t.errors==null?null:t.errors.minlength)&&!(t.errors!=null&&t.errors.email)),r(),o("ngIf",t.errors==null?null:t.errors.email)}}function ae(e,d){e&1&&(i(0,"div"),a(1,"Password is required."),n())}function le(e,d){e&1&&(i(0,"div"),a(1,"Password must be at most 50 characters long."),n())}function se(e,d){e&1&&(i(0,"div"),a(1,"Password must have at least 8 characters long."),n())}function de(e,d){e&1&&(i(0,"div"),a(1," Valid Password should contain at least one lowercase, one upper case alphabets, at least one digit, one special character and contains length from 8 to 50. "),n())}function me(e,d){if(e&1&&(i(0,"div",31),c(1,ae,2,0,"div",10)(2,le,2,0,"div",10)(3,se,2,0,"div",10)(4,de,2,0,"div",10),n()),e&2){_();let t=m(28);r(),o("ngIf",t.errors==null?null:t.errors.required),r(),o("ngIf",t.errors==null?null:t.errors.maxlength),r(),o("ngIf",t.errors==null?null:t.errors.minlength),r(),o("ngIf",t.errors==null?null:t.errors.pattern)}}var be=(()=>{class e{constructor(){this.LOGIN_PAGE_INFO=O,this.destroyRef=x(C),this.registrationService=x(J),this.form=I({username:"",password:"",name:""}),this.isSuccessful=b(!1),this.isErrorOccurred=b(!1)}signup(t){this.isSuccessful.set(!1),t.valid?this.registrationService.signup(this.form()).pipe(k(this.destroyRef)).subscribe({next:u=>this.onSuccessCallback(),error:u=>this.onErrorCallback(u)}):this.onErrorCallback(new Error("form data invalid"))}onSuccessCallback(){this.isSuccessful.set(!0)}onErrorCallback(t){console.log("data not valid",t),this.isErrorOccurred.set(!0)}static{this.\u0275fac=function(u){return new(u||e)}}static{this.\u0275cmp=w({type:e,selectors:[["app-signup"]],inputs:{isSuccessful:[1,"isSuccessful"],isErrorOccurred:[1,"isErrorOccurred"]},outputs:{isSuccessful:"isSuccessfulChange",isErrorOccurred:"isErrorOccurredChange"},standalone:!0,features:[V],decls:43,vars:13,consts:[["signupForm","ngForm"],["name","ngModel"],["username","ngModel"],["password","ngModel"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"p-3","p-md-4","p-xl-5","col-md-6"],[1,"card","border-primary","shadow-lg"],[1,"card-header","gradient-bg","text-light","fs-4"],[1,"card-body","p-3","p-md-4","p-xl-5"],["class","card-title small p-2 border border-success border-2 shadow-lg rounded-2 bg-transparent text-success",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","gy-3","gy-md-2","overflow-hidden"],[1,"col-12"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","placeholder","Name","required","","maxlength","50","minlength","3",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","name"],["class","form-text text-danger",4,"ngIf"],["type","email","id","username","name","username","placeholder","Email Address","autocomplete","username","required","","minlength","8","maxlength","50","email","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","username"],["type","password","id","password","name","password","placeholder","Password","autocomplete","new-password","required","","min","8","maxlength","50","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@.#$!%*?&^])[A-Za-z\\d@.#$!%*?&]{8,50}$",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","password"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"row"],[1,"mt-5","mb-4","text-primary"],[1,"m-0","text-center","text-primary","small"],[1,"fw-bold",3,"routerLink"],[1,"card-title","small","p-2","border","border-success","border-2","shadow-lg","rounded-2","bg-transparent","text-success"],[1,"fs-6","mb-2","fw-bold","text-center"],[1,"text-bg-danger","p-2"],[1,"form-text","text-danger"]],template:function(u,l){if(u&1){let p=T();i(0,"div",4)(1,"section",5)(2,"div",6)(3,"div",7),a(4,"Registration"),n(),i(5,"div",8),c(6,K,5,0,"div",9)(7,Q,3,0,"div",10),i(8,"form",11,0),N("ngSubmit",function(){f(p);let s=m(9);return v(l.signup(s))}),i(10,"div",12)(11,"div",13)(12,"div",14)(13,"input",15,1),y("ngModelChange",function(s){return f(p),h(l.form().name,s)||(l.form().name=s),v(s)}),n(),i(15,"label",16),a(16,"Name"),n(),c(17,ee,4,3,"div",17),n()(),i(18,"div",13)(19,"div",14)(20,"input",18,2),y("ngModelChange",function(s){return f(p),h(l.form().username,s)||(l.form().username=s),v(s)}),n(),i(22,"label",19),a(23,"Email Address"),n(),c(24,oe,5,4,"div",17),n()(),i(25,"div",13)(26,"div",14)(27,"input",20,3),y("ngModelChange",function(s){return f(p),h(l.form().password,s)||(l.form().password=s),v(s)}),n(),i(29,"label",21),a(30,"Password"),n(),c(31,me,5,4,"div",17),n()(),i(32,"div",13)(33,"div",22)(34,"button",23),a(35,"Sign up"),n()()()()(),i(36,"div",24)(37,"div",13),M(38,"hr",25),i(39,"p",26),a(40,"Already have an account? "),i(41,"a",27),a(42,"Sign in"),n()()()()()()()()}if(u&2){let p=m(9),g=m(14),s=m(21),E=m(28);r(6),o("ngIf",l.isSuccessful()),r(),o("ngIf",l.isErrorOccurred()),r(6),S("ngModel",l.form().name),o("disabled",l.isSuccessful()),r(4),o("ngIf",g.invalid&&(g.dirty||p.submitted)),r(3),S("ngModel",l.form().username),o("disabled",l.isSuccessful()),r(4),o("ngIf",s.invalid&&(s.dirty||p.submitted)),r(3),S("ngModel",l.form().password),o("disabled",l.isSuccessful()),r(4),o("ngIf",E.invalid&&(E.dirty||p.submitted)),r(3),o("disabled",l.isSuccessful()),r(7),o("routerLink",l.LOGIN_PAGE_INFO.path)}},dependencies:[Z,D,F,L,q,G,j,z,U,B,R,W,P,H,A],changeDetection:0})}}return e})();export{be as SignupComponent};
