import{b as R,d as G,e as x,f as M}from"./chunk-EAGRASU2.js";import{a as s}from"./chunk-AMO67NYH.js";import{b as B}from"./chunk-ZWED4QT2.js";import{c as U}from"./chunk-X3EEPMJD.js";import{o as $}from"./chunk-Z66RIGB5.js";import{$b as h,Ga as d,Ha as y,Kb as g,Mb as m,Pa as S,Rb as P,Vb as o,Wb as a,Xb as f,Xc as E,Yb as A,Zb as D,a as T,ec as C,gc as u,kc as j,lc as z,mc as F,na as w,ob as l,qc as _,rc as b,sa as v,v as I,va as k,xc as V}from"./chunk-CACGWYQA.js";var te=(()=>{let n=class n{constructor(i,t){this.httpClient=i,this.authService=t}getTimelineForUpcomingJourniversaries(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{upcoming:i}})}getTimelineForJourney(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{IDs:i}})}getTimelineForCity(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{city:i}})}getTimelineForCountry(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{country:i}})}getTimelineForYear(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{year:i}})}getTimelineForCategory(i){let t=this.authService.getCurrentUserContext();return this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${t.accessToken}`},params:{category:i}})}getTimelineForToday(){let i=this.authService.getCurrentUserContext();return i.isAuthenticated?this.httpClient.get(s.journeyApi+"/timeline",{headers:{Authorization:`Bearer ${i.accessToken}`},params:{today:!0}}):I()}};n.\u0275fac=function(t){return new(t||n)(v(U),v(B))},n.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function q(e,n){if(e&1){let r=h();o(0,"button",6),C("click",function(){d(r);let t=u(2);return y(t.togglePlayer())}),f(1,"i",7),a()}}function J(e,n){if(e&1){let r=h();o(0,"button",8),C("click",function(){d(r);let t=u(2);return y(t.togglePlayer())}),f(1,"i",9),a()}}function N(e,n){if(e&1&&(o(0,"div",2)(1,"p"),f(2,"span",3),g(3,q,2,0,"button",4)(4,J,2,0,"button",5),a()()),e&2){let r,i=u();l(2),m("textContent",(r=i.timelineData())==null?null:r.heading),l(),m("ngIf",i.isPlayerRunning),l(),m("ngIf",!i.isPlayerRunning)}}function H(e,n){if(e&1&&(o(0,"div",15)(1,"span",16),_(2),a()()),e&2){let r=u().$implicit;l(2),b(r==null||r.args==null?null:r.args.title)}}function O(e,n){if(e&1&&(A(0),g(1,H,3,1,"div",12),o(2,"div",13)(3,"p",14),_(4),a()(),D()),e&2){let r=n.$implicit;l(),m("ngIf",r==null||r.args==null?null:r.args.title),l(3),b(r==null||r.args==null?null:r.args.caption)}}function Y(e,n){if(e&1){let r=h();o(0,"gallery",10),C("itemClick",function(){d(r);let t=u();return y(t.togglePlayer())}),g(1,O,5,2,"ng-container",11),a()}if(e&2){let r=u();m("items",r.images())("thumb",!1)("imageSize","contain")("dots",!0)("playerInterval",3e3)("loop",!0)("slidingDuration",500)("autoPlay",!0)}}function K(e,n){e&1&&(o(0,"div")(1,"p",17),_(2,"No events found for next 7 days."),a()())}function L(e){return new R({src:e.src,args:T({caption:e.caption,title:e.title},e.args)})}var me=(()=>{let n=class n{constructor(){this.timelineData=S.required({alias:"data"}),this.images=E(()=>this.timelineData()?.images?.map(L)??[]),this.isPlayerRunning=!0}togglePlayer(){this.isPlayerRunning?(this.gallery.stop(),this.isPlayerRunning=!1):(this.gallery.next(),this.gallery.play(),this.isPlayerRunning=!0)}};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=k({type:n,selectors:[["app-timeline"]],viewQuery:function(t,c){if(t&1&&j(x,5),t&2){let p;z(p=F())&&(c.gallery=p.first)}},inputs:{timelineData:[1,"data","timelineData"]},standalone:!0,features:[V],decls:3,vars:2,consts:[["class","fs-5",4,"ngIf"],[1,"gallery",3,"items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[1,"fs-5"],[1,"gradient-text","me-2",3,"textContent"],["class","btn btn-sm btn-outline-primary","title","Pause",3,"click",4,"ngIf"],["class","btn btn-sm btn-outline-primary","title","Play",3,"click",4,"ngIf"],["title","Pause",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pause-circle"],["title","Play",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-play-circle"],[1,"gallery",3,"itemClick","items","thumb","imageSize","dots","playerInterval","loop","slidingDuration","autoPlay"],[4,"galleryImageDef"],["class","text-start d-flex flex-row w-100",4,"ngIf"],[1,"h-100","w-100","text-end","d-flex","flex-column","justify-content-end","mb-2","fs-5"],[1,"text-center","bg-light","bg-opacity-25"],[1,"text-start","d-flex","flex-row","w-100"],[1,"text-light","me-2","fs-5","bg-dark","bg-opacity-50","m-2","border","border-2","border-light","ps-2","pe-2","rounded-2"],[1,"gradient-text"]],template:function(t,c){if(t&1&&g(0,N,5,3,"div",0)(1,Y,2,8,"gallery",1)(2,K,3,0,"div"),t&2){let p;m("ngIf",(p=c.timelineData())==null?null:p.heading),l(),P(c.images()&&c.images().length>0?1:2)}},dependencies:[M,x,G,$],styles:[".gallery[_ngcontent-%COMP%]{max-width:75vw}"]});let e=n;return e})();export{te as a,me as b};
