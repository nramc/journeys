import{b as S}from"./chunk-CXFUEDYB.js";import{a as g}from"./chunk-T3E4K54Y.js";import{a as v}from"./chunk-4D6GSTPC.js";import"./chunk-52CTQKKZ.js";import{h as y}from"./chunk-SNVCUL6N.js";import{c as h}from"./chunk-47L2HURF.js";import"./chunk-VVLSS7KD.js";import"./chunk-XUDB5GUU.js";import"./chunk-MLE53YZQ.js";import"./chunk-67SFSZAO.js";import"./chunk-WB3DF4XI.js";import"./chunk-XL47KMEJ.js";import"./chunk-BPR4VFT2.js";import{$c as l,Bc as f,Nb as d,Yb as t,Zb as n,_b as m,pb as r,ra as u,ta as c,uc as i,vc as a}from"./chunk-HOCLHVTI.js";var N=(()=>{class s{constructor(){this.DASHBOARD_PAGE_INFO=y,this.journeyService=u(g),this.featureCollection=h(this.journeyService.getAllJourneysAsGeoJson()),this.totalJourneys=l(()=>this.featureCollection()?.features.length),this.totalPlaces=l(()=>this.uniqueJourneysByProperty(this.featureCollection(),"location")),this.totalCountry=l(()=>this.uniqueJourneysByProperty(this.featureCollection(),"country")),this.totalCity=l(()=>this.uniqueJourneysByProperty(this.featureCollection(),"city"))}uniqueJourneysByProperty(p,o){return p?.features.filter(e=>e.properties?.[o]).filter((e,C,x)=>x.findIndex(D=>JSON.stringify(D.properties?.[o])===JSON.stringify(e.properties?.[o]))===C).length}static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275cmp=c({type:s,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:27,vars:7,consts:[[3,"pageInfo"],[1,"container"],[1,"row","mb-2"],[1,"col-12","d-flex","gap-2","flex-wrap","justify-content-center","align-content-center"],[1,"text-center","border","border-primary","border-2","rounded","rounded-2","p-2",2,"min-width","75px"],[1,"fs-6","gradient-text","text-primary","fw-bold"],[1,"small","gradient-text","fw-bold"],[1,"row"],[1,"col",2,"position","relative","height","70vh"],[3,"geoJsonData","enablePopup"]],template:function(o,e){o&1&&(m(0,"app-page-header",0),t(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),i(6,"Journeys"),n(),t(7,"div",6),i(8),n()(),t(9,"div",4)(10,"span",5),i(11,"Places"),n(),t(12,"div",6),i(13),n()(),t(14,"div",4)(15,"span",5),i(16,"Country"),n(),t(17,"div",6),i(18),n()(),t(19,"div",4)(20,"span",5),i(21,"City"),n(),t(22,"div",6),i(23),n()()()(),t(24,"div",7)(25,"div",8),m(26,"app-world-map",9),n()()()),o&2&&(d("pageInfo",e.DASHBOARD_PAGE_INFO),r(8),a(e.totalJourneys()),r(5),a(e.totalPlaces()),r(5),a(e.totalCountry()),r(5),a(e.totalCity()),r(3),d("geoJsonData",e.featureCollection())("enablePopup",!0))},dependencies:[v,S],changeDetection:0})}}return s})();export{N as DashboardComponent};
