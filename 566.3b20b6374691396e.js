"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[566],{9566:(R,l,n)=>{n.r(l),n.d(l,{GalleryComponent:()=>D});var g=n(1030),m=n(7786),d=n(9172),u=n(5558),p=n(9437),E=n(7673),h=n(6354),f=n(4016),c=n(177),y=n(1626),_=n(2113),t=n(4438),O=n(7404),v=n(8498);const j=()=>[1,5,10,20,25];function P(a,s){if(1&a&&(t.j41(0,"span",17),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(e)}}function M(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",6)(1,"div",7),t.nrm(2,"img",8),t.j41(3,"div",9)(4,"h5",10),t.EFF(5),t.k0s(),t.j41(6,"p",11),t.EFF(7),t.k0s(),t.j41(8,"p",11),t.DNE(9,P,2,1,"span",12),t.k0s(),t.j41(10,"div",13)(11,"p",14)(12,"small"),t.EFF(13),t.nI1(14,"date"),t.k0s()(),t.j41(15,"small")(16,"button",15),t.bIt("click",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.viewDetails(r))}),t.EFF(17,"View"),t.k0s(),t.j41(18,"button",16),t.bIt("click",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.editDetails(r))}),t.EFF(19,"Edit"),t.k0s()()()()()()}if(2&a){const e=s.$implicit;t.R7$(2),t.Y8G("src",e.thumbnail,t.B4B)("alt",e.thumbnail),t.R7$(3),t.JRh(e.name),t.R7$(2),t.JRh(e.title),t.R7$(2),t.Y8G("ngForOf",e.tags),t.R7$(4),t.JRh(t.i5U(14,6,e.journeyDate,"dd.MM.YYYY"))}}let D=(()=>{class a{constructor(e,i){this.journeyService=e,this.router=i,this.GALLERY_PAGE_INFO=g.cG,this.isLoadingResults=!1,this.defaultPageSize=10,this.totalElements=0,this.data=[]}ngAfterViewInit(){(0,m.h)(this.paginator.page).pipe((0,d.Z)(),(0,u.n)(()=>(this.isLoadingResults=!0,this.journeyService.findJourneyByQuery("queryString","journeyDate","desc",this.paginator.pageIndex,this.paginator.pageSize).pipe((0,p.W)(()=>(0,E.of)(null))))),(0,h.T)(e=>(this.isLoadingResults=!1,e))).subscribe(e=>this.onSuccess(e))}onSuccess(e){this.totalElements=e?.totalElements??0,this.data=e?.content??[]}ngOnInit(){let e=new y.Nl;this.journeyService.getAllJourneys(e).subscribe(i=>this.onSuccess(i))}viewDetails(e){this.router.navigate(["/journey",e.id,"view"])}editDetails(e){this.router.navigate(["/journey",e.id,"edit"])}static#t=this.\u0275fac=function(i){return new(i||a)(t.rXU(O.K),t.rXU(v.Ix))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-gallery"]],viewQuery:function(i,r){if(1&i&&t.GBs(_.iy,5),2&i){let o;t.mGM(o=t.lsd())&&(r.paginator=o.first)}},standalone:!0,features:[t.aNF],decls:6,vars:7,consts:[[3,"pageInfo"],[1,"row"],[1,"col-12","mb-3"],["aria-label","Select page","color","primary",1,"gallery-paginator",3,"length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"card-group","justify-content-center","align-items-center"],["class","m-0",4,"ngFor","ngForOf"],[1,"m-0"],[1,"card","text-bg-dark"],[1,"card-img",3,"src","alt"],[1,"card-img-overlay","d-flex","flex-column","align-self-stretch"],[1,"card-title"],[1,"card-text"],["class","badge rounded-pill border  border-light me-1",4,"ngFor","ngForOf"],[1,"d-inline-flex","footer-wrapper","mt-auto","flex-nowrap","flex-row","justify-content-between"],[1,"card-text","small"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","ms-1",3,"click"],[1,"badge","rounded-pill","border","border-light","me-1"]],template:function(i,r){1&i&&(t.nrm(0,"app-page-header",0),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"mat-paginator",3),t.k0s()(),t.j41(4,"div",4),t.DNE(5,M,20,9,"div",5),t.k0s()),2&i&&(t.Y8G("pageInfo",r.GALLERY_PAGE_INFO),t.R7$(3),t.Y8G("length",r.totalElements)("pageSize",r.defaultPageSize)("pageSizeOptions",t.lJ4(6,j))("showFirstLastButtons",!0),t.R7$(2),t.Y8G("ngForOf",r.data))},dependencies:[f.y,c.Sq,_.iy,c.vh],styles:[".gallery-paginator[_ngcontent-%COMP%]{background:#f8f9fa;background:linear-gradient(90deg,#f8f9fa 1%,#7173c8 45%);font-weight:400;font-size:.9em!important;vertical-align:center;text-align:center;align-items:center;justify-content:center!important;display:flex;color:#000}.mat-mdc-select[_ngcontent-%COMP%]{color:#f5f5f5!important}.card[_ngcontent-%COMP%]{width:30rem;height:15rem;margin:0 .5rem .5rem 0!important}.card-img[_ngcontent-%COMP%]{opacity:75%;width:100%;height:100%}@media (max-width: 575.98px){.card[_ngcontent-%COMP%]{width:100%;height:15rem;margin:0 0 .5rem!important}}"]})}return a})()}}]);