import{a as K}from"./chunk-CVT26ZBA.js";import"./chunk-ZNDI3YC7.js";import{c as L,g as q,h as W,i as R,j as G,k as D,s as B,t as j,u as z,v as U,w as Z,x as H,y as J}from"./chunk-T3QMTVWU.js";import{c as O}from"./chunk-SNVCUL6N.js";import{a as F}from"./chunk-CBNGG2DO.js";import"./chunk-AUBER76A.js";import{h as A}from"./chunk-YUHWLLNB.js";import"./chunk-X3EEPMJD.js";import{o as k}from"./chunk-Z66RIGB5.js";import{$b as N,Db as w,Ga as v,Ha as _,Kb as c,Mb as a,Oa as M,Vb as t,Wb as i,Xb as T,ec as V,gc as S,ob as o,pc as m,qc as s,ta as b,tc as h,uc as y,va as I,vc as x,xc as P}from"./chunk-CACGWYQA.js";function Q(e,n){e&1&&(t(0,"div",28)(1,"div",29),s(2,"Registration Successful!"),i(),t(3,"p"),s(4,"We've sent an activation email to your email address. Please check and click the activation link to complete your registration."),i()())}function X(e,n){e&1&&(t(0,"div")(1,"p",30),s(2,"Sorry, Unexpected error occurred. Please try again later."),i()())}function Y(e,n){e&1&&(t(0,"div"),s(1,"Name is required."),i())}function $(e,n){e&1&&(t(0,"div"),s(1,"Name must be at most 50 characters long."),i())}function ee(e,n){e&1&&(t(0,"div"),s(1,"Name must be at least 3 characters long."),i())}function te(e,n){if(e&1&&(t(0,"div",31),c(1,Y,2,0,"div",10)(2,$,2,0,"div",10)(3,ee,2,0,"div",10),i()),e&2){S();let r=m(14);o(),a("ngIf",r.errors==null?null:r.errors.required),o(),a("ngIf",r.errors==null?null:r.errors.maxlength),o(),a("ngIf",r.errors==null?null:r.errors.minlength)}}function ie(e,n){e&1&&(t(0,"div"),s(1,"Email Address is required."),i())}function re(e,n){e&1&&(t(0,"div"),s(1,"Email Address must be at most 50 characters long."),i())}function ne(e,n){e&1&&(t(0,"div"),s(1," Email Address must have at least 8 characters long. "),i())}function oe(e,n){e&1&&(t(0,"div"),s(1,"Email Address invalid."),i())}function ae(e,n){if(e&1&&(t(0,"div",31),c(1,ie,2,0,"div",10)(2,re,2,0,"div",10)(3,ne,2,0,"div",10)(4,oe,2,0,"div",10),i()),e&2){S();let r=m(21);o(),a("ngIf",r.errors==null?null:r.errors.required),o(),a("ngIf",r.errors==null?null:r.errors.maxlength),o(),a("ngIf",(r.errors==null?null:r.errors.minlength)&&!(r.errors!=null&&r.errors.email)),o(),a("ngIf",r.errors==null?null:r.errors.email)}}function se(e,n){e&1&&(t(0,"div"),s(1,"Password is required."),i())}function le(e,n){e&1&&(t(0,"div"),s(1,"Password must be at most 50 characters long."),i())}function de(e,n){e&1&&(t(0,"div"),s(1,"Password must have at least 8 characters long."),i())}function me(e,n){e&1&&(t(0,"div"),s(1," Valid Password should contain at least one lowercase, one upper case alphabets, at least one digit, one special character and contains length from 8 to 50. "),i())}function pe(e,n){if(e&1&&(t(0,"div",31),c(1,se,2,0,"div",10)(2,le,2,0,"div",10)(3,de,2,0,"div",10)(4,me,2,0,"div",10),i()),e&2){S();let r=m(28);o(),a("ngIf",r.errors==null?null:r.errors.required),o(),a("ngIf",r.errors==null?null:r.errors.maxlength),o(),a("ngIf",r.errors==null?null:r.errors.minlength),o(),a("ngIf",r.errors==null?null:r.errors.pattern)}}var E=class{constructor(n="",r="",u=""){this.name=n,this.username=r,this.password=u}},Ee=(()=>{let n=class n{constructor(){this.LOGIN_PAGE_INFO=O,this.destroyRef=b(M),this.registrationService=b(K),this.form=new E,this.isSuccessful=w(!1),this.isErrorOccurred=w(!1)}signup(u){this.isSuccessful.set(!1),u.valid?this.registrationService.signup({username:this.form.username,password:this.form.password,name:this.form.name}).pipe(F(this.destroyRef)).subscribe({next:f=>this.onSuccessCallback(),error:f=>this.onErrorCallback(f)}):this.onErrorCallback()}onSuccessCallback(){this.isSuccessful.set(!0)}onErrorCallback(u={}){console.log("data not valid",u),this.isErrorOccurred.set(!0)}};n.\u0275fac=function(f){return new(f||n)},n.\u0275cmp=I({type:n,selectors:[["app-signup"]],inputs:{isSuccessful:[1,"isSuccessful"],isErrorOccurred:[1,"isErrorOccurred"]},outputs:{isSuccessful:"isSuccessfulChange",isErrorOccurred:"isErrorOccurredChange"},standalone:!0,features:[P],decls:43,vars:13,consts:[["signupForm","ngForm"],["name","ngModel"],["username","ngModel"],["password","ngModel"],[1,"h-100","d-flex","justify-content-center","align-items-center"],[1,"p-3","p-md-4","p-xl-5","col-md-6"],[1,"card","border-primary","shadow-lg"],[1,"card-header","gradient-bg","text-light","fs-4"],[1,"card-body","p-3","p-md-4","p-xl-5"],["class","card-title small p-2 border border-success border-2 shadow-lg rounded-2 bg-transparent text-success",4,"ngIf"],[4,"ngIf"],[3,"ngSubmit"],[1,"row","gy-3","gy-md-2","overflow-hidden"],[1,"col-12"],[1,"form-floating","mb-3"],["type","text","id","name","name","name","autofocus","","placeholder","Name","required","","maxlength","50","minlength","3",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","name"],["class","form-text text-danger",4,"ngIf"],["type","email","id","username","name","username","placeholder","Email Address","autocomplete","username","required","","minlength","8","maxlength","50","email","",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","username"],["type","password","id","password","name","password","placeholder","Password","autocomplete","new-password","required","","min","8","maxlength","50","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@.#$!%*?&^])[A-Za-z\\d@.#$!%*?&]{8,50}$",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","disabled"],["for","password"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"row"],[1,"mt-5","mb-4","text-primary"],[1,"m-0","text-center","text-primary","small"],[1,"fw-bold",3,"routerLink"],[1,"card-title","small","p-2","border","border-success","border-2","shadow-lg","rounded-2","bg-transparent","text-success"],[1,"fs-6","mb-2","fw-bold","text-center"],[1,"text-bg-danger","p-2"],[1,"form-text","text-danger"]],template:function(f,l){if(f&1){let p=N();t(0,"div",4)(1,"section",5)(2,"div",6)(3,"div",7),s(4,"Registration"),i(),t(5,"div",8),c(6,Q,5,0,"div",9)(7,X,3,0,"div",10),t(8,"form",11,0),V("ngSubmit",function(){v(p);let d=m(9);return _(l.signup(d))}),t(10,"div",12)(11,"div",13)(12,"div",14)(13,"input",15,1),x("ngModelChange",function(d){return v(p),y(l.form.name,d)||(l.form.name=d),_(d)}),i(),t(15,"label",16),s(16,"Name"),i(),c(17,te,4,3,"div",17),i()(),t(18,"div",13)(19,"div",14)(20,"input",18,2),x("ngModelChange",function(d){return v(p),y(l.form.username,d)||(l.form.username=d),_(d)}),i(),t(22,"label",19),s(23,"Email Address"),i(),c(24,ae,5,4,"div",17),i()(),t(25,"div",13)(26,"div",14)(27,"input",20,3),x("ngModelChange",function(d){return v(p),y(l.form.password,d)||(l.form.password=d),_(d)}),i(),t(29,"label",21),s(30,"Password"),i(),c(31,pe,5,4,"div",17),i()(),t(32,"div",13)(33,"div",22)(34,"button",23),s(35,"Sign up"),i()()()()(),t(36,"div",24)(37,"div",13),T(38,"hr",25),t(39,"p",26),s(40,"Already have an account? "),t(41,"a",27),s(42,"Sign in"),i()()()()()()()()}if(f&2){let p=m(9),g=m(14),d=m(21),C=m(28);o(6),a("ngIf",l.isSuccessful()),o(),a("ngIf",l.isErrorOccurred()),o(6),h("ngModel",l.form.name),a("disabled",l.isSuccessful()),o(4),a("ngIf",g.invalid&&(g.dirty||p.submitted)),o(3),h("ngModel",l.form.username),a("disabled",l.isSuccessful()),o(4),a("ngIf",d.invalid&&(d.dirty||p.submitted)),o(3),h("ngModel",l.form.password),a("disabled",l.isSuccessful()),o(4),a("ngIf",C.invalid&&(C.dirty||p.submitted)),o(3),a("disabled",l.isSuccessful()),o(7),a("routerLink",l.LOGIN_PAGE_INFO.path)}},dependencies:[H,D,L,q,W,B,z,U,Z,j,G,R,k,J,A]});let e=n;return e})();export{Ee as SignupComponent,E as SignupForm};
