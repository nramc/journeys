import{a as n,b as c}from"./chunk-XHHN6UGV.js";import{a as p,c as h}from"./chunk-FIKRSNUT.js";import{oa as a,ta as u}from"./chunk-ZMWQM3UH.js";var m=(()=>{let o=class o{constructor(e,r){this.httpClient=e,this.authService=r}createJourney(e){let r=this.authService.getCurrentUserContext();return this.httpClient.post(n.journeyApi+"/journey",e,{headers:{Authorization:`Bearer ${r.accessToken}`}})}findJourneyByQuery(e,r,i,y,l,C,j=[]){let t=new p;return t=t.set("q",e.text??""),t=t.set("city",e.city??""),t=t.set("country",e.country??""),t=t.set("category",e.category??""),t=t.set("year",e.year??""),t=t.set("sort",r),t=t.set("order",i.toUpperCase()),t=t.set("pageIndex",y),t=t.set("pageSize",l),t=t.set("publishedOnly",C),t=t.set("tags",j.join(",")),this.getAllJourneys(t)}getAllJourneys(e){let r=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys",{params:e,headers:{Authorization:`Bearer ${r.accessToken}`}})}getAllJourneysAsGeoJson(){let e=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journeys/published",{headers:{Accept:"application/geo+json",Authorization:`Bearer ${e.accessToken}`}})}getJourneyById(e){let r=this.authService.getCurrentUserContext();return this.httpClient.get(n.journeyApi+"/journey/"+e,{headers:{Authorization:`Bearer ${r.accessToken}`}})}saveJourneyBasicDetails(e){let r=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.basic.v1+json",Authorization:`Bearer ${r.accessToken}`}})}saveJourneyGeoDetails(e,r){let i=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,r,{headers:{"Content-Type":"application/vnd.journey.api.geo.v1+json",Authorization:`Bearer ${i.accessToken}`}})}saveJourneyImagesDetails(e,r){let i=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,r,{headers:{"Content-Type":"application/vnd.journey.api.images.v1+json",Authorization:`Bearer ${i.accessToken}`}})}saveJourneyVideosDetails(e,r){let i=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,r,{headers:{"Content-Type":"application/vnd.journey.api.videos.v1+json",Authorization:`Bearer ${i.accessToken}`}})}publishJourney(e){let r=this.authService.getCurrentUserContext();return this.httpClient.put(n.journeyApi+"/journey/"+e.id,e,{headers:{"Content-Type":"application/vnd.journey.api.publish.v1+json",Authorization:`Bearer ${r.accessToken}`}})}};o.\u0275fac=function(r){return new(r||o)(u(h),u(c))},o.\u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"});let s=o;return s})();export{m as a};
