import{b as C}from"./chunk-KITXBB74.js";import{a as v}from"./chunk-5KJMJWBT.js";import{a as g}from"./chunk-FPF4O6PW.js";import{g as y}from"./chunk-W6IR7XEV.js";import{c as h}from"./chunk-QQPV2QV6.js";import"./chunk-6WCMIU77.js";import"./chunk-FVZWZKWT.js";import"./chunk-A3QWJMVV.js";import"./chunk-CBUXQRBC.js";import"./chunk-LBCNPZTN.js";import{$b as m,Cc as f,Ob as d,Zb as n,_b as i,ad as p,qa as u,qb as r,ua as c,vc as o,wc as l}from"./chunk-QA4KX23A.js";var N=(()=>{class a{constructor(){this.DASHBOARD_PAGE_INFO=y,this.journeyService=u(v),this.featureCollection=h(this.journeyService.getAllJourneysAsGeoJson()),this.totalJourneys=p(()=>this.featureCollection()?.features.length),this.totalCountry=p(()=>this.uniqueJourneysByProperty(this.featureCollection(),"country")),this.totalCity=p(()=>this.uniqueJourneysByProperty(this.featureCollection(),"city"))}uniqueJourneysByProperty(s,t){return s?.features.filter(e=>e.properties?.[t]).filter((e,S,x)=>x.findIndex(D=>JSON.stringify(D.properties?.[t])===JSON.stringify(e.properties?.[t]))===S).length}static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275cmp=c({type:a,selectors:[["app-dashboard"]],standalone:!0,features:[f],decls:22,vars:6,consts:[[3,"pageInfo"],[1,"container"],[1,"row","mb-2"],[1,"col-12","d-flex","gap-2","flex-wrap","justify-content-center","align-content-center"],[1,"text-center","border","border-primary","border-2","rounded","rounded-2","p-2",2,"min-width","75px"],[1,"fs-6","gradient-text","text-primary","fw-bold"],[1,"small","gradient-text","fw-bold"],[1,"row"],[1,"col",2,"position","relative","height","70vh"],[3,"geoJsonData","enablePopup"]],template:function(t,e){t&1&&(m(0,"app-page-header",0),n(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),o(6,"Journeys"),i(),n(7,"div",6),o(8),i()(),n(9,"div",4)(10,"span",5),o(11,"Country"),i(),n(12,"div",6),o(13),i()(),n(14,"div",4)(15,"span",5),o(16,"City"),i(),n(17,"div",6),o(18),i()()()(),n(19,"div",7)(20,"div",8),m(21,"app-world-map",9),i()()()),t&2&&(d("pageInfo",e.DASHBOARD_PAGE_INFO),r(8),l(e.totalJourneys()),r(5),l(e.totalCountry()),r(5),l(e.totalCity()),r(3),d("geoJsonData",e.featureCollection())("enablePopup",!0))},dependencies:[g,C],changeDetection:0})}}return a})();export{N as DashboardComponent};
