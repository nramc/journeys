"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[859],{3859:(di,O,d)=>{d.r(O),d.d(O,{EditJourneyComponent:()=>li});var V=d(5558),P=d(6939),D=d(6039),Y=d(8203),y=d(7336),e=d(4438),U=d(6860),z=d(1413),H=d(7673),x=d(9172),E=d(6977);const ue=["*"];function _e(o,a){1&o&&e.SdG(0)}let L=(()=>{class o{constructor(t){this._elementRef=t}focus(){this._elementRef.nativeElement.focus()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["","cdkStepHeader",""]],hostAttrs:["role","tab"],standalone:!0})}return o})(),Q=(()=>{class o{constructor(t){this.template=t}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["","cdkStepLabel",""]],standalone:!0})}return o})(),he=0;const Z=new e.nKC("STEPPER_GLOBAL_OPTIONS");let X=(()=>{class o{get completed(){return null==this._completedOverride?this._getDefaultCompleted():this._completedOverride}set completed(t){this._completedOverride=t}_getDefaultCompleted(){return this.stepControl?this.stepControl.valid&&this.interacted:this.interacted}get hasError(){return null==this._customError?this._getDefaultError():this._customError}set hasError(t){this._customError=t}_getDefaultError(){return this.stepControl&&this.stepControl.invalid&&this.interacted}constructor(t,i){this._stepper=t,this.interacted=!1,this.interactedStream=new e.bkB,this.editable=!0,this.optional=!1,this._completedOverride=null,this._customError=null,this._stepperOptions=i||{},this._displayDefaultIndicatorType=!1!==this._stepperOptions.displayDefaultIndicatorType}select(){this._stepper.selected=this}reset(){this.interacted=!1,null!=this._completedOverride&&(this._completedOverride=!1),null!=this._customError&&(this._customError=!1),this.stepControl&&this.stepControl.reset()}ngOnChanges(){this._stepper._stateChanged()}_markAsInteracted(){this.interacted||(this.interacted=!0,this.interactedStream.emit(this))}_showError(){return this._stepperOptions.showError??null!=this._customError}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU((0,e.Rfq)(()=>I)),e.rXU(Z,8))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["cdk-step"]],contentQueries:function(i,n,r){if(1&i&&e.wni(r,Q,5),2&i){let l;e.mGM(l=e.lsd())&&(n.stepLabel=l.first)}},viewQuery:function(i,n){if(1&i&&e.GBs(e.C4Q,7),2&i){let r;e.mGM(r=e.lsd())&&(n.content=r.first)}},inputs:{stepControl:"stepControl",label:"label",errorMessage:"errorMessage",ariaLabel:[e.Mj6.None,"aria-label","ariaLabel"],ariaLabelledby:[e.Mj6.None,"aria-labelledby","ariaLabelledby"],state:"state",editable:[e.Mj6.HasDecoratorInputTransform,"editable","editable",e.L39],optional:[e.Mj6.HasDecoratorInputTransform,"optional","optional",e.L39],completed:[e.Mj6.HasDecoratorInputTransform,"completed","completed",e.L39],hasError:[e.Mj6.HasDecoratorInputTransform,"hasError","hasError",e.L39]},outputs:{interactedStream:"interacted"},exportAs:["cdkStep"],standalone:!0,features:[e.GFd,e.OA$,e.aNF],ngContentSelectors:ue,decls:1,vars:0,template:function(i,n){1&i&&(e.NAR(),e.DNE(0,_e,1,0,"ng-template"))},encapsulation:2,changeDetection:0})}return o})(),I=(()=>{class o{get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this.steps&&this._steps?(this._isValidIndex(t),this.selected?._markAsInteracted(),this._selectedIndex!==t&&!this._anyControlsInvalidOrPending(t)&&(t>=this._selectedIndex||this.steps.toArray()[t].editable)&&this._updateSelectedItemIndex(t)):this._selectedIndex=t}get selected(){return this.steps?this.steps.toArray()[this.selectedIndex]:void 0}set selected(t){this.selectedIndex=t&&this.steps?this.steps.toArray().indexOf(t):-1}get orientation(){return this._orientation}set orientation(t){this._orientation=t,this._keyManager&&this._keyManager.withVerticalOrientation("vertical"===t)}constructor(t,i,n){this._dir=t,this._changeDetectorRef=i,this._elementRef=n,this._destroyed=new z.B,this.steps=new e.rOR,this._sortedHeaders=new e.rOR,this.linear=!1,this._selectedIndex=0,this.selectionChange=new e.bkB,this.selectedIndexChange=new e.bkB,this._orientation="horizontal",this._groupId=he++}ngAfterContentInit(){this._steps.changes.pipe((0,x.Z)(this._steps),(0,E.Q)(this._destroyed)).subscribe(t=>{this.steps.reset(t.filter(i=>i._stepper===this)),this.steps.notifyOnChanges()})}ngAfterViewInit(){this._stepHeader.changes.pipe((0,x.Z)(this._stepHeader),(0,E.Q)(this._destroyed)).subscribe(t=>{this._sortedHeaders.reset(t.toArray().sort((i,n)=>i._elementRef.nativeElement.compareDocumentPosition(n._elementRef.nativeElement)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)),this._sortedHeaders.notifyOnChanges()}),this._keyManager=new D.Bu(this._sortedHeaders).withWrap().withHomeAndEnd().withVerticalOrientation("vertical"===this._orientation),(this._dir?this._dir.change:(0,H.of)()).pipe((0,x.Z)(this._layoutDirection()),(0,E.Q)(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.updateActiveItem(this._selectedIndex),this.steps.changes.subscribe(()=>{this.selected||(this._selectedIndex=Math.max(this._selectedIndex-1,0))}),this._isValidIndex(this._selectedIndex)||(this._selectedIndex=0)}ngOnDestroy(){this._keyManager?.destroy(),this.steps.destroy(),this._sortedHeaders.destroy(),this._destroyed.next(),this._destroyed.complete()}next(){this.selectedIndex=Math.min(this._selectedIndex+1,this.steps.length-1)}previous(){this.selectedIndex=Math.max(this._selectedIndex-1,0)}reset(){this._updateSelectedItemIndex(0),this.steps.forEach(t=>t.reset()),this._stateChanged()}_getStepLabelId(t){return`cdk-step-label-${this._groupId}-${t}`}_getStepContentId(t){return`cdk-step-content-${this._groupId}-${t}`}_stateChanged(){this._changeDetectorRef.markForCheck()}_getAnimationDirection(t){const i=t-this._selectedIndex;return i<0?"rtl"===this._layoutDirection()?"next":"previous":i>0?"rtl"===this._layoutDirection()?"previous":"next":"current"}_getIndicatorType(t,i="number"){const n=this.steps.toArray()[t],r=this._isCurrentStep(t);return n._displayDefaultIndicatorType?this._getDefaultIndicatorLogic(n,r):this._getGuidelineLogic(n,r,i)}_getDefaultIndicatorLogic(t,i){return t._showError()&&t.hasError&&!i?"error":!t.completed||i?"number":t.editable?"edit":"done"}_getGuidelineLogic(t,i,n="number"){return t._showError()&&t.hasError&&!i?"error":t.completed&&!i?"done":t.completed&&i?n:t.editable&&i?"edit":n}_isCurrentStep(t){return this._selectedIndex===t}_getFocusIndex(){return this._keyManager?this._keyManager.activeItemIndex:this._selectedIndex}_updateSelectedItemIndex(t){const i=this.steps.toArray();this.selectionChange.emit({selectedIndex:t,previouslySelectedIndex:this._selectedIndex,selectedStep:i[t],previouslySelectedStep:i[this._selectedIndex]}),this._containsFocus()?this._keyManager.setActiveItem(t):this._keyManager.updateActiveItem(t),this._selectedIndex=t,this.selectedIndexChange.emit(this._selectedIndex),this._stateChanged()}_onKeydown(t){const i=(0,y.rp)(t),n=t.keyCode,r=this._keyManager;null==r.activeItemIndex||i||n!==y.t6&&n!==y.Fm?r.setFocusOrigin("keyboard").onKeydown(t):(this.selectedIndex=r.activeItemIndex,t.preventDefault())}_anyControlsInvalidOrPending(t){return!!(this.linear&&t>=0)&&this.steps.toArray().slice(0,t).some(i=>{const n=i.stepControl;return(n?n.invalid||n.pending||!i.interacted:!i.completed)&&!i.optional&&!i._completedOverride})}_layoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_containsFocus(){const t=this._elementRef.nativeElement,i=(0,U.vc)();return t===i||t.contains(i)}_isValidIndex(t){return t>-1&&(!this.steps||t<this.steps.length)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(Y.dS,8),e.rXU(e.gRc),e.rXU(e.aKT))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["","cdkStepper",""]],contentQueries:function(i,n,r){if(1&i&&(e.wni(r,X,5),e.wni(r,L,5)),2&i){let l;e.mGM(l=e.lsd())&&(n._steps=l),e.mGM(l=e.lsd())&&(n._stepHeader=l)}},inputs:{linear:[e.Mj6.HasDecoratorInputTransform,"linear","linear",e.L39],selectedIndex:[e.Mj6.HasDecoratorInputTransform,"selectedIndex","selectedIndex",e.Udg],selected:"selected",orientation:"orientation"},outputs:{selectionChange:"selectionChange",selectedIndexChange:"selectedIndexChange"},exportAs:["cdkStepper"],standalone:!0,features:[e.GFd]})}return o})(),ge=(()=>{class o{constructor(t){this._stepper=t,this.type="submit"}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(I))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["button","cdkStepperNext",""]],hostVars:1,hostBindings:function(i,n){1&i&&e.bIt("click",function(){return n._stepper.next()}),2&i&&e.Mr5("type",n.type)},inputs:{type:"type"},standalone:!0})}return o})();var u=d(177),k=d(6600),F=d(9213),fe=d(8359),be=d(6354),W=d(3294),c=d(9969);function ve(o,a){if(1&o&&e.eu8(0,2),2&o){const t=e.XpG();e.Y8G("ngTemplateOutlet",t.iconOverrides[t.state])("ngTemplateOutletContext",t._getIconContext())}}function ye(o,a){if(1&o&&(e.j41(0,"span",7),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t._getDefaultTextForState(t.state))}}function je(o,a){if(1&o&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.JRh(t._intl.completedLabel)}}function xe(o,a){if(1&o&&(e.j41(0,"span",8),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.JRh(t._intl.editableLabel)}}function Ee(o,a){if(1&o&&(e.DNE(0,je,2,1,"span",8)(1,xe,2,1),e.j41(2,"mat-icon",7),e.EFF(3),e.k0s()),2&o){const t=e.XpG(2);e.vxM(0,"done"===t.state?0:"edit"===t.state?1:-1),e.R7$(3),e.JRh(t._getDefaultTextForState(t.state))}}function Ce(o,a){if(1&o&&e.DNE(0,ye,2,1)(1,Ee,4,2),2&o){let t;const i=e.XpG();e.vxM(0,"number"===(t=i.state)?0:1)}}function Me(o,a){1&o&&(e.j41(0,"div",4),e.eu8(1,9),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngTemplateOutlet",a.template))}function De(o,a){if(1&o&&(e.j41(0,"div",4),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.label)}}function Ie(o,a){if(1&o&&(e.j41(0,"div",5),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t._intl.optionalLabel)}}function ke(o,a){if(1&o&&(e.j41(0,"div",6),e.EFF(1),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.JRh(t.errorMessage)}}const K=["*"];function Fe(o,a){}function Te(o,a){if(1&o&&(e.SdG(0),e.DNE(1,Fe,0,0,"ng-template",0)),2&o){const t=e.XpG();e.R7$(),e.Y8G("cdkPortalOutlet",t._portal)}}const q=(o,a)=>({step:o,i:a}),ee=o=>({animationDuration:o}),te=(o,a)=>({value:o,params:a});function Se(o,a){1&o&&e.SdG(0)}function Re(o,a){1&o&&e.nrm(0,"div",6)}function Be(o,a){if(1&o&&(e.eu8(0,5),e.DNE(1,Re,1,0,"div",6)),2&o){const t=a.$implicit,i=a.$index,n=a.$index,r=a.$count;e.XpG(2);const l=e.sdS(4);e.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",e.l_i(3,q,t,i)),e.R7$(),e.vxM(1,n!==r-1?1:-1)}}function Ge(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",7),e.bIt("@horizontalStepTransition.done",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r._animationDone.next(n))}),e.eu8(1,8),e.k0s()}if(2&o){const t=a.$implicit,i=a.$index,n=e.XpG(2);e.AVh("mat-horizontal-stepper-content-inactive",n.selectedIndex!==i),e.Y8G("@horizontalStepTransition",e.l_i(8,te,n._getAnimationDirection(i),e.eq3(6,ee,n._getAnimationDuration())))("id",n._getStepContentId(i)),e.BMQ("aria-labelledby",n._getStepLabelId(i)),e.R7$(),e.Y8G("ngTemplateOutlet",t.content)}}function Ne(o,a){if(1&o&&(e.j41(0,"div",1)(1,"div",2),e.Z7z(2,Be,2,6,null,null,e.fX1),e.k0s(),e.j41(4,"div",3),e.Z7z(5,Ge,2,11,"div",4,e.fX1),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.Dyx(t.steps),e.R7$(3),e.Dyx(t.steps)}}function Je(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",9),e.eu8(1,5),e.j41(2,"div",10)(3,"div",11),e.bIt("@verticalStepTransition.done",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r._animationDone.next(n))}),e.j41(4,"div",12),e.eu8(5,8),e.k0s()()()()}if(2&o){const t=a.$implicit,i=a.$index,n=a.$index,r=a.$count,l=e.XpG(2),m=e.sdS(4);e.R7$(),e.Y8G("ngTemplateOutlet",m)("ngTemplateOutletContext",e.l_i(10,q,t,i)),e.R7$(),e.AVh("mat-stepper-vertical-line",n!==r-1),e.R7$(),e.AVh("mat-vertical-stepper-content-inactive",l.selectedIndex!==i),e.Y8G("@verticalStepTransition",e.l_i(15,te,l._getAnimationDirection(i),e.eq3(13,ee,l._getAnimationDuration())))("id",l._getStepContentId(i)),e.BMQ("aria-labelledby",l._getStepLabelId(i)),e.R7$(2),e.Y8G("ngTemplateOutlet",t.content)}}function we(o,a){if(1&o&&e.Z7z(0,Je,6,18,"div",9,e.fX1),2&o){const t=e.XpG();e.Dyx(t.steps)}}function Ve(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-step-header",13),e.bIt("click",function(){const n=e.eBV(t).step;return e.Njj(n.select())})("keydown",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r._onKeydown(n))}),e.k0s()}if(2&o){const t=a.step,i=a.i,n=e.XpG();e.AVh("mat-horizontal-stepper-header","horizontal"===n.orientation)("mat-vertical-stepper-header","vertical"===n.orientation),e.Y8G("tabIndex",n._getFocusIndex()===i?0:-1)("id",n._getStepLabelId(i))("index",i)("state",n._getIndicatorType(i,t.state))("label",t.stepLabel||t.label)("selected",n.selectedIndex===i)("active",n._stepIsNavigable(i,t))("optional",t.optional)("errorMessage",t.errorMessage)("iconOverrides",n._iconOverrides)("disableRipple",n.disableRipple||!n._stepIsNavigable(i,t))("color",t.color||n.color),e.BMQ("aria-posinset",i+1)("aria-setsize",n.steps.length)("aria-controls",n._getStepContentId(i))("aria-selected",n.selectedIndex==i)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null)("aria-disabled",!n._stepIsNavigable(i,t)||null)}}let T=(()=>{class o extends Q{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})();static#t=this.\u0275dir=e.FsC({type:o,selectors:[["","matStepLabel",""]],standalone:!0,features:[e.Vt3]})}return o})(),S=(()=>{class o{constructor(){this.changes=new z.B,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),ie=(()=>{class o extends L{constructor(t,i,n,r){super(n),this._intl=t,this._focusMonitor=i,this._intlSubscription=t.changes.subscribe(()=>r.markForCheck())}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._intlSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._elementRef,t,i):this._elementRef.nativeElement.focus(i)}_stringLabel(){return this.label instanceof T?null:this.label}_templateLabel(){return this.label instanceof T?this.label:null}_getHostElement(){return this._elementRef.nativeElement}_getIconContext(){return{index:this.index,active:this.active,optional:this.optional}}_getDefaultTextForState(t){return"number"==t?`${this.index+1}`:"edit"==t?"create":"error"==t?"warning":t}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(S),e.rXU(D.FN),e.rXU(e.aKT),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["mat-step-header"]],hostAttrs:["role","tab",1,"mat-step-header"],hostVars:2,hostBindings:function(i,n){2&i&&e.HbH("mat-"+(n.color||"primary"))},inputs:{state:"state",label:"label",errorMessage:"errorMessage",iconOverrides:"iconOverrides",index:"index",selected:"selected",active:"active",optional:"optional",disableRipple:"disableRipple",color:"color"},standalone:!0,features:[e.Vt3,e.aNF],decls:10,vars:17,consts:[["matRipple","",1,"mat-step-header-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-step-icon-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-step-label"],[1,"mat-step-text-label"],[1,"mat-step-optional"],[1,"mat-step-sub-label-error"],["aria-hidden","true"],[1,"cdk-visually-hidden"],[3,"ngTemplateOutlet"]],template:function(i,n){if(1&i&&(e.nrm(0,"div",0),e.j41(1,"div")(2,"div",1),e.DNE(3,ve,1,2,"ng-container",2)(4,Ce,2,1),e.k0s()(),e.j41(5,"div",3),e.DNE(6,Me,2,1,"div",4)(7,De,2,1)(8,Ie,2,1,"div",5)(9,ke,2,1,"div",6),e.k0s()),2&i){let r;e.Y8G("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disableRipple),e.R7$(),e.ZvI("mat-step-icon-state-",n.state," mat-step-icon"),e.AVh("mat-step-icon-selected",n.selected),e.R7$(2),e.vxM(3,n.iconOverrides&&n.iconOverrides[n.state]?3:4),e.R7$(2),e.AVh("mat-step-label-active",n.active)("mat-step-label-selected",n.selected)("mat-step-label-error","error"==n.state),e.R7$(),e.vxM(6,(r=n._templateLabel())?6:n._stringLabel()?7:-1,r),e.R7$(2),e.vxM(8,n.optional&&"error"!=n.state?8:-1),e.R7$(),e.vxM(9,"error"===n.state?9:-1)}},dependencies:[k.r6,u.T3,F.An],styles:['.mat-step-header{overflow:hidden;outline:none;cursor:pointer;position:relative;box-sizing:content-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-step-header:focus .mat-focus-indicator::before{content:""}.mat-step-header:hover[aria-disabled=true]{cursor:default}.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:var(--mat-stepper-header-hover-state-layer-color);border-radius:var(--mat-stepper-header-hover-state-layer-shape)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused{background-color:var(--mat-stepper-header-focus-state-layer-color);border-radius:var(--mat-stepper-header-focus-state-layer-shape)}@media(hover: none){.mat-step-header:hover{background:none}}.cdk-high-contrast-active .mat-step-header{outline:solid 1px}.cdk-high-contrast-active .mat-step-header[aria-selected=true] .mat-step-label{text-decoration:underline}.cdk-high-contrast-active .mat-step-header[aria-disabled=true]{outline-color:GrayText}.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-label,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-icon,.cdk-high-contrast-active .mat-step-header[aria-disabled=true] .mat-step-optional{color:GrayText}.mat-step-optional{font-size:12px;color:var(--mat-stepper-header-optional-label-text-color)}.mat-step-sub-label-error{font-size:12px;font-weight:normal}.mat-step-icon{border-radius:50%;height:24px;width:24px;flex-shrink:0;position:relative;color:var(--mat-stepper-header-icon-foreground-color);background-color:var(--mat-stepper-header-icon-background-color)}.mat-step-icon-content{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);display:flex}.mat-step-icon .mat-icon{font-size:16px;height:16px;width:16px}.mat-step-icon-state-error{background-color:var(--mat-stepper-header-error-state-icon-background-color);color:var(--mat-stepper-header-error-state-icon-foreground-color)}.mat-step-icon-state-error .mat-icon{font-size:24px;height:24px;width:24px}.mat-step-label{display:inline-block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:50px;vertical-align:middle;font-family:var(--mat-stepper-header-label-text-font);font-size:var(--mat-stepper-header-label-text-size);font-weight:var(--mat-stepper-header-label-text-weight);color:var(--mat-stepper-header-label-text-color)}.mat-step-label.mat-step-label-active{color:var(--mat-stepper-header-selected-state-label-text-color)}.mat-step-label.mat-step-label-error{color:var(--mat-stepper-header-error-state-label-text-color);font-size:var(--mat-stepper-header-error-state-label-text-size)}.mat-step-label.mat-step-label-selected{font-size:var(--mat-stepper-header-selected-state-label-text-size);font-weight:var(--mat-stepper-header-selected-state-label-text-weight)}.mat-step-text-label{text-overflow:ellipsis;overflow:hidden}.mat-step-header .mat-step-header-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-step-icon-selected{background-color:var(--mat-stepper-header-selected-state-icon-background-color);color:var(--mat-stepper-header-selected-state-icon-foreground-color)}.mat-step-icon-state-done{background-color:var(--mat-stepper-header-done-state-icon-background-color);color:var(--mat-stepper-header-done-state-icon-foreground-color)}.mat-step-icon-state-edit{background-color:var(--mat-stepper-header-edit-state-icon-background-color);color:var(--mat-stepper-header-edit-state-icon-foreground-color)}'],encapsulation:2,changeDetection:0})}return o})();const re={horizontalStepTransition:(0,c.hZ)("horizontalStepTransition",[(0,c.wk)("previous",(0,c.iF)({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"})),(0,c.wk)("current",(0,c.iF)({transform:"none",visibility:"inherit"})),(0,c.wk)("next",(0,c.iF)({transform:"translate3d(100%, 0, 0)",visibility:"hidden"})),(0,c.kY)("* => *",(0,c.Os)([(0,c.i0)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)"),(0,c.P)("@*",(0,c.MA)(),{optional:!0})]),{params:{animationDuration:"500ms"}})]),verticalStepTransition:(0,c.hZ)("verticalStepTransition",[(0,c.wk)("previous",(0,c.iF)({height:"0px",visibility:"hidden"})),(0,c.wk)("next",(0,c.iF)({height:"0px",visibility:"hidden"})),(0,c.wk)("current",(0,c.iF)({height:"*",visibility:"inherit"})),(0,c.kY)("* <=> current",(0,c.Os)([(0,c.i0)("{{animationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)"),(0,c.P)("@*",(0,c.MA)(),{optional:!0})]),{params:{animationDuration:"225ms"}})])};let Xe=(()=>{class o{constructor(t){this.templateRef=t}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["ng-template","matStepperIcon",""]],inputs:{name:[e.Mj6.None,"matStepperIcon","name"]},standalone:!0})}return o})(),ae=(()=>{class o{constructor(t){this._template=t}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.C4Q))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["ng-template","matStepContent",""]],standalone:!0})}return o})(),se=(()=>{class o extends X{constructor(t,i,n,r){super(t,r),this._errorStateMatcher=i,this._viewContainerRef=n,this._isSelected=fe.yU.EMPTY,this.stepLabel=void 0}ngAfterContentInit(){this._isSelected=this._stepper.steps.changes.pipe((0,V.n)(()=>this._stepper.selectionChange.pipe((0,be.T)(t=>t.selectedStep===this),(0,x.Z)(this._stepper.selected===this)))).subscribe(t=>{t&&this._lazyContent&&!this._portal&&(this._portal=new P.VA(this._lazyContent._template,this._viewContainerRef))})}ngOnDestroy(){this._isSelected.unsubscribe()}isErrorState(t,i){return this._errorStateMatcher.isErrorState(t,i)||!!(t&&t.invalid&&this.interacted)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU((0,e.Rfq)(()=>le)),e.rXU(k.es,4),e.rXU(e.c1b),e.rXU(Z,8))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["mat-step"]],contentQueries:function(i,n,r){if(1&i&&(e.wni(r,T,5),e.wni(r,ae,5)),2&i){let l;e.mGM(l=e.lsd())&&(n.stepLabel=l.first),e.mGM(l=e.lsd())&&(n._lazyContent=l.first)}},hostAttrs:["hidden",""],inputs:{color:"color"},exportAs:["matStep"],standalone:!0,features:[e.Jv_([{provide:k.es,useExisting:o},{provide:X,useExisting:o}]),e.Vt3,e.aNF],ngContentSelectors:K,decls:1,vars:0,consts:[[3,"cdkPortalOutlet"]],template:function(i,n){1&i&&(e.NAR(),e.DNE(0,Te,2,1,"ng-template"))},dependencies:[P.I3],encapsulation:2,changeDetection:0})}return o})(),le=(()=>{class o extends I{get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}constructor(t,i,n){super(t,i,n),this._stepHeader=void 0,this._steps=void 0,this.steps=new e.rOR,this.animationDone=new e.bkB,this.labelPosition="end",this.headerPosition="top",this._iconOverrides={},this._animationDone=new z.B,this._animationDuration="",this._isServer=!(0,e.WQX)(U.OD).isBrowser;const r=n.nativeElement.nodeName.toLowerCase();this.orientation="mat-vertical-stepper"===r?"vertical":"horizontal"}ngAfterContentInit(){super.ngAfterContentInit(),this._icons.forEach(({name:t,templateRef:i})=>this._iconOverrides[t]=i),this.steps.changes.pipe((0,E.Q)(this._destroyed)).subscribe(()=>{this._stateChanged()}),this._animationDone.pipe((0,W.F)((t,i)=>t.fromState===i.fromState&&t.toState===i.toState),(0,E.Q)(this._destroyed)).subscribe(t=>{"current"===t.toState&&this.animationDone.emit()})}_stepIsNavigable(t,i){return i.completed||this.selectedIndex===t||!this.linear}_getAnimationDuration(){return this.animationDuration?this.animationDuration:"horizontal"===this.orientation?"500ms":"225ms"}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(Y.dS,8),e.rXU(e.gRc),e.rXU(e.aKT))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["mat-stepper"],["mat-vertical-stepper"],["mat-horizontal-stepper"],["","matStepper",""]],contentQueries:function(i,n,r){if(1&i&&(e.wni(r,se,5),e.wni(r,Xe,5)),2&i){let l;e.mGM(l=e.lsd())&&(n._steps=l),e.mGM(l=e.lsd())&&(n._icons=l)}},viewQuery:function(i,n){if(1&i&&e.GBs(ie,5),2&i){let r;e.mGM(r=e.lsd())&&(n._stepHeader=r)}},hostAttrs:["role","tablist"],hostVars:11,hostBindings:function(i,n){2&i&&(e.BMQ("aria-orientation",n.orientation),e.AVh("mat-stepper-horizontal","horizontal"===n.orientation)("mat-stepper-vertical","vertical"===n.orientation)("mat-stepper-label-position-end","horizontal"===n.orientation&&"end"==n.labelPosition)("mat-stepper-label-position-bottom","horizontal"===n.orientation&&"bottom"==n.labelPosition)("mat-stepper-header-position-bottom","bottom"===n.headerPosition))},inputs:{disableRipple:"disableRipple",color:"color",labelPosition:"labelPosition",headerPosition:"headerPosition",animationDuration:"animationDuration"},outputs:{animationDone:"animationDone"},exportAs:["matStepper","matVerticalStepper","matHorizontalStepper"],standalone:!0,features:[e.Jv_([{provide:I,useExisting:o}]),e.Vt3,e.aNF],ngContentSelectors:K,decls:5,vars:2,consts:[["stepTemplate",""],[1,"mat-horizontal-stepper-wrapper"],[1,"mat-horizontal-stepper-header-container"],[1,"mat-horizontal-content-container"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id","mat-horizontal-stepper-content-inactive"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"mat-stepper-horizontal-line"],["role","tabpanel",1,"mat-horizontal-stepper-content",3,"id"],[3,"ngTemplateOutlet"],[1,"mat-step"],[1,"mat-vertical-content-container"],["role","tabpanel",1,"mat-vertical-stepper-content",3,"id"],[1,"mat-vertical-content"],[3,"click","keydown","tabIndex","id","index","state","label","selected","active","optional","errorMessage","iconOverrides","disableRipple","color"]],template:function(i,n){if(1&i&&(e.NAR(),e.DNE(0,Se,1,0)(1,Ne,7,0)(2,we,2,0)(3,Ve,1,23,"ng-template",null,0,e.C5r)),2&i){let r;e.vxM(0,n._isServer?0:-1),e.R7$(),e.vxM(1,"horizontal"===(r=n.orientation)?1:"vertical"===r?2:-1)}},dependencies:[u.T3,ie],styles:['.mat-stepper-vertical,.mat-stepper-horizontal{display:block;font-family:var(--mat-stepper-container-text-font);background:var(--mat-stepper-container-color)}.mat-horizontal-stepper-header-container{white-space:nowrap;display:flex;align-items:center}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header-container{align-items:flex-start}.mat-stepper-header-position-bottom .mat-horizontal-stepper-header-container{order:1}.mat-stepper-horizontal-line{border-top-width:1px;border-top-style:solid;flex:auto;height:0;margin:0 -16px;min-width:32px;border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{margin:0;min-width:0;position:relative;top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{border-top-width:1px;border-top-style:solid;content:"";display:inline-block;height:0;position:absolute;width:calc(50% - 20px)}.mat-horizontal-stepper-header{display:flex;height:72px;overflow:hidden;align-items:center;padding:0 24px;height:var(--mat-stepper-header-height)}.mat-horizontal-stepper-header .mat-step-icon{margin-right:8px;flex:none}[dir=rtl] .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:8px}.mat-horizontal-stepper-header::before,.mat-horizontal-stepper-header::after{border-top-color:var(--mat-stepper-line-color)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::before,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header::after{top:calc(calc((var(--mat-stepper-header-height) - 24px) / 2) + 12px)}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header{box-sizing:border-box;flex-direction:column;height:auto}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::after,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::after{right:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:first-child)::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:not(:last-child)::before{left:0}[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:last-child::before,[dir=rtl] .mat-stepper-label-position-bottom .mat-horizontal-stepper-header:first-child::after{display:none}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-icon{margin-right:0;margin-left:0}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header .mat-step-label{padding:16px 0 0 0;text-align:center;width:100%}.mat-vertical-stepper-header{display:flex;align-items:center;height:24px;padding:calc((var(--mat-stepper-header-height) - 24px) / 2) 24px}.mat-vertical-stepper-header .mat-step-icon{margin-right:12px}[dir=rtl] .mat-vertical-stepper-header .mat-step-icon{margin-right:0;margin-left:12px}.mat-horizontal-stepper-wrapper{display:flex;flex-direction:column}.mat-horizontal-stepper-content{outline:0}.mat-horizontal-stepper-content.mat-horizontal-stepper-content-inactive{height:0;overflow:hidden}.mat-horizontal-stepper-content:not(.mat-horizontal-stepper-content-inactive){visibility:inherit !important}.mat-horizontal-content-container{overflow:hidden;padding:0 24px 24px 24px}.cdk-high-contrast-active .mat-horizontal-content-container{outline:solid 1px}.mat-stepper-header-position-bottom .mat-horizontal-content-container{padding:24px 24px 0 24px}.mat-vertical-content-container{margin-left:36px;border:0;position:relative}.cdk-high-contrast-active .mat-vertical-content-container{outline:solid 1px}[dir=rtl] .mat-vertical-content-container{margin-left:0;margin-right:36px}.mat-stepper-vertical-line::before{content:"";position:absolute;left:0;border-left-width:1px;border-left-style:solid;border-left-color:var(--mat-stepper-line-color);top:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2));bottom:calc(8px - calc((var(--mat-stepper-header-height) - 24px) / 2))}[dir=rtl] .mat-stepper-vertical-line::before{left:auto;right:0}.mat-vertical-stepper-content{overflow:hidden;outline:0}.mat-vertical-stepper-content:not(.mat-vertical-stepper-content-inactive){visibility:inherit !important}.mat-vertical-content{padding:0 24px 24px 24px}.mat-step:last-child .mat-vertical-content-container{border:none}'],encapsulation:2,data:{animation:[re.horizontalStepTransition,re.verticalStepTransition]},changeDetection:0})}return o})(),R=(()=>{class o extends ge{static#e=this.\u0275fac=(()=>{let t;return function(n){return(t||(t=e.xGo(o)))(n||o)}})();static#t=this.\u0275dir=e.FsC({type:o,selectors:[["button","matStepperNext",""]],hostAttrs:[1,"mat-stepper-next"],hostVars:1,hostBindings:function(i,n){2&i&&e.Mr5("type",n.type)},standalone:!0,features:[e.Vt3]})}return o})();var de=d(467),Ae=d(152),C=d(6471),s=d(9417),M=d(5507),B=d(3391),ce=d(8722),$e=d(4435),j=d(7404),Oe=d(1840);function Pe(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Name is required."),e.k0s())}function Ye(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Name must be at least 5 characters long."),e.k0s())}function Ue(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Name must be at most 50 characters long."),e.k0s())}function He(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Category is required."),e.k0s())}function Le(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Category must be at least 3 characters long."),e.k0s())}function Qe(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Category must be at most 16 characters long."),e.k0s())}function Ze(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Title is required."),e.k0s())}function We(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Title must be at least 10 characters long."),e.k0s())}function Ke(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Title must be at most 100 characters long."),e.k0s())}function qe(o,a){if(1&o&&(e.j41(0,"option",35),e.EFF(1),e.nI1(2,"titlecase"),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t),e.R7$(),e.JRh(e.bMT(2,2,t))}}function et(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Icon is required."),e.k0s())}function tt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Memories is required."),e.k0s())}function it(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Memories must be at least 10 characters long."),e.k0s())}function nt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Memories must be at most 5000 characters long."),e.k0s())}function ot(o,a){if(1&o){const t=e.RV6();e.j41(0,"mat-chip-row",67),e.bIt("removed",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeTag(n))}),e.EFF(1),e.j41(2,"button",68),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeTag(n))}),e.j41(3,"mat-icon"),e.EFF(4,"cancel"),e.k0s()()()}if(2&o){const t=a.$implicit;e.Y8G("highlighted",!0)("editable",!1)("removable",!0),e.R7$(),e.SpI(" ",t," ")}}function rt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Longitude is required."),e.k0s())}function at(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Longitude must be between -180.0 to 180.0."),e.k0s())}function st(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Longitude must be between -180.0 to 180.0."),e.k0s())}function lt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Latitude is required."),e.k0s())}function dt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Latitude must be between -90.0 to 90.0."),e.k0s())}function ct(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Latitude must be between -9 0.0 to 90.0."),e.k0s())}function pt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"City is required."),e.k0s())}function mt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"City must be at least 3 characters long."),e.k0s())}function ut(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"City must be at most 50 characters long."),e.k0s())}function _t(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Country is required."),e.k0s())}function ht(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Country must be at least 3 characters long."),e.k0s())}function gt(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Country must be at most 50 characters long."),e.k0s())}function ft(o,a){1&o&&(e.j41(0,"div"),e.EFF(1,"Journey Date is required."),e.k0s())}function bt(o,a){if(1&o){const t=e.RV6();e.j41(0,"form",13,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.sdS(1),r=e.XpG();return e.Njj(r.save(n))}),e.j41(2,"div",14)(3,"div",15),e.nrm(4,"app-feedback-message",16),e.k0s()(),e.j41(5,"div",17)(6,"div",18)(7,"div",17)(8,"div",19)(9,"span",20),e.EFF(10,"ID"),e.k0s(),e.j41(11,"input",21),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.id,n)||(r.journey.id=n),e.Njj(n)}),e.k0s()()(),e.j41(12,"div",17)(13,"div",22)(14,"label",23),e.EFF(15,"Name"),e.k0s(),e.j41(16,"input",24,1),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.name,n)||(r.journey.name=n),e.Njj(n)}),e.k0s(),e.j41(18,"div",25),e.DNE(19,Pe,2,0,"div",26)(20,Ye,2,0,"div",26)(21,Ue,2,0,"div",26),e.k0s()(),e.j41(22,"div",27)(23,"label",28),e.EFF(24,"Category"),e.k0s(),e.j41(25,"input",29,2),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.category,n)||(r.journey.category=n),e.Njj(n)}),e.k0s(),e.j41(27,"div",25),e.DNE(28,He,2,0,"div",26)(29,Le,2,0,"div",26)(30,Qe,2,0,"div",26),e.k0s()()(),e.j41(31,"div",17)(32,"div",30)(33,"label",31),e.EFF(34,"Title"),e.k0s(),e.j41(35,"input",32,3),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.title,n)||(r.journey.title=n),e.Njj(n)}),e.k0s(),e.j41(37,"div",25),e.DNE(38,Ze,2,0,"div",26)(39,We,2,0,"div",26)(40,Ke,2,0,"div",26),e.k0s()(),e.j41(41,"div",27)(42,"label",33),e.EFF(43,"Icon"),e.k0s(),e.j41(44,"select",34,4),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refreshMapWithCoordinates())}),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.icon,n)||(r.journey.icon=n),e.Njj(n)}),e.Z7z(46,qe,3,4,"option",35,e.fX1),e.k0s(),e.j41(48,"div",25),e.DNE(49,et,2,0,"div",26),e.k0s()()(),e.j41(50,"div",36)(51,"label",37),e.EFF(52,"Memories"),e.k0s(),e.j41(53,"textarea",38,5),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.description,n)||(r.journey.description=n),e.Njj(n)}),e.k0s(),e.j41(55,"div",25),e.DNE(56,tt,2,0,"div",26)(57,it,2,0,"div",26)(58,nt,2,0,"div",26),e.k0s()(),e.j41(59,"div",14)(60,"div",39)(61,"mat-chip-grid",40,6),e.Z7z(63,ot,5,4,"mat-chip-row",41,e.fX1),e.j41(65,"input",42),e.bIt("matChipInputTokenEnd",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.addTag(n))}),e.k0s()()(),e.j41(66,"div",39)(67,"div",43)(68,"span",44),e.EFF(69,"Coordinates"),e.k0s(),e.j41(70,"input",45,7),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.coordinates[0],n)||(r.coordinates[0]=n),e.Njj(n)}),e.bIt("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refreshMapWithCoordinates())}),e.k0s(),e.j41(72,"button",46),e.EFF(73," Coordinates "),e.k0s(),e.j41(74,"ul",47)(75,"li")(76,"a",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copyCoordinatesFromGoogleMap())}),e.EFF(77,"Paste coordinates copied from Google Map"),e.k0s()(),e.j41(78,"li")(79,"a",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.copyCoordinatesFromClipboard())}),e.EFF(80,"Paste from clipboard"),e.k0s()(),e.j41(81,"li")(82,"a",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.swapCoordinates())}),e.EFF(83,"Swap Coordinates"),e.k0s()()(),e.j41(84,"input",49,8),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.coordinates[1],n)||(r.coordinates[1]=n),e.Njj(n)}),e.bIt("blur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.refreshMapWithCoordinates())}),e.k0s()(),e.j41(86,"div",50)(87,"div",51),e.DNE(88,rt,2,0,"div",26)(89,at,2,0,"div",26)(90,st,2,0,"div",26),e.k0s(),e.j41(91,"div",25),e.DNE(92,lt,2,0,"div",26)(93,dt,2,0,"div",26)(94,ct,2,0,"div",26),e.k0s()()()(),e.j41(95,"div",17)(96,"div",52)(97,"label",53),e.EFF(98,"City"),e.k0s(),e.j41(99,"input",54,9),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.city,n)||(r.journey.city=n),e.Njj(n)}),e.k0s(),e.j41(101,"div",25),e.DNE(102,pt,2,0,"div",26)(103,mt,2,0,"div",26)(104,ut,2,0,"div",26),e.k0s()(),e.j41(105,"div",52)(106,"label",55),e.EFF(107,"Country"),e.k0s(),e.j41(108,"input",56,10),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.country,n)||(r.journey.country=n),e.Njj(n)}),e.k0s(),e.j41(110,"div",25),e.DNE(111,_t,2,0,"div",26)(112,ht,2,0,"div",26)(113,gt,2,0,"div",26),e.k0s()(),e.j41(114,"div",57)(115,"label",58),e.EFF(116,"Journey Date"),e.k0s(),e.j41(117,"div",59)(118,"input",60,11),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.journeyDate,n)||(r.journey.journeyDate=n),e.Njj(n)}),e.k0s(),e.j41(121,"button",61),e.bIt("click",function(){e.eBV(t);const n=e.sdS(120);return e.Njj(n.toggle())}),e.k0s(),e.j41(122,"div",25),e.DNE(123,ft,2,0,"div",26),e.k0s()()()()(),e.j41(124,"div",62),e.nrm(125,"app-world-map",63),e.k0s()(),e.j41(126,"div",17)(127,"div",64)(128,"button",65),e.EFF(129," Save "),e.k0s(),e.j41(130,"button",66),e.EFF(131,"Next "),e.k0s()()()()}if(2&o){const t=e.sdS(1),i=e.sdS(17),n=e.sdS(26),r=e.sdS(36),l=e.sdS(45),m=e.sdS(54),J=e.sdS(62),h=e.sdS(71),g=e.sdS(85),f=e.sdS(100),b=e.sdS(109),w=e.sdS(119),p=e.XpG();e.R7$(4),e.Y8G("successMessage",p.successMessage)("errorMessage",p.errorMessage),e.R7$(7),e.R50("ngModel",p.journey.id),e.R7$(5),e.R50("ngModel",p.journey.name),e.R7$(2),e.Y8G("hidden",i.valid||i.pristine),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.required),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.minlength),e.R7$(),e.Y8G("ngIf",null==i.errors?null:i.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.category),e.Y8G("ngbTypeahead",p.searchCategory),e.R7$(2),e.Y8G("hidden",n.valid||n.pristine),e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.required),e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.minlength),e.R7$(),e.Y8G("ngIf",null==n.errors?null:n.errors.maxlength),e.R7$(5),e.R50("ngModel",p.journey.title),e.R7$(2),e.Y8G("hidden",r.valid||r.pristine),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.required),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.minlength),e.R7$(),e.Y8G("ngIf",null==r.errors?null:r.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.icon),e.R7$(2),e.Dyx(p.SUPPORTED_ICONS),e.R7$(2),e.Y8G("hidden",l.valid||l.pristine),e.R7$(),e.Y8G("ngIf",null==l.errors?null:l.errors.required),e.R7$(4),e.R50("ngModel",p.journey.description),e.R7$(2),e.Y8G("hidden",m.valid||m.pristine),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.required),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.minlength),e.R7$(),e.Y8G("ngIf",null==m.errors?null:m.errors.maxlength),e.R7$(5),e.Dyx(p.journey.tags),e.R7$(2),e.Y8G("matChipInputFor",J)("matChipInputSeparatorKeyCodes",p.separatorKeysCodes)("matChipInputAddOnBlur",!0),e.R7$(5),e.R50("ngModel",p.coordinates[0]),e.R7$(14),e.R50("ngModel",p.coordinates[1]),e.R7$(3),e.Y8G("hidden",h.valid||h.pristine),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.required),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.min),e.R7$(),e.Y8G("ngIf",null==h.errors?null:h.errors.max),e.R7$(),e.Y8G("hidden",g.valid||g.pristine),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.required),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.min),e.R7$(),e.Y8G("ngIf",null==g.errors?null:g.errors.max),e.R7$(5),e.R50("ngModel",p.journey.city),e.R7$(2),e.Y8G("hidden",f.valid||f.pristine),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.required),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.minlength),e.R7$(),e.Y8G("ngIf",null==f.errors?null:f.errors.maxlength),e.R7$(4),e.R50("ngModel",p.journey.country),e.R7$(2),e.Y8G("hidden",b.valid||b.pristine),e.R7$(),e.Y8G("ngIf",null==b.errors?null:b.errors.required),e.R7$(),e.Y8G("ngIf",null==b.errors?null:b.errors.minlength),e.R7$(),e.Y8G("ngIf",null==b.errors?null:b.errors.maxlength),e.R7$(5),e.R50("ngModel",p.journey.journeyDate),e.R7$(4),e.Y8G("hidden",w.valid||w.pristine),e.R7$(),e.Y8G("ngIf",null==w.errors?null:w.errors.required),e.R7$(2),e.Y8G("geoJsonData",p.journey.location)("iconType",p.journey.icon)("maxZoom",10),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let vt=(()=>{class o{constructor(t,i){this.journeyService=t,this.autoCompleteService=i,this.separatorKeysCodes=[y.Fm,y.KE,y.t6],this.predefinedCategories=["Travel","Work","Residential"],this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.coordinates=[],this.searchCategory=n=>n.pipe((0,x.Z)(""),(0,Ae.B)(200),(0,W.F)(),(0,V.n)(r=>r.length<1?(0,H.of)([]):this.autoCompleteService.getAvailableCategories(r.toLowerCase()))),this.SUPPORTED_ICONS=$e.AB}ngOnInit(){this.coordinates=this.journey.location.coordinates}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage="Journey saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}addTag(t){const i=(t.value||"").toLowerCase().trim();i&&this.journey.tags.push(i),t.chipInput.clear()}removeTag(t){const i=this.journey.tags.indexOf(t);i>=0&&this.journey.tags.splice(i,1)}refreshMapWithCoordinates(){setTimeout(()=>{2==this.coordinates.length&&(this.journey.location={type:"Point",coordinates:this.coordinates})},100)}save(t){console.debug("Submitted form data:",t),this.journeyService.saveJourneyBasicDetails(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while saving data",i)})}swapCoordinates(){let t=this.coordinates[0];this.coordinates[0]=this.coordinates[1],this.coordinates[1]=t,this.refreshMapWithCoordinates()}copyCoordinatesFromGoogleMap(){var t=this;return(0,de.A)(function*(){const i=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",i),i){let n=i.split(",");t.coordinates[0]=Number(n.length<2?n[0]:n[1]),t.coordinates[1]=Number(n[0]),t.refreshMapWithCoordinates()}})()}copyCoordinatesFromClipboard(){var t=this;return(0,de.A)(function*(){const i=yield navigator.clipboard.readText();if(console.debug("Value copied from clipboard:",i),i){let n=i.split(",");t.coordinates[0]=Number(n[0]),t.coordinates[1]=Number(n.length>=2?n[1]:n[0]),t.refreshMapWithCoordinates()}})()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(j.K),e.rXU(Oe.Y))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-basic-data"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["name","ngModel"],["category","ngModel"],["title","ngModel"],["iconType","ngModel"],["description","ngModel"],["chipGrid",""],["longitude","ngModel"],["latitude","ngModel"],["city","ngModel"],["country","ngModel"],["journeyDate","ngModel","d","ngbDatepicker"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"col-md-8","col-12"],[1,"input-group","mb-3","col-12"],["id","idLabel",1,"input-group-text"],["type","text","aria-describedby","idLabel","id","id","name","id","readonly","readonly","disabled","disabled",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-12","col-md-8"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","maxlength","50","minlength","5","placeholder","Name your Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text","text-danger",3,"hidden"],[4,"ngIf"],[1,"mb-3","col-12","col-md-4"],["for","category",1,"form-label"],["id","category","type","text","required","","minlength","3","maxlength","50","name","category",1,"form-control",3,"ngModelChange","ngModel","ngbTypeahead"],[1,"mb-3","col-md-8"],["for","title",1,"form-label"],["type","text","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Shortly describe the Journey",1,"form-control",3,"ngModelChange","ngModel"],["for","iconType",1,"form-label"],["id","iconType","aria-label","Icon","required","","name","iconType",1,"form-select","form-select-sm",3,"change","ngModelChange","ngModel"],[3,"value"],[1,"mb-3"],["for","description",1,"form-label"],["rows","5","id","description","name","description","required","","minlength","10","maxlength","5000","placeholder","Detailed information about the Journey",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","col-md-6"],["aria-label","Tags"],["color","primary",3,"highlighted","editable","removable"],["placeholder","Favorite Tags",1,"form-control",3,"matChipInputTokenEnd","matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur"],[1,"input-group","mb-3"],[1,"input-group-text"],["type","number","placeholder","Longitude","aria-label","Longitude","id","longitude","name","longitude","required","","min","-180.0","max","180.0",1,"form-control",3,"ngModelChange","blur","ngModel"],["data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","input-group-text","dropdown-toggle"],[1,"dropdown-menu"],["role","button",1,"dropdown-item",3,"click"],["type","number","placeholder","Latitude","aria-label","Latitude","id","latitude","name","latitude","required","","min","-90.0","max","90.0",1,"form-control",3,"ngModelChange","blur","ngModel"],[1,"form-text","text-danger"],[3,"hidden"],[1,"mb-3","col-md-6"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],["for","country",1,"form-label"],["type","text","id","country","name","country","required","","minlength","3","maxlength","50",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3","col-md-4"],["for","journeyDate",1,"form-label"],[1,"input-group"],["type","text","id","journeyDate","name","journeyDate","required","","placeholder","yyyy-mm-dd","ngbDatepicker","",1,"form-control",3,"ngModelChange","ngModel"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],[1,"col-12","col-md-4",2,"position","relative","min-height","25vh"],[1,"h-50",3,"geoJsonData","iconType","maxZoom"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["color","primary",3,"removed","highlighted","editable","removable"],["matChipRemove","",3,"click"]],template:function(i,n){1&i&&e.DNE(0,bt,132,58,"form",12),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[M.k,s.YN,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.YS,s.xh,s.tU,s.VZ,s.zX,s.vS,s.cV,u.bT,B.$n,F.m_,F.An,C.YN,C.HW,C.D7,C.Zv,C.jH,B.cw,R,ce.s,u.PV],styles:[".map-marker-container[_ngcontent-%COMP%]{min-height:150px}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return o})();var v=d(777);function yt(o,a){if(1&o){const t=e.RV6();e.j41(0,"form",2,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.sdS(1),r=e.XpG();return e.Njj(r.save(n))}),e.j41(2,"div",3)(3,"div",4),e.nrm(4,"app-feedback-message",5),e.k0s()(),e.j41(5,"div",6)(6,"div",7)(7,"div")(8,"label",8)(9,"span"),e.EFF(10,"Tip:"),e.k0s(),e.j41(11,"a",9),e.EFF(12,"GeoJson Creator"),e.k0s(),e.j41(13,"a",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.formatGeoJsonIfRequired())}),e.EFF(14,"Format Data"),e.k0s()(),e.j41(15,"textarea",11),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.geoJsonString,n)||(r.geoJsonString=n),e.Njj(n)}),e.bIt("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.reloadMap())}),e.EFF(16),e.nI1(17,"json"),e.k0s()()(),e.j41(18,"div",12),e.nrm(19,"app-world-map",13),e.k0s()(),e.j41(20,"div",14)(21,"div",15)(22,"button",16),e.EFF(23," Save "),e.k0s(),e.j41(24,"button",17),e.EFF(25,"Next "),e.k0s()()()()}if(2&o){const t=e.sdS(1),i=e.XpG();e.R7$(4),e.Y8G("successMessage",i.successMessage)("errorMessage",i.errorMessage),e.R7$(11),e.R50("ngModel",i.geoJsonString),e.R7$(),e.SpI("          ",e.bMT(17,7,null==i.journey.extendedDetails||null==i.journey.extendedDetails.geoDetails?null:i.journey.extendedDetails.geoDetails.geoJson),"\n        "),e.R7$(3),e.Y8G("geoJsonData",i.formGeoDetails.geoJson),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let jt=(()=>{class o{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formGeoDetails=new v.oy(void 0),this.geoJsonString=""}ngOnInit(){this.formGeoDetails=this.journey.extendedDetails?.geoDetails?this.journey.extendedDetails.geoDetails:new v.oy(this.journey.location),this.geoJsonString=JSON.stringify(this.formGeoDetails.geoJson)}save(t){console.debug("submitted form:",t),this.journeyService.saveJourneyGeoDetails(this.journey,this.formGeoDetails).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while saving geo data",i)})}onUpdateSuccess(t){this.successMessage="Journey saved successfully.",this.journey=t,this.savedEvent.emit(t)}onError(t,i){this.errorMessage=t,console.error(i)}reloadMap(){this.geoJsonString&&(this.formGeoDetails.geoJson=JSON.parse(this.geoJsonString))}formatGeoJsonIfRequired(){if(this.geoJsonString){let t=JSON.parse(this.geoJsonString);if("FeatureCollection"==t.type){let i={type:"GeometryCollection",geometries:t.features.map(n=>n.geometry)};this.geoJsonString=JSON.stringify(i),this.reloadMap()}}}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row","geo-data-row","mb-3"],[1,"col-md-6","col-12"],["for","geojson",1,"form-label"],["href","https://geojson.io/","target","_blank",1,"geojson-tip","me-2"],[1,"geojson-tip",3,"click"],["rows","10","id","geojson","name","geojson","required","",1,"form-control","geojson-field",3,"ngModelChange","change","ngModel"],[1,"col-12","col-md-6",2,"position","relative","min-height","25vh"],["maxZoom","10",1,"h-50",3,"geoJsonData"],[1,"row"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"]],template:function(i,n){1&i&&e.DNE(0,yt,26,9,"form",1),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[s.YN,s.qT,s.me,s.BC,s.cb,s.YS,s.vS,s.cV,M.k,ce.s,R,u.bT,u.TG],styles:[".geo-data-row[_ngcontent-%COMP%]{min-height:50vh!important}.geojson-field[_ngcontent-%COMP%]{height:45vh}.geojson-tip[_ngcontent-%COMP%]{font-size:small;margin-left:.5rem;cursor:pointer}"]})}return o})();var A=d(2525);function xt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",4)(1,"div",5),e.nrm(2,"img",6),e.k0s(),e.j41(3,"div",7)(4,"form",8),e.bIt("submit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.j41(5,"div",9)(6,"input",10),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.url,n)||(r.imageItem.url=n),e.Njj(n)}),e.k0s(),e.j41(7,"label",11),e.EFF(8,"Image URL"),e.k0s()(),e.j41(9,"div",9)(10,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.assetId,n)||(r.imageItem.assetId=n),e.Njj(n)}),e.k0s(),e.j41(11,"label",13),e.EFF(12,"ID"),e.k0s()(),e.j41(13,"div",9)(14,"input",14),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.title,n)||(r.imageItem.title=n),e.Njj(n)}),e.k0s(),e.j41(15,"label",15),e.EFF(16,"Title"),e.k0s()(),e.j41(17,"div",16)(18,"div",17)(19,"input",18),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.isFavorite,n)||(r.imageItem.isFavorite=n),e.Njj(n)}),e.k0s()(),e.nrm(20,"input",19),e.k0s(),e.j41(21,"div",16)(22,"div",17)(23,"input",20),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.imageItem.isThumbnail,n)||(r.imageItem.isThumbnail=n),e.Njj(n)}),e.k0s()(),e.nrm(24,"input",21),e.k0s(),e.j41(25,"div",22)(26,"button",23),e.EFF(27,"Save"),e.k0s(),e.j41(28,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.remove())}),e.EFF(29,"Remove"),e.k0s(),e.j41(30,"button",25),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancel())}),e.EFF(31,"Cancel"),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(2),e.Y8G("src",t.imageItem.url,e.B4B)("alt",t.imageItem.assetId)("title",t.imageItem.assetId),e.R7$(4),e.R50("ngModel",t.imageItem.url),e.R7$(4),e.R50("ngModel",t.imageItem.assetId),e.R7$(4),e.R50("ngModel",t.imageItem.title),e.Y8G("autofocus",!0),e.R7$(5),e.R50("ngModel",t.imageItem.isFavorite),e.R7$(4),e.R50("ngModel",t.imageItem.isThumbnail)}}let Et=(()=>{class o{constructor(t){this.activeModel=t}save(){this.activeModel.close(this.imageItem)}cancel(){this.activeModel.dismiss()}remove(){this.activeModel.close(this.imageItem?.assetId)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(B.Lw))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:"imageItem"},standalone:!0,features:[e.aNF],decls:5,vars:1,consts:[[1,"container"],[1,"model-header","m-1"],[1,"gradient-text","m-1","border-bottom","border-primary-subtle","border-3","pb-2"],["class","d-flex flex-column flex-md-row justify-content-evenly",4,"ngIf"],[1,"d-flex","flex-column","flex-md-row","justify-content-evenly"],[1,"image-thumbnail","m-1","col-md-4","text-center"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"],[1,"image-details","flex-fill","m-1"],[3,"submit"],[1,"form-floating","mb-1"],["type","text","id","imageUrl","name","imageUrl","placeholder","URL","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageUrl"],["type","text","id","imageId","name","imageId","placeholder","ID","readonly","readonly","disabled","disabled",1,"form-control","ignore-highlight",3,"ngModelChange","ngModel"],["for","imageId"],["type","text","id","title","name","title","placeholder","Title",1,"form-control",3,"ngModelChange","ngModel","autofocus"],["for","title"],[1,"input-group","mb-1"],[1,"input-group-text"],["type","checkbox","id","favoriteFlag","name","favoriteFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as my favorite","disabled","",1,"form-control"],["type","checkbox","id","thumbnailFlag","name","thumbnailFlag",1,"form-check-input","ignore-highlight",3,"ngModelChange","ngModel"],["type","text","value","Make it as thumbnail","disabled","",1,"form-control"],[1,"d-inline-flex","justify-content-center","align-content-center","align-items-center","mt-2","w-100"],[1,"btn","btn-outline-primary","me-1"],["type","button",1,"btn","btn-outline-danger","me-1",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"h6",2),e.EFF(3,"Edit Image Details"),e.k0s()(),e.DNE(4,xt,32,9,"div",3),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngIf",n.imageItem))},dependencies:[s.YN,s.qT,s.me,s.Zm,s.BC,s.cb,s.vS,s.cV,u.bT],encapsulation:2})}return o})();var $=d(8498);const Ct=(o,a)=>a.assetId,Mt=(o,a)=>({"border-success":o,"border-primary":a});function Dt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",16),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.openImageItem(n))}),e.nrm(1,"img",17),e.k0s()}if(2&o){const t=a.$implicit;e.R7$(),e.Y8G("src",t.url,e.B4B)("alt",t.assetId)("title",t.assetId)("ngClass",e.l_i(4,Mt,t.isThumbnail,!t.isThumbnail))}}function It(o,a){if(1&o){const t=e.RV6();e.j41(0,"form",1),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.j41(1,"div",2)(2,"div",3),e.nrm(3,"app-feedback-message",4),e.k0s()(),e.j41(4,"div",5)(5,"div",3)(6,"div",6),e.Z7z(7,Dt,2,7,"div",7,Ct),e.k0s()()(),e.j41(9,"div",5)(10,"div",8)(11,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUploadWidget(!0))}),e.nrm(12,"i",10),e.j41(13,"span",11),e.EFF(14,"Upload Image(s)"),e.k0s()(),e.j41(15,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUploadWidget(!1))}),e.nrm(16,"i",12),e.j41(17,"span",11),e.EFF(18,"Upload Image"),e.k0s()(),e.j41(19,"button",13),e.EFF(20,"Next "),e.k0s(),e.j41(21,"a",14),e.EFF(22,"Reduce Image Size"),e.nrm(23,"i",15),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("successMessage",t.successMessage)("errorMessage",t.errorMessage),e.R7$(4),e.Dyx(t.formImageDetails.images),e.R7$(12),e.Y8G("disabled",!(null!=t.journey.extendedDetails&&null!=t.journey.extendedDetails.imagesDetails&&t.journey.extendedDetails.imagesDetails.images))}}let kt=(()=>{class o{constructor(t,i){this.journeyService=t,this.modelService=i,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formImageDetails=new v.bV}ngOnInit(){this.journey?.extendedDetails?.imagesDetails&&(this.formImageDetails=this.journey.extendedDetails.imagesDetails)}addImage(t){this.formImageDetails.images.push(new v.Fk(t.secure_url,t.asset_id))}removeImageAndSaveJourney(t){const i=this.formImageDetails.images.indexOf(t);i>=0&&(this.formImageDetails.images.splice(i,1),this.save())}getWidgetParams(t,i){return{cloudName:A.c.cloudName,uploadPreset:A.c.cloudinaryPreset,folder:`${A.c.cloudBaseDir}/${t.id}`,tags:t.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:"dev",id:`${t.id}`},cropping:!i,showAdvancedOptions:!0,multiple:i}}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage="Image Details saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}save(){this.journeyService.saveJourneyImagesDetails(this.journey,this.formImageDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving images data",t)})}openUploadWidget(t=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey,t),(i,n)=>{!i&&n&&"success"===n.event&&this.addImage(n.info),!i&&n&&"close"===n.event&&this.save()}).open()}openImageItem(t){const i=this.modelService.open(Et,{animation:!0,size:"lg",backdrop:!0,centered:!0,scrollable:!0});i.componentInstance.imageItem=t,i.result.then(n=>{if(n&&"object"==typeof n){let r=this.journey.extendedDetails?.imagesDetails?.images?.find(l=>l.assetId==n.assertId);Object.assign(r??{},n)}else if("string"==typeof n){const r=this.journey.extendedDetails?.imagesDetails?.images?.findIndex(l=>l.assetId==n);r&&r>-1&&this.journey.extendedDetails?.imagesDetails?.images.splice(r,1)}this.save()},n=>{console.log("Update cancelled, reason:",n)})}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(j.K),e.rXU(B.Bq))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-images-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","image-thumbnail-wrapper"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center","align-items-end"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-folder-plus","fs-5"],[1,"ms-2"],[1,"bi","bi-file-earmark-binary","fs-5"],["type","button","matStepperNext","",1,"btn","btn-outline-primary",3,"disabled"],["role","link","routerLink","/tools","target","_blank",1,"text-decoration-none"],[1,"bi","bi-box-arrow-up-right","ms-1"],[1,"m-2","image-thumbnail-wrapper",3,"click"],[1,"img-thumbnail","rounded","border","border-2","border-opacity-75","h-60-px","w-90-px",3,"src","alt","title","ngClass"]],template:function(i,n){1&i&&e.DNE(0,It,24,3,"form",0),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[M.k,s.YN,s.qT,s.cb,s.cV,u.bT,R,u.YU,$.Wk],styles:[".image-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative;cursor:pointer}.btn-image-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}.img-thumbnail[_ngcontent-%COMP%]{object-fit:fill}"]})}return o})(),Ft=0;const pe="mat-badge-content",G=new Set;let Tt=(()=>{class o{static#e=this.\u0275fac=function(i){return new(i||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["ng-component"]],standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(i,n){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color);color:var(--mat-badge-text-color);font-family:var(--mat-badge-text-font);font-weight:var(--mat-badge-text-weight);border-radius:var(--mat-badge-container-shape)}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color);color:var(--mat-badge-disabled-state-text-color)}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, unset);min-height:var(--mat-badge-small-size-container-size, unset);line-height:var(--mat-badge-legacy-small-size-container-size, var(--mat-badge-small-size-container-size));padding:var(--mat-badge-small-size-container-padding);font-size:var(--mat-badge-small-size-text-size);margin:var(--mat-badge-small-size-container-offset)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, unset);min-height:var(--mat-badge-container-size, unset);line-height:var(--mat-badge-legacy-container-size, var(--mat-badge-container-size));padding:var(--mat-badge-container-padding);font-size:var(--mat-badge-text-size);margin:var(--mat-badge-container-offset)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, unset);min-height:var(--mat-badge-large-size-container-size, unset);line-height:var(--mat-badge-legacy-large-size-container-size, var(--mat-badge-large-size-container-size));padding:var(--mat-badge-large-size-container-padding);font-size:var(--mat-badge-large-size-text-size);margin:var(--mat-badge-large-size-container-offset)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset)}"],encapsulation:2,changeDetection:0})}return o})(),St=(()=>{class o{get color(){return this._color}set color(t){this._setColor(t),this._color=t}get content(){return this._content}set content(t){this._updateRenderedContent(t)}get description(){return this._description}set description(t){this._updateDescription(t)}constructor(t,i,n,r,l){this._ngZone=t,this._elementRef=i,this._ariaDescriber=n,this._renderer=r,this._animationMode=l,this._color="primary",this.overlap=!0,this.position="above after",this.size="medium",this._id=Ft++,this._isInitialized=!1,this._interactivityChecker=(0,e.WQX)(D.Z7),this._document=(0,e.WQX)(u.qQ);const m=(0,e.WQX)(e.o8S);if(!G.has(m)){G.add(m);const J=(0,e.a0P)(Tt,{environmentInjector:(0,e.WQX)(e.uvJ)});m.onDestroy(()=>{G.delete(m),0===G.size&&J.destroy()})}}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const t=this._renderer.createElement("span"),i="mat-badge-active";return t.setAttribute("id",`mat-badge-content-${this._id}`),t.setAttribute("aria-hidden","true"),t.classList.add(pe),"NoopAnimations"===this._animationMode&&t.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(t),"function"==typeof requestAnimationFrame&&"NoopAnimations"!==this._animationMode?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{t.classList.add(i)})}):t.classList.add(i),t}_updateRenderedContent(t){const i=`${t??""}`.trim();this._isInitialized&&i&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=i),this._content=i}_updateDescription(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!t||this._isHostInteractive())&&this._removeInlineDescription(),this._description=t,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,t):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(t){const i=this._elementRef.nativeElement.classList;i.remove(`mat-badge-${this._color}`),t&&i.add(`mat-badge-${t}`)}_clearExistingBadges(){const t=this._elementRef.nativeElement.querySelectorAll(`:scope > .${pe}`);for(const i of Array.from(t))i!==this._badgeElement&&i.remove()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(e.SKi),e.rXU(e.aKT),e.rXU(D.vr),e.rXU(e.sFG),e.rXU(e.bc$,8))};static#t=this.\u0275dir=e.FsC({type:o,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(i,n){2&i&&e.AVh("mat-badge-overlap",n.overlap)("mat-badge-above",n.isAbove())("mat-badge-below",!n.isAbove())("mat-badge-before",!n.isAfter())("mat-badge-after",n.isAfter())("mat-badge-small","small"===n.size)("mat-badge-medium","medium"===n.size)("mat-badge-large","large"===n.size)("mat-badge-hidden",n.hidden||!n.content)("mat-badge-disabled",n.disabled)},inputs:{color:[e.Mj6.None,"matBadgeColor","color"],overlap:[e.Mj6.HasDecoratorInputTransform,"matBadgeOverlap","overlap",e.L39],disabled:[e.Mj6.HasDecoratorInputTransform,"matBadgeDisabled","disabled",e.L39],position:[e.Mj6.None,"matBadgePosition","position"],content:[e.Mj6.None,"matBadge","content"],description:[e.Mj6.None,"matBadgeDescription","description"],size:[e.Mj6.None,"matBadgeSize","size"],hidden:[e.Mj6.HasDecoratorInputTransform,"matBadgeHidden","hidden",e.L39]},standalone:!0,features:[e.GFd]})}return o})();const Rt=(o,a)=>a.videoId;function Bt(o,a){if(1&o){const t=e.RV6();e.j41(0,"div",11)(1,"button",15),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.removeVideoAndSaveJourney(n))}),e.k0s(),e.nrm(2,"img",16),e.k0s()}if(2&o){const t=a.$implicit;e.R7$(2),e.Y8G("src","https://img.youtube.com/vi/"+t.videoId+"/0.jpg",e.B4B)("alt",t.videoId)("title",t.videoId)}}function Gt(o,a){1&o&&(e.j41(0,"p",12),e.EFF(1,"No Videos available for the journey"),e.k0s())}function Nt(o,a){if(1&o){const t=e.RV6();e.j41(0,"form",null,0)(2,"div",3)(3,"div",4),e.nrm(4,"app-feedback-message",5),e.k0s()(),e.j41(5,"div",6)(6,"div",4)(7,"div",7),e.nrm(8,"input",8,1),e.j41(10,"button",9),e.bIt("click",function(){e.eBV(t);const n=e.sdS(9);return e.XpG().addVideo(n.value),e.Njj(n.value="")}),e.EFF(11,"Add "),e.k0s()()()(),e.j41(12,"div",6)(13,"div",4)(14,"div",10),e.Z7z(15,Bt,3,3,"div",11,Rt),e.DNE(17,Gt,2,0,"p",12),e.k0s()()(),e.j41(18,"div",6)(19,"div",13)(20,"button",14),e.EFF(21,"Next"),e.k0s()()()()}if(2&o){const t=e.XpG();e.R7$(4),e.Y8G("successMessage",t.successMessage)("errorMessage",t.errorMessage),e.R7$(11),e.Dyx(t.formVideosDetails.videos),e.R7$(2),e.vxM(17,t.formVideosDetails.videos.length?-1:17)}}let Jt=(()=>{class o{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.formVideosDetails=new v.BR}ngOnInit(){this.journey?.extendedDetails?.videosDetails&&(this.formVideosDetails=this.journey.extendedDetails.videosDetails)}addVideo(t){this.formVideosDetails.videos.push(new v.Vn(t)),this.save()}removeVideoAndSaveJourney(t){const i=this.formVideosDetails.videos.indexOf(t);i>=0&&(this.formVideosDetails.videos.splice(i,1),this.save())}save(){this.journeyService.saveJourneyVideosDetails(this.journey,this.formVideosDetails).subscribe({next:t=>this.onUpdateSuccess(t),error:t=>this.onError("Unexpected error while saving videos data",t)})}onUpdateSuccess(t){this.successMessage="Video Details saved successfully.",this.journey=t,this.savedEvent.emit(this.journey)}onError(t,i){this.errorMessage=t,console.error(i)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["videoInput",""],[4,"ngIf"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],[1,"input-group","mb-3"],["type","text","placeholder","YouTube Video ID","aria-label","YouTube Video ID","aria-describedby","addVideo",1,"form-control"],["type","button","id","addVideo",1,"btn","btn-outline-primary",3,"click"],[1,"d-flex","mb-3","flex-wrap"],[1,"m-2","video-thumbnail-wrapper"],[1,"text-primary","fst-italic","opacity-50"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button","matStepperNext","",1,"btn","btn-outline-primary"],["type","button","aria-label","Close","matBadge","x","matBadgePosition","below after","matBadgeColor","warn","matBadgeSize","small",1,"btn-video-remove",3,"click"],[1,"video-thumbnail","rounded","border","border-2","border-opacity-50","border-primary","h-200-px","w-200-px",3,"src","alt","title"]],template:function(i,n){1&i&&e.DNE(0,Nt,22,3,"form",2),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[M.k,s.YN,s.qT,s.cb,s.cV,u.bT,s.X1,R,St],styles:[".video-thumbnail-wrapper[_ngcontent-%COMP%]{position:relative}.btn-video-remove[_ngcontent-%COMP%]{position:absolute;right:0;border:none;background:transparent}"]})}return o})();var N=d(6467),me=d(2798);const wt=(o,a)=>a.assetId;function Vt(o,a){1&o&&(e.j41(0,"mat-error"),e.EFF(1,"Please choose visibility"),e.k0s())}function zt(o,a){1&o&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Xt(o,a){1&o&&(e.j41(0,"mat-icon",30),e.EFF(1,"cancel"),e.k0s())}function At(o,a){1&o&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function $t(o,a){1&o&&(e.j41(0,"mat-icon",30),e.EFF(1,"cancel"),e.k0s())}function Ot(o,a){1&o&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Pt(o,a){1&o&&(e.j41(0,"mat-icon",30),e.EFF(1,"cancel"),e.k0s())}function Yt(o,a){1&o&&(e.EFF(0," Basic Details "),e.j41(1,"mat-icon",19),e.EFF(2,"check_circle"),e.k0s())}function Ut(o,a){1&o&&(e.j41(0,"mat-icon",30),e.EFF(1,"cancel"),e.k0s())}function Ht(o,a){if(1&o&&(e.j41(0,"option",24),e.EFF(1),e.k0s()),2&o){const t=a.$implicit;e.Y8G("value",t.url),e.R7$(),e.JRh(t.assetId)}}function Lt(o,a){if(1&o&&(e.j41(0,"div",31),e.nrm(1,"img",32),e.k0s()),2&o){e.XpG();const t=e.sdS(47);e.R7$(),e.Y8G("src",t.value,e.B4B)("alt",t.value)}}function Qt(o,a){if(1&o){const t=e.RV6();e.j41(0,"form",4,0),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.sdS(1),r=e.XpG();return e.Njj(r.publish(n))}),e.j41(2,"div",5)(3,"div",6),e.nrm(4,"app-feedback-message",7),e.k0s()(),e.j41(5,"div",8)(6,"div",6)(7,"mat-form-field",9)(8,"mat-label"),e.EFF(9,"Visibility"),e.k0s(),e.j41(10,"mat-select",10,1),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.visibilities,n)||(r.journey.visibilities=n),e.Njj(n)}),e.j41(12,"mat-option",11),e.EFF(13,"MYSELF"),e.k0s(),e.j41(14,"mat-option",12),e.EFF(15,"ADMINISTRATOR"),e.k0s(),e.j41(16,"mat-option",13),e.EFF(17,"MAINTAINER"),e.k0s(),e.j41(18,"mat-option",14),e.EFF(19,"AUTHENTICATED_USER"),e.k0s(),e.j41(20,"mat-option",15),e.EFF(21,"GUEST"),e.k0s()(),e.DNE(22,Vt,2,0,"mat-error"),e.k0s()()(),e.j41(23,"div",8)(24,"div",16)(25,"ul",17)(26,"li",18),e.EFF(27,"Basic Details "),e.DNE(28,zt,3,0,"mat-icon",19)(29,Xt,2,0),e.k0s(),e.j41(30,"li",18),e.EFF(31,"Geo Details "),e.DNE(32,At,3,0,"mat-icon",19)(33,$t,2,0),e.k0s(),e.j41(34,"li",18),e.EFF(35,"Images Details "),e.DNE(36,Ot,3,0,"mat-icon",19)(37,Pt,2,0),e.k0s(),e.j41(38,"li",18),e.EFF(39,"Videos Details "),e.DNE(40,Yt,3,0,"mat-icon",19)(41,Ut,2,0),e.k0s()()(),e.j41(42,"div",20)(43,"div",21)(44,"label",22),e.EFF(45,"Thumbnail"),e.k0s(),e.j41(46,"select",23,2),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.journey.thumbnail,n)||(r.journey.thumbnail=n),e.Njj(n)}),e.j41(48,"option",24),e.EFF(49,"Default"),e.k0s(),e.Z7z(50,Ht,2,2,"option",24,wt),e.k0s()(),e.DNE(52,Lt,2,2,"div",25),e.k0s()(),e.j41(53,"div",26)(54,"div",27)(55,"button",28),e.bIt("click",function(){e.eBV(t);const n=e.sdS(1),r=e.XpG();return e.Njj(r.save(n))}),e.EFF(56," Save as Draft "),e.k0s(),e.j41(57,"button",29),e.EFF(58," Publish "),e.k0s()()()()}if(2&o){const t=e.sdS(1),i=e.sdS(11),n=e.sdS(47),r=e.XpG();e.R7$(4),e.Y8G("successMessage",r.successMessage)("errorMessage",r.errorMessage),e.R7$(6),e.R50("ngModel",r.journey.visibilities),e.R7$(2),e.Y8G("disabled",!0),e.R7$(2),e.Y8G("disabled",!0),e.R7$(8),e.vxM(22,i.hasError("required")?22:-1),e.R7$(6),e.vxM(28,r.isBasicDetailsAvailableAndValid()?28:29),e.R7$(4),e.vxM(32,r.isGeoJsonAvailable()?32:33),e.R7$(4),e.vxM(36,r.isImagesDetailsAvailable()?36:37),e.R7$(4),e.vxM(40,r.isVideosDetailsAvailable()?40:41),e.R7$(6),e.R50("ngModel",r.journey.thumbnail),e.R7$(2),e.Y8G("value",r.DEFAULT_THUMBNAIL),e.R7$(2),e.Dyx(null==r.journey.extendedDetails||null==r.journey.extendedDetails.imagesDetails?null:r.journey.extendedDetails.imagesDetails.images),e.R7$(2),e.Y8G("ngIf",n.value&&"default"!=n.value),e.R7$(3),e.Y8G("disabled",!t.form.valid),e.R7$(2),e.Y8G("disabled",!t.form.valid)}}let Zt=(()=>{class o{constructor(t){this.journeyService=t,this.savedEvent=new e.bkB,this.successMessage="",this.errorMessage="",this.DEFAULT_THUMBNAIL=v.fX}isBasicDetailsAvailableAndValid(){return""!=this.journey.id&&""!=this.journey.name&&""!=this.journey.title&&""!=this.journey.description&&""!=this.journey.city&&""!=this.journey.country&&""!=this.journey.journeyDate&&""!=this.journey.category&&this.journey.tags?.length>0&&null!=this.journey.location}isGeoJsonAvailable(){return null!=this.journey.extendedDetails?.geoDetails?.geoJson}isImagesDetailsAvailable(){return null!=this.journey.extendedDetails?.imagesDetails?.images&&this.journey.extendedDetails.imagesDetails.images.length>0}isVideosDetailsAvailable(){return null!=this.journey.extendedDetails?.videosDetails?.videos&&this.journey.extendedDetails.videosDetails.videos.length>0}publish(t){console.debug("submitted form:",t),this.journey.isPublished=!0,this.journeyService.publishJourney(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)})}save(t){t.valid&&(this.journey.isPublished=!1,this.journeyService.publishJourney(this.journey).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)}))}onError(t,i){this.errorMessage=t,console.error(i)}onUpdateSuccess(t){this.successMessage=t.isPublished?"Journey published successfully.":"Journey saved successfully",this.journey=t,this.savedEvent.emit(this.journey)}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU(j.K))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:"journey"},outputs:{savedEvent:"saved"},standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["thumbnail","ngModel"],[3,"ngSubmit",4,"ngIf"],[3,"ngSubmit"],[1,"row","mb-3"],[1,"col-12"],[3,"successMessage","errorMessage"],[1,"row"],["color","primary",1,"w-100","ignore-highlight"],["id","visibilities","name","visibilities","multiple","","required","",1,"ignore-highlight",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR",3,"disabled"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"col-12","col-md-4"],[1,"list-group"],[1,"list-group-item","list-group-item-action"],["color","primary",1,"float-end"],[1,"col-12","col-md-8","mt-2","mt-md-0"],[1,"input-group","mb-3"],["for","thumbnail",1,"input-group-text"],["id","thumbnail","name","thumbnail",1,"form-select",3,"ngModelChange","ngModel"],[3,"value"],["class","text-center",4,"ngIf"],[1,"row","mt-3"],[1,"col-12","d-grid","gap-2","d-flex","justify-content-center"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],["type","submit",1,"btn","btn-outline-success",3,"disabled"],["color","warn",1,"float-end"],[1,"text-center"],[1,"journey-thumbnail-img","rounded","border","border-2","border-primary","border-opacity-50","h-200-px","w-200-px",3,"src","alt"]],template:function(i,n){1&i&&e.DNE(0,Qt,59,15,"form",3),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[F.An,s.YN,s.qT,s.xH,s.y7,s.wz,s.BC,s.cb,s.YS,s.vS,s.cV,u.bT,M.k,N.RG,N.rl,N.nJ,N.TL,me.Ve,me.VO,k.wT],styles:[".journey-thumbnail-img[_ngcontent-%COMP%]{width:30rem;height:15rem}"]})}return o})();function Wt(o,a){1&o&&e.EFF(0,"Edit Basic Details")}function Kt(o,a){if(1&o){const t=e.RV6();e.j41(0,"app-edit-journey-basic-data",12),e.bIt("saved",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function qt(o,a){1&o&&e.EFF(0,"Edit Geo Details")}function ei(o,a){if(1&o){const t=e.RV6();e.j41(0,"app-edit-journey-geo-details",12),e.bIt("saved",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ti(o,a){1&o&&e.EFF(0,"Edit Images Details")}function ii(o,a){if(1&o){const t=e.RV6();e.j41(0,"app-edit-journey-images-details",12),e.bIt("saved",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ni(o,a){1&o&&e.EFF(0,"Edit Videos Details")}function oi(o,a){if(1&o){const t=e.RV6();e.j41(0,"app-edit-journey-videos-details",12),e.bIt("saved",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function ri(o,a){1&o&&e.EFF(0,"Publish Journey")}function ai(o,a){if(1&o){const t=e.RV6();e.j41(0,"app-edit-journey-publish-details",12),e.bIt("saved",function(n){e.eBV(t);const r=e.XpG(2);return e.Njj(r.savedEventHandler(n))}),e.k0s()}if(2&o){const t=e.XpG(2);e.Y8G("journey",t.journey)}}function si(o,a){if(1&o){const t=e.RV6();e.j41(0,"section",1)(1,"div",2)(2,"div",3)(3,"h4")(4,"span",4),e.EFF(5),e.k0s(),e.j41(6,"button",5),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.viewJourney(n.journey))}),e.nrm(7,"i",6),e.k0s()()()(),e.j41(8,"mat-stepper",7)(9,"mat-step",8),e.DNE(10,Wt,1,0,"ng-template",9)(11,Kt,1,1,"ng-template",10),e.k0s(),e.j41(12,"mat-step",11),e.bIt("interacted",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(n))}),e.DNE(13,qt,1,0,"ng-template",9)(14,ei,1,1,"ng-template",10),e.k0s(),e.j41(15,"mat-step",11),e.bIt("interacted",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(n))}),e.DNE(16,ti,1,0,"ng-template",9)(17,ii,1,1,"ng-template",10),e.k0s(),e.j41(18,"mat-step",11),e.bIt("interacted",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(n))}),e.DNE(19,ni,1,0,"ng-template",9)(20,oi,1,1,"ng-template",10),e.k0s(),e.j41(21,"mat-step",11),e.bIt("interacted",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.stepsEventHandler(n))}),e.DNE(22,ri,1,0,"ng-template",9)(23,ai,1,1,"ng-template",10),e.k0s()()()}if(2&o){const t=e.XpG();e.R7$(5),e.JRh(t.journey.name),e.R7$(3),e.Y8G("linear",!0),e.R7$(),e.Y8G("optional",!1)("completed",t.isBasicDataCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isGeoInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isEventInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isEventInfoCollected()),e.R7$(3),e.Y8G("optional",!1)("completed",t.isJourneyPublished())}}let li=(()=>{class o{constructor(t,i,n){this.route=t,this.journeyService=i,this.router=n}ngOnInit(){this.fetchJourney()}stepsEventHandler(t){this.fetchJourney()}savedEventHandler(t){this.journey=t}fetchJourney(){this.route.paramMap.pipe((0,V.n)(t=>this.journeyService.getJourneyById(t.get("id")))).subscribe({next:t=>this.journey=t,error:t=>console.error(t)})}isBasicDataCollected(){return""!=this.journey.id}isGeoInfoCollected(){return""!=this.journey.id}isEventInfoCollected(){return""!=this.journey.id}isJourneyPublished(){return""!=this.journey.id}viewJourney(t){this.router.navigate(["/journey",t.id,"view"]).then()}static#e=this.\u0275fac=function(i){return new(i||o)(e.rXU($.nX),e.rXU(j.K),e.rXU($.Ix))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-edit-journey"]],standalone:!0,features:[e.aNF],decls:1,vars:1,consts:[["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"row","m-2"],[1,"col-12"],[1,"gradient-text","me-1"],["type","button","title","View Journey",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-eye-fill"],["orientation","vertical",3,"linear"],["color","primary",3,"optional","completed"],["matStepLabel",""],["matStepContent",""],[3,"interacted","optional","completed"],[3,"saved","journey"]],template:function(i,n){1&i&&e.DNE(0,si,24,12,"section",0),2&i&&e.Y8G("ngIf",n.journey)},dependencies:[le,se,vt,jt,kt,T,ae,Jt,Zt,u.bT]})}return o})()}}]);