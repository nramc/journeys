"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[94],{6094:(S,m,i)=>{i.r(m),i.d(m,{HomeComponent:()=>N});var e=i(4438),d=i(676),g=i(4016),p=i(177),c=i(2525),f=i(8498),F=i(6354),v=i(8750),y=i(9974),h=i(4360);function u(n,a){return a?t=>t.pipe(u((o,r)=>(0,v.Tg)(n(o,r)).pipe((0,F.T)((s,l)=>a(o,s,r,l))))):(0,y.N)((t,o)=>{let r=0,s=null,l=!1;t.subscribe((0,h._)(o,V=>{s||(s=(0,h._)(o,void 0,()=>{s=null,l&&o.complete()}),(0,v.Tg)(n(V,r++)).subscribe(s))},()=>{l=!0,!s&&o.complete()}))})}var E=i(3028),I=i(9079),j=i(5608),C=i(4486),x=i(1626);let D=(()=>{class n{constructor(t){this.httpClient=t}getVersion(){return this.httpClient.get(c.c.journeyApi+"/version")}static#e=this.\u0275fac=function(o){return new(o||n)(e.KVO(x.Qq))};static#t=this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R=i(7508);function A(n,a){if(1&n&&(e.j41(0,"div",9)(1,"p"),e.EFF(2,"Welcome "),e.j41(3,"strong",10),e.EFF(4),e.k0s(),e.EFF(5,"..!,"),e.k0s(),e.j41(6,"p",11),e.EFF(7,"Never lose track of a travel memory again. "),e.j41(8,"a",12),e.EFF(9," Create Journey to store your trips, photos, and stories - forever! "),e.nrm(10,"i",13),e.k0s()(),e.j41(11,"p",14),e.EFF(12," Don't miss out! Relive the magic - See Upcoming "),e.j41(13,"a",15),e.EFF(14,"Journiversaries (Journey + Anniversaries) "),e.nrm(15,"i",13),e.k0s()()()),2&n){const t=e.XpG().ngIf;e.R7$(4),e.JRh(t.name)}}function G(n,a){if(1&n&&(e.j41(0,"section",6)(1,"div",7),e.DNE(2,A,16,1,"div",8),e.k0s()()),2&n){const t=a.ngIf;e.R7$(2),e.Y8G("ngIf",t.isAuthenticated)}}function T(n,a){if(1&n&&(e.j41(0,"section",6)(1,"div",7)(2,"div",16)(3,"div",17),e.nrm(4,"app-timeline",18),e.k0s()()()()),2&n){const t=e.XpG();e.R7$(4),e.Y8G("data",t.timelineData)}}function H(n,a){1&n&&(e.j41(0,"div",7)(1,"div",19)(2,"div",20)(3,"span",21),e.EFF(4,"Loading..."),e.k0s()(),e.j41(5,"p",22),e.EFF(6,"Warming up the chrono-engine! (Backend server too!)"),e.k0s(),e.j41(7,"p",23),e.EFF(8," It'll be ready for temporal displacement in a minute or two. "),e.nrm(9,"br"),e.EFF(10," In the meantime, why not explore the space-time continuum of our other pages? "),e.k0s()()())}let N=(()=>{class n{constructor(t,o,r,s){this.authService=t,this.bffService=o,this.activatedRoute=r,this.timelineService=s,this.HOME_PAGE_INFO=d.D7,this.appVersion=c.c.version,this.bffApiVersion="CHECKING",this.destroyRef=(0,e.WQX)(e.abz)}ngOnInit(){this.activatedRoute.params.pipe(u(t=>this.bffService.getVersion())).subscribe({next:t=>this.bffApiVersion="v"+t.version,error:t=>{console.error(t),this.bffApiVersion="NOT_AVAILABLE"}}),this.authService.getUserContext().pipe((0,I.pQ)(this.destroyRef),(0,E.Z)(t=>this.timelineService.getTimelineForToday())).subscribe({next:t=>this.timelineData=t,error:t=>console.error(t)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.rXU(C.u),e.rXU(D),e.rXU(f.nX),e.rXU(R.h))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-home"]],standalone:!0,features:[e.aNF],decls:13,vars:8,consts:[[3,"pageInfo"],["class","container",4,"ngIf"],[1,"container","footer-section"],["class","row",4,"ngIf"],[1,"fixed-bottom","m-auto","text-primary","text-center","align-items-center","justify-content-center","align-content-center"],[1,"text-light-emphasis","ms-2","small"],[1,"container"],[1,"row"],["class","col-12 text-primary",4,"ngIf"],[1,"col-12","text-primary"],[1,"gradient-text"],[1,"small"],["routerLink","/journey/new","role","link",1,""],[1,"bi","bi-arrow-right-circle-fill"],[1,"text-primary","small"],["routerLink","/timeline","role","link",1,""],[1,"col-12","d-flex","flex-row"],[1,"col",2,"height","50vh"],[3,"data"],[1,"col-12","text-center","m-1"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden","text-primary"],[1,"text-primary"],[1,"text-primary","small","opacity-75"]],template:function(o,r){1&o&&(e.nrm(0,"app-page-header",0),e.DNE(1,G,3,1,"section",1),e.nI1(2,"async"),e.DNE(3,T,5,1,"section",1),e.j41(4,"section",2),e.DNE(5,H,11,0,"div",3),e.j41(6,"footer",4)(7,"span",5)(8,"small"),e.EFF(9),e.k0s()(),e.j41(10,"span",5)(11,"small"),e.EFF(12),e.k0s()()()()),2&o&&(e.Y8G("pageInfo",r.HOME_PAGE_INFO),e.R7$(),e.Y8G("ngIf",e.bMT(2,6,r.authService.getUserContext())),e.R7$(2),e.Y8G("ngIf",r.timelineData&&(null==r.timelineData||null==r.timelineData.images?null:r.timelineData.images.length)),e.R7$(2),e.Y8G("ngIf","CHECKING"==r.bffApiVersion),e.R7$(4),e.SpI("GUI : v",r.appVersion,""),e.R7$(3),e.SpI("BFF : ",r.bffApiVersion,""))},dependencies:[g.y,p.Jj,p.bT,j.D,f.Wk]})}return n})()}}]);