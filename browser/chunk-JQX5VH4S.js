import{a as R,b as M}from"./chunk-YTLVXQ6Y.js";import{a as O}from"./chunk-ZOU6NFRL.js";import"./chunk-TYTFNCOD.js";import{a as N}from"./chunk-W7UIEDRV.js";import"./chunk-RGNDWIHZ.js";import"./chunk-4IQHS33H.js";import{a as F}from"./chunk-ODW3Q5FM.js";import{a as v,b as w}from"./chunk-JLYNBBLC.js";import{c as T,j as V,m as k}from"./chunk-W2LWCVAC.js";import{r as D,w as H}from"./chunk-RZVCQHV5.js";import{B as g,Ib as d,Kb as l,Qa as _,Tb as n,Ub as o,Vb as p,W as x,ec as u,mc as r,nc as E,oa as y,oc as h,pb as m,qb as f,ta as I,tc as b,ua as S,ya as C,yc as A,zc as j}from"./chunk-K63RDP6Q.js";var G=(()=>{let e=class e{constructor(i){this.httpClient=i}getVersion(){return this.httpClient.get(v.journeyApi+"/version")}};e.\u0275fac=function(s){return new(s||e)(I(T))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function B(t,e){if(t&1&&(n(0,"div",9)(1,"p"),r(2,"Welcome "),n(3,"strong",10),r(4),o(),r(5,"..!,"),o(),n(6,"p",11),r(7,"Never lose track of a travel memory again. "),n(8,"a",12),r(9," Create Journey to store your trips, photos, and stories - forever! "),p(10,"i",13),o()(),n(11,"p",14),r(12," Don't miss out! Relive the magic - See Upcoming "),n(13,"a",15),r(14,"Journiversaries (Journey + Anniversaries) "),p(15,"i",13),o()()()),t&2){let c=u().ngIf;m(4),E(c.name)}}function J(t,e){if(t&1&&(n(0,"section",6)(1,"div",7),d(2,B,16,1,"div",8),o()()),t&2){let c=e.ngIf;m(2),l("ngIf",c.isAuthenticated)}}function K(t,e){if(t&1&&(n(0,"section",6)(1,"div",7)(2,"div",16)(3,"div",17),p(4,"app-timeline",18),o()()()()),t&2){let c=u();m(4),l("data",c.timelineData)}}function W(t,e){t&1&&(n(0,"div",7)(1,"div",19)(2,"div",20)(3,"span",21),r(4,"Loading..."),o()(),n(5,"p",22),r(6,"Warming up the chrono-engine! (Backend server too!)"),o(),n(7,"p",23),r(8," It'll be ready for temporal displacement in a minute or two. "),p(9,"br"),r(10," In the meantime, why not explore the space-time continuum of our other pages? "),o()()())}var le=(()=>{let e=class e{constructor(i,s,a,L){this.authService=i,this.bffService=s,this.activatedRoute=a,this.timelineService=L,this.HOME_PAGE_INFO=F,this.appVersion=v.version,this.bffApiVersion="CHECKING",this.destroyRef=S(_)}ngOnInit(){this.activatedRoute.params.pipe(x(i=>this.bffService.getVersion())).subscribe({next:i=>this.bffApiVersion="v"+i.version,error:i=>{console.error(i),this.bffApiVersion="NOT_AVAILABLE"}}),this.authService.getUserContext().pipe(O(this.destroyRef),g(i=>this.timelineService.getTimelineForToday())).subscribe({next:i=>this.timelineData=i,error:i=>console.error(i)})}};e.\u0275fac=function(s){return new(s||e)(f(w),f(G),f(V),f(M))},e.\u0275cmp=C({type:e,selectors:[["app-home"]],standalone:!0,features:[b],decls:13,vars:8,consts:[[3,"pageInfo"],["class","container",4,"ngIf"],[1,"container","footer-section"],["class","row",4,"ngIf"],[1,"fixed-bottom","m-auto","text-primary","text-center","align-items-center","justify-content-center","align-content-center"],[1,"text-light-emphasis","ms-2","small"],[1,"container"],[1,"row"],["class","col-12 text-primary",4,"ngIf"],[1,"col-12","text-primary"],[1,"gradient-text"],[1,"small"],["routerLink","/journey/new","role","link",1,""],[1,"bi","bi-arrow-right-circle-fill"],[1,"text-primary","small"],["routerLink","/timeline","role","link",1,""],[1,"col-12","d-flex","flex-row"],[1,"col",2,"height","50vh"],[3,"data"],[1,"col-12","text-center","m-1"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden","text-primary"],[1,"text-primary"],[1,"text-primary","small","opacity-75"]],template:function(s,a){s&1&&(p(0,"app-page-header",0),d(1,J,3,1,"section",1),A(2,"async"),d(3,K,5,1,"section",1),n(4,"section",2),d(5,W,11,0,"div",3),n(6,"footer",4)(7,"span",5)(8,"small"),r(9),o()(),n(10,"span",5)(11,"small"),r(12),o()()()()),s&2&&(l("pageInfo",a.HOME_PAGE_INFO),m(),l("ngIf",j(2,6,a.authService.getUserContext())),m(2),l("ngIf",a.timelineData&&(a.timelineData==null||a.timelineData.images==null?null:a.timelineData.images.length)),m(2),l("ngIf",a.bffApiVersion=="CHECKING"),m(4),h("GUI : v",a.appVersion,""),m(3),h("BFF : ",a.bffApiVersion,""))},dependencies:[N,H,D,R,k]});let t=e;return t})();export{le as HomeComponent};
