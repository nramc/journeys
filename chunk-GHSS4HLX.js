import{a as Ce,b as xe}from"./chunk-YLMLV73O.js";import{a as Pt,b as Rt,c as Lt,d as Wt,e as ne,g as re,h as At}from"./chunk-2MPTR7ZK.js";import"./chunk-5CGMKHPA.js";import{a as Bt,b as qt}from"./chunk-XROGAU5X.js";import"./chunk-V5RK4ZFA.js";import"./chunk-IEG73IAL.js";import{a as Ut}from"./chunk-AJPZBW37.js";import{a as It,b as Mt,c as St,d as kt}from"./chunk-7Q7KFL6D.js";import"./chunk-7RRYVW7Z.js";import{c as ve}from"./chunk-O5U4W7AK.js";import"./chunk-MV4AEHJH.js";import"./chunk-X5CAK6QN.js";import{a as Ot}from"./chunk-MFYLLVXB.js";import"./chunk-ZNGQLO3Y.js";import{a as be}from"./chunk-D2BHERBO.js";import"./chunk-YAN4QSMW.js";import"./chunk-ZXYR6PBL.js";import{a as ht}from"./chunk-RUSKA3BB.js";import{b as Nt}from"./chunk-MF5VF6HO.js";import{a as Jt,b as je,c as Vt,d as Ge,e as Fe,f as se,g as Ne,h as jt,i as W}from"./chunk-UGH5MF6Q.js";import{a as Ft}from"./chunk-E7Z5KKUE.js";import{a as X}from"./chunk-37VIBACY.js";import{b as K,c as q}from"./chunk-M74F7FOJ.js";import{a as O,b as oe,c as ye,f as A,g as B}from"./chunk-YC3KMESZ.js";import"./chunk-XOGMMBEO.js";import"./chunk-XGCQEQWX.js";import"./chunk-2NNL6LPC.js";import"./chunk-7B2XB3GF.js";import{a as bt,b as ee,g as Y,h as N,i as P,j as Z,k as R,l as yt,n as vt,o as Ct,p as te,r as xt,s as Et,u as J,v as wt}from"./chunk-CY4KTKAJ.js";import{a as ie}from"./chunk-THLS4DYU.js";import{b as ut}from"./chunk-D22SR3MY.js";import{k as Gt}from"./chunk-K76EUE7G.js";import"./chunk-AAVN2GU7.js";import{a as T,b as G}from"./chunk-OMGPJQVT.js";import{c as gt,d as ft,e as Dt,g as L,h as F,i as Tt,j as V}from"./chunk-AXFFOUUB.js";import{D as Ve,g as ct,j as mt,r as pt,t as _t}from"./chunk-GSBQVZFY.js";import{a as lt,c as he,d as st}from"./chunk-YZBIOJLP.js";import{s as dt}from"./chunk-SWPVFP3X.js";import{$c as at,Aa as Me,Ab as Qe,Ba as qe,Bc as d,Cc as ge,Db as z,Dc as it,Ea as D,Fc as C,Gc as x,Hc as E,Ic as ot,J as We,Kc as nt,La as Se,Pb as ke,Qb as f,Rb as h,Sb as ue,Tb as H,Ub as Q,Vb as p,Wb as n,Wc as le,Xb as r,Xc as rt,Yb as j,Zc as fe,a as S,b as k,bd as M,cd as Te,ec as v,fb as me,ga as Oe,hd as U,ia as Ae,id as Je,jb as l,jc as g,ka as Ie,ma as b,mc as m,nc as Ye,ob as Ue,oc as Ze,pc as Ke,qc as Xe,rb as ze,rc as pe,sa as s,sc as _e,ta as c,uc as $e,vc as et,wa as Be,wc as w,xc as tt,yb as I,yc as de,zb as He}from"./chunk-LCXKQEMN.js";function ti(o,u){o&1&&(n(0,"mat-error"),d(1,"Longitude is required."),r())}function ii(o,u){o&1&&(n(0,"mat-error"),d(1," Longitude must be between -180.0 and 180.0. "),r())}function oi(o,u){o&1&&(n(0,"mat-error"),d(1,"Latitude is required."),r())}function ni(o,u){o&1&&(n(0,"mat-error"),d(1," Latitude must be between -90.0 and 90.0. "),r())}var zt=(()=>{class o{constructor(){this.location=M(),this._location=D({type:"Point",coordinates:[]}),this.disabled=M(!1),this.location$=ut(this.location).pipe(We(e=>e?.coordinates!=null&&e.coordinates.length==2)),this.location$.subscribe(e=>{console.log(e),this._location.update(i=>k(S({},i),{coordinates:e.coordinates}))})}pasteClipboardCoordinates(){navigator.clipboard.readText().then(e=>{if(console.debug("Value copied from clipboard:",e),e&&e.split(",").length==2){let i=e.split(",");this._location.update(t=>k(S({},t),{coordinates:[Number(i[0]),Number(i[1])]})),this.fireChangeEvent()}})}pasteClipboardGoogleCoordinates(){navigator.clipboard.readText().then(e=>{if(console.debug("Value copied from clipboard:",e),e&&e.split(",").length==2){let i=e.split(",");this._location.update(t=>k(S({},t),{coordinates:[Number(i[1]),Number(i[0])]})),this.fireChangeEvent()}})}fireChangeEvent(){this._location().coordinates.filter(e=>e!==null).length==2&&(this.location.update(e=>({type:"Point",coordinates:this._location().coordinates})),console.log("fireChangeEvent:",this.location()))}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-geo-location"]],inputs:{location:[1,"location"],disabled:[1,"disabled"]},outputs:{location:"locationChange",disabled:"disabledChange"},decls:24,vars:10,consts:[["longitude","ngModel"],["latitude","ngModel"],["pasteMenu","matMenu"],[1,"flex","items-center","gap-2","mt-2"],["appearance","outline",1,"w-1/2"],["matInput","","type","number","placeholder","Longitude","aria-label","Longitude","required","","min","-180","max","180",3,"ngModelChange","change","ngModel","readOnly"],["matInput","","type","number","placeholder","Latitude","aria-label","Latitude","required","","min","-90","max","90",3,"ngModelChange","change","ngModel","readOnly"],["mat-icon-button","","matTooltip","Paste Options","type","button",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click"]],template:function(i,t){if(i&1){let a=v();n(0,"div",3)(1,"mat-form-field",4)(2,"mat-label"),d(3,"Longitude"),r(),n(4,"input",5,0),E("ngModelChange",function(_){return s(a),x(t._location().coordinates[0],_)||(t._location().coordinates[0]=_),c(_)}),g("change",function(){return s(a),c(t.fireChangeEvent())}),r(),f(6,ti,2,0,"mat-error"),f(7,ii,2,0,"mat-error"),r(),n(8,"mat-form-field",4)(9,"mat-label"),d(10,"Latitude"),r(),n(11,"input",6,1),E("ngModelChange",function(_){return s(a),x(t._location().coordinates[1],_)||(t._location().coordinates[1]=_),c(_)}),g("change",function(){return s(a),c(t.fireChangeEvent())}),r(),f(13,oi,2,0,"mat-error"),f(14,ni,2,0,"mat-error"),r(),n(15,"button",7)(16,"mat-icon"),d(17,"content_paste_go"),r()(),n(18,"mat-menu",null,2)(20,"button",8),g("click",function(){return s(a),c(t.pasteClipboardCoordinates())}),d(21," Clipboard "),r(),n(22,"button",8),g("click",function(){return s(a),c(t.pasteClipboardGoogleCoordinates())}),d(23," Clipboard (Copied from Google Map) "),r()()()}if(i&2){let a=w(5),y=w(12),_=w(19);l(4),C("ngModel",t._location().coordinates[0]),p("readOnly",t.disabled()),l(2),h(a.errors!=null&&a.errors.required?6:-1),l(),h(a.errors!=null&&a.errors.min||a.errors!=null&&a.errors.max?7:-1),l(4),C("ngModel",t._location().coordinates[1]),p("readOnly",t.disabled()),l(2),h(y.errors!=null&&y.errors.required?13:-1),l(),h(y.errors!=null&&y.errors.min||y.errors!=null&&y.errors.max?14:-1),l(),p("matMenuTriggerFor",_)("disabled",t.disabled())}},dependencies:[J,ee,yt,Y,te,Ct,vt,Z,be,T,B,A,O,oe,q,K,kt,Mt,It,St,G,V,L],styles:["input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"],changeDetection:0})}}return o})();function ri(o,u){o&1&&(n(0,"p",7)(1,"span",11),d(2,"check_circle"),r(),d(3," GeoJSON valid "),r())}function ai(o,u){o&1&&(n(0,"p",8)(1,"span",11),d(2,"cancel"),r(),d(3," GeoJSON is not valid "),r())}var Ht=(()=>{class o{constructor(){this.geoJson=M(void 0),this.geoJsonString=le(()=>JSON.stringify(this.geoJson(),null,2)),this.isGeoJsonValid=D(!0)}onGeoJsonChange(e){let t=e.target.value;try{let a=JSON.parse(t);a.type==="FeatureCollection"&&(this.geoJson.set(a),this.isGeoJsonValid.set(!0))}catch(a){this.isGeoJsonValid.set(!1),console.error("Invalid GeoJSON:",a)}}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-geo-json"]],inputs:{geoJson:[1,"geoJson"]},outputs:{geoJson:"geoJsonChange"},decls:25,vars:3,consts:[["rawGeoJsonDialog",""],["type","button","mat-raised-button","",1,"w-full",3,"click"],[1,"w-[50%]","h-[75vh]","p-4","rounded-md","shadow-lg","border"],["type","button","mat-icon-button","",1,"float-right",3,"click"],[1,"flex","flex-col","h-full","gap-4"],[1,"text-xl","font-semibold","text-gradient","border-b-2","border-primary"],["placeholder","Paste GeoJSON data here",1,"resize-none","border","rounded-md","p-2","w-full","h-full","font-mono",3,"input","value"],[1,"text-green-600","flex","items-center","gap-2"],[1,"text-red-600","flex","items-center","gap-2"],["href","https://geojson.io/","target","_blank",1,"text-primary","flex","items-center","gap-1"],[1,"underline"],[1,"material-icons"]],template:function(i,t){if(i&1){let a=v();n(0,"section")(1,"button",1),g("click",function(){s(a);let _=w(4);return c(_.showModal())}),d(2," Raw GeoJSON Data "),r(),n(3,"dialog",2,0)(5,"button",3),g("click",function(){s(a);let _=w(4);return c(_.close())}),n(6,"mat-icon"),d(7,"close"),r()(),n(8,"div",4)(9,"h4",5),d(10,"Geo JSON"),r(),n(11,"textarea",6),g("input",function(_){return s(a),c(t.onGeoJsonChange(_))}),d(12,"      "),r(),n(13,"button",1),g("click",function(){s(a);let _=w(4);return c(_.close())}),d(14," Save "),r(),f(15,ri,4,0,"p",7),f(16,ai,4,0,"p",8),n(17,"div")(18,"p"),d(19," Tip: "),n(20,"a",9)(21,"span",10),d(22,"Create GeoJSON"),r(),n(23,"mat-icon"),d(24,"open_in_new"),r()()()()()()()}i&2&&(l(11),p("value",t.geoJsonString()),l(4),h(t.isGeoJsonValid()?15:-1),l(),h(t.isGeoJsonValid()?-1:16))},dependencies:[J,T,V,F,L,q],encapsulation:2})}}return o})();var di=["input"],li=["formField"],si=["*"],we=class{source;value;constructor(u,e){this.source=u,this.value=e}},ci={provide:bt,useExisting:Oe(()=>Re),multi:!0},Qt=new Ie("MatRadioGroup"),mi=new Ie("mat-radio-default-options",{providedIn:"root",factory:()=>({color:"accent",disabledInteractive:!1})}),Re=(()=>{class o{_changeDetector=b(Te);_value=null;_name=b(Ve).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Me;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new we(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(i){return new(i||o)};static \u0275dir=Qe({type:o,selectors:[["mat-radio-group"]],contentQueries:function(i,t,a){if(i&1&&Ke(a,De,5),i&2){let y;pe(y=_e())&&(t._radios=y)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",U],required:[2,"required","required",U],disabledInteractive:[2,"disabledInteractive","disabledInteractive",U]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[nt([ci,{provide:Qt,useExisting:o}])]})}return o})(),De=(()=>{class o{_elementRef=b(Se);_changeDetector=b(Te);_focusMonitor=b(pt);_radioDispatcher=b(ht);_defaultOptions=b(mi,{optional:!0});_ngZone=b(qe);_renderer=b(ze);_uniqueId=b(Ve).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Me;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled=!1;_required=!1;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations=ct();_injector=b(Be);constructor(){b(_t).load(ft);let e=b(Qt,{optional:!0}),i=b(new rt("tabindex"),{optional:!0});this.radioGroup=e,this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,i&&(this.tabIndex=Je(i,0))}focus(e,i){i?this._focusMonitor.focusVia(this._inputElement,i,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,i)=>{e!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new we(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,i;if(!e||!e.selected||this.disabled?i=this.tabIndex:i=e.selected===this?this.tabIndex:-1,i!==this._previousTabIndex){let t=this._inputElement?.nativeElement;t&&(t.setAttribute("tabindex",i+""),this._previousTabIndex=i,Ue(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===t&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===t&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(i){return new(i||o)};static \u0275cmp=I({type:o,selectors:[["mat-radio-button"]],viewQuery:function(i,t){if(i&1&&Xe(di,5)(li,7,Se),i&2){let a;pe(a=_e())&&(t._inputElement=a.first),pe(a=_e())&&(t._rippleTrigger=a.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(i,t){i&1&&g("focus",function(){return t._inputElement.nativeElement.focus()}),i&2&&(ke("id",t.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),de("mat-primary",t.color==="primary")("mat-accent",t.color==="accent")("mat-warn",t.color==="warn")("mat-mdc-radio-checked",t.checked)("mat-mdc-radio-disabled",t.disabled)("mat-mdc-radio-disabled-interactive",t.disabledInteractive)("_mat-animation-noopable",t._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",U],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Je(e)],checked:[2,"checked","checked",U],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",U],required:[2,"required","required",U],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",U]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:si,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,t){if(i&1){let a=v();Ye(),n(0,"div",2,0)(2,"div",3)(3,"div",4),g("click",function(_){return s(a),c(t._onTouchTargetClick(_))}),r(),n(4,"input",5,1),g("change",function(_){return s(a),c(t._onInputInteraction(_))}),r(),n(6,"div",6),j(7,"div",7)(8,"div",8),r(),n(9,"div",9),j(10,"div",10),r()(),n(11,"label",11),Ze(12),r()()}i&2&&(p("labelPosition",t.labelPosition),l(2),de("mdc-radio--disabled",t.disabled),l(2),p("id",t.inputId)("checked",t.checked)("disabled",t.disabled&&!t.disabledInteractive)("required",t.required),ke("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby)("aria-disabled",t.disabled&&t.disabledInteractive?"true":null),l(5),p("matRippleTrigger",t._rippleTrigger.nativeElement)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0),l(2),p("for",t.inputId))},dependencies:[gt,Ot],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-hover-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-pressed-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px);top:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mat-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0);border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),background-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}@media(forced-colors: active){.mat-mdc-radio-button .mdc-radio__inner-circle{background-color:CanvasText !important}}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mat-radio-state-layer-size, 40px);height:var(--mat-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-selected-focus-icon-color, var(--mat-sys-primary, currentColor))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle{background-color:var(--mat-radio-disabled-selected-icon-color, var(--mat-sys-on-surface, currentColor));opacity:var(--mat-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button label{cursor:pointer}.mat-mdc-radio-button label:empty{display:none}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mat-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-radio-touch-target-size, 48px);width:var(--mat-radio-touch-target-size, 48px);transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return o})(),Yt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=He({type:o});static \u0275inj=Ae({imports:[Dt,De,mt]})}return o})();function _i(o,u){o&1&&(n(0,"div"),d(1,"Title is required."),r())}function gi(o,u){o&1&&(n(0,"div"),d(1,"Title must be at least 10 characters long."),r())}function fi(o,u){o&1&&(n(0,"div"),d(1,"Title must be at most 100 characters long."),r())}function hi(o,u){o&1&&(n(0,"div"),d(1,"City is required."),r())}function bi(o,u){o&1&&(n(0,"div"),d(1,"City must be at least 3 characters long."),r())}function yi(o,u){o&1&&(n(0,"div"),d(1,"City must be at most 50 characters long."),r())}function vi(o,u){o&1&&(n(0,"div"),d(1,"Country is required."),r())}function Ci(o,u){o&1&&(n(0,"div"),d(1,"Country must be at least 3 characters long."),r())}function xi(o,u){o&1&&(n(0,"div"),d(1,"Country must be at most 50 characters long."),r())}function Ei(o,u){if(o&1&&(n(0,"mat-option",18),d(1),r()),o&2){let e=u.$implicit;p("value",e),l(),ge(e)}}function wi(o,u){o&1&&(n(0,"div"),d(1,"Category is required."),r())}function Di(o,u){if(o&1){let e=v();n(0,"form",5,0),g("ngSubmit",function(){s(e);let t=w(1),a=m();return c(a.save(t))}),n(2,"div",6)(3,"div",7)(4,"app-world-map",8),g("location",function(t){s(e);let a=m();return c(a.addGeoLocation(t))}),r()(),n(5,"div",9)(6,"div")(7,"app-edit-geo-location",10),E("locationChange",function(t){s(e);let a=m();return x(a.formData.location,t)||(a.formData.location=t),c(t)}),r()(),n(8,"mat-form-field",11)(9,"mat-label"),d(10,"Title"),r(),n(11,"input",12,1),E("ngModelChange",function(t){s(e);let a=m();return x(a.formData.title,t)||(a.formData.title=t),c(t)}),r(),n(13,"button",13),g("click",function(){s(e);let t=m();return c(t.formData.title.set(""))}),n(14,"mat-icon"),d(15,"clear"),r()(),n(16,"mat-error",14),f(17,_i,2,0,"div"),f(18,gi,2,0,"div"),f(19,fi,2,0,"div"),r()(),n(20,"mat-form-field",11)(21,"mat-label"),d(22,"City"),r(),n(23,"input",15,2),E("ngModelChange",function(t){s(e);let a=m();return x(a.formData.city,t)||(a.formData.city=t),c(t)}),r(),n(25,"mat-error",14),f(26,hi,2,0,"div"),f(27,bi,2,0,"div"),f(28,yi,2,0,"div"),r()(),n(29,"mat-form-field",11)(30,"mat-label"),d(31,"Country"),r(),n(32,"input",16,3),E("ngModelChange",function(t){s(e);let a=m();return x(a.formData.country,t)||(a.formData.country=t),c(t)}),r(),n(34,"mat-error",14),f(35,vi,2,0,"div"),f(36,Ci,2,0,"div"),f(37,xi,2,0,"div"),r()(),n(38,"mat-form-field",11)(39,"mat-label"),d(40,"Category"),r(),n(41,"mat-select",17,4),E("ngModelChange",function(t){s(e);let a=m();return x(a.formData.category,t)||(a.formData.category=t),c(t)}),H(43,Ei,2,2,"mat-option",18,ue),r(),n(45,"mat-error",14),f(46,wi,2,0,"div"),r()(),n(47,"div")(48,"app-edit-geo-json",19),E("geoJsonChange",function(t){s(e);let a=m();return x(a.formData.geoJson,t)||(a.formData.geoJson=t),c(t)}),r()(),n(49,"mat-radio-group",20),E("ngModelChange",function(t){s(e);let a=m();return x(a.showMapOption,t)||(a.showMapOption=t),c(t)}),n(50,"mat-radio-button",21),d(51,"Location"),r(),n(52,"mat-radio-button",22),d(53,"GeoJson"),r()()()(),n(54,"div",23)(55,"button",24),d(56,"Save"),r(),n(57,"button",25),d(58,"Next"),r()()()}if(o&2){let e=w(1),i=w(12),t=w(24),a=w(33),y=w(42),_=m();l(4),p("geoJsonData",_.geoJsonData())("iconType",_.formData.category())("enableGeoCoding",!0),l(3),C("location",_.formData.location),l(4),C("ngModel",_.formData.title),p("readOnly",_.isReadOnly()),l(5),p("hidden",i.valid||i.pristine),l(),h(i.errors!=null&&i.errors.required?17:-1),l(),h(i.errors!=null&&i.errors.minlength?18:-1),l(),h(i.errors!=null&&i.errors.maxlength?19:-1),l(4),C("ngModel",_.formData.city),p("readOnly",_.isReadOnly()),l(2),p("hidden",t.valid||t.pristine),l(),h(t.errors!=null&&t.errors.required?26:-1),l(),h(t.errors!=null&&t.errors.minlength?27:-1),l(),h(t.errors!=null&&t.errors.maxlength?28:-1),l(4),C("ngModel",_.formData.country),p("readOnly",_.isReadOnly()),l(2),p("hidden",a.valid||a.pristine),l(),h(a.errors!=null&&a.errors.required?35:-1),l(),h(a.errors!=null&&a.errors.minlength?36:-1),l(),h(a.errors!=null&&a.errors.maxlength?37:-1),l(4),C("ngModel",_.formData.category),p("disabled",_.isReadOnly()),l(2),Q(_.CATEGORIES),l(2),p("hidden",y.valid||y.pristine),l(),h(y.errors!=null&&y.errors.required?46:-1),l(2),C("geoJson",_.formData.geoJson),l(),C("ngModel",_.showMapOption),l(6),p("disabled",!e.form.valid),l(2),p("disabled",!e.form.valid)}}var Zt=(()=>{class o{constructor(){this.CATEGORIES=Bt,this.journeyService=b(W),this.notificationService=b(X),this.journey=M.required(),this.formData={location:D(void 0),title:D(""),city:D(""),country:D(""),category:D(je),geoJson:D(void 0)},this.mode=M(re.EDIT),this.isReadOnly=le(()=>this.mode()===re.VIEW),this.showMapOption=D("Location"),this.geoJsonData=le(()=>this.showMapOption()=="Location"?this.formData.location():this.formData.geoJson())}ngOnInit(){this.copyToForm(this.journey().geoDetails??new Ge)}save(e){console.debug("submitted form:",e),this.journeyService.saveJourneyGeoDetails(this.journey(),this.copyDataFromForm()).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while saving geo data",i)})}onUpdateSuccess(e){this.notificationService.showSuccess("Journey details saved successfully.")}onError(e,i){this.notificationService.showError(e),console.error(i)}copyToForm(e){this.formData.location.set(e.location),this.formData.title.set(e.title),this.formData.city.set(e.city),this.formData.country.set(e.country),this.formData.category.set(e.category||je),this.formData.geoJson.set(e.geoJson)}copyDataFromForm(){return new Ge(this.formData.title(),this.formData.city(),this.formData.country(),this.formData.category(),this.formData.location(),this.formData.geoJson()||this.formData.location())}addGeoLocation(e){this.formData.location.update(i=>e.location??i),this.formData.geoJson.update(i=>e.location??i),this.formData.title.update(i=>i||e.name),this.formData.city.update(i=>e.state??i),this.formData.country.update(i=>e.country??i)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey-geo-details"]],inputs:{journey:[1,"journey"],mode:[1,"mode"]},outputs:{journey:"journeyChange",mode:"modeChange"},decls:2,vars:1,consts:[["journeyForm","ngForm"],["title","ngModel"],["city","ngModel"],["country","ngModel"],["category","ngModel"],[3,"ngSubmit"],[1,"grid","grid-cols-1","md:grid-cols-12","gap-4","mb-6"],[1,"col-span-12","md:col-span-8","relative","min-h-[25vh]"],[1,"h-1/2",3,"location","geoJsonData","iconType","enableGeoCoding"],[1,"col-span-12","md:col-span-4","flex","flex-col","gap-2"],[3,"locationChange","location"],[1,"w-full"],["matInput","","id","title","name","title","required","","maxlength","100","minlength","10","placeholder","Title",3,"ngModelChange","ngModel","readOnly"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[3,"hidden"],["matInput","","id","city","name","city","required","","minlength","3","maxlength","50","placeholder","City or Region",3,"ngModelChange","ngModel","readOnly"],["matInput","","id","country","name","country","required","","minlength","3","maxlength","50","placeholder","Country",3,"ngModelChange","ngModel","readOnly"],["name","category","required","",3,"ngModelChange","ngModel","disabled"],[3,"value"],[3,"geoJsonChange","geoJson"],["name","mapOptions",1,"flex","justify-center","gap-2",3,"ngModelChange","ngModel"],["value","Location"],["value","GeoJson"],[1,"flex","justify-center","gap-2","mt-6"],["mat-flat-button","","type","submit",3,"disabled"],["mat-stroked-button","","type","button","matStepperNext","",3,"disabled"]],template:function(i,t){i&1&&(n(0,"main"),f(1,Di,59,30,"form"),r()),i&2&&(l(),h(t.journey()?1:-1))},dependencies:[J,R,ee,Y,N,te,xt,Et,Z,P,qt,ne,zt,Ht,B,A,O,oe,ye,q,K,xe,Ce,ve,Yt,Re,De,V,F,L,G,T],encapsulation:2,changeDetection:0})}}return o})();function Ii(o,u){if(o&1){let e=v();n(0,"div",0)(1,"div",1)(2,"h6",2),d(3,"Edit Image Details"),r()(),n(4,"div",3)(5,"div",4)(6,"div",5),j(7,"img",6),r(),n(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),d(12,"Image URL"),r(),n(13,"input",10),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().url,t)||(a.imageItem().url=t),c(t)}),r()(),n(14,"mat-form-field",9)(15,"mat-label"),d(16,"Asset ID"),r(),n(17,"input",11),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().assetId,t)||(a.imageItem().assetId=t),c(t)}),r()(),n(18,"mat-form-field",9)(19,"mat-label"),d(20,"Public ID"),r(),n(21,"input",12),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().publicId,t)||(a.imageItem().publicId=t),c(t)}),r()(),n(22,"mat-form-field",9)(23,"mat-label"),d(24,"Title"),r(),n(25,"input",13),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().title,t)||(a.imageItem().title=t),c(t)}),r()(),n(26,"div",14)(27,"mat-checkbox",15),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().isFavorite,t)||(a.imageItem().isFavorite=t),c(t)}),d(28,"Make it my favorite "),r()(),n(29,"mat-form-field",9)(30,"mat-label"),d(31,"Event Date"),r(),n(32,"input",16),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().eventDate,t)||(a.imageItem().eventDate=t),c(t)}),r()(),n(33,"div",14)(34,"mat-checkbox",17),E("ngModelChange",function(t){s(e);let a=m();return x(a.imageItem().isThumbnail,t)||(a.imageItem().isThumbnail=t),c(t)}),d(35,"Make it a thumbnail "),r()(),n(36,"div",18)(37,"button",19),g("click",function(){s(e);let t=m();return c(t.saveItem.emit(t.imageItem()))}),d(38,"Save "),r(),n(39,"button",20),g("click",function(){s(e);let t=m();return c(t.removeItem.emit(t.imageItem()))}),d(40,"Remove "),r(),n(41,"button",21),g("click",function(){s(e);let t=m();return c(t.cancelItem.emit(t.imageItem()))}),d(42,"Cancel"),r()()()()()()()}if(o&2){let e=m();l(4),tt("background-image","url("+e.imageItem().url+")"),l(3),p("src",e.imageItem().url,me)("title",e.imageItem().assetId),l(6),C("ngModel",e.imageItem().url),l(4),C("ngModel",e.imageItem().assetId),l(4),C("ngModel",e.imageItem().publicId),l(4),C("ngModel",e.imageItem().title),l(2),C("ngModel",e.imageItem().isFavorite),l(5),C("ngModel",e.imageItem().eventDate),l(2),C("ngModel",e.imageItem().isThumbnail)}}var Kt=(()=>{class o{constructor(){this.imageItem=M(new se("","")),this.saveItem=fe(),this.cancelItem=fe(),this.removeItem=fe()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey-image-item"]],inputs:{imageItem:[1,"imageItem"]},outputs:{imageItem:"imageItemChange",saveItem:"saveItem",cancelItem:"cancelItem",removeItem:"removeItem"},decls:1,vars:1,consts:[[1,"container","mx-auto","p-4","rounded-lg","shadow-md"],[1,"border-b-2","mb-4"],[1,"text-lg","font-semibold","text-primary"],[1,"bg-cover","bg-no-repeat","bg-center","p-6","rounded-lg"],[1,"backdrop-blur-3xl","flex","flex-col","md:flex-row","justify-evenly","items-center","rounded-lg","p-4","inset-0","bg-white/50"],[1,"flex","justify-center","text-center","mb-4","md:mb-0","md:w-1/3"],["alt","thumbnail",1,"rounded-lg","border-2","border-primary","h-48","w-48","object-cover",3,"src","title"],[1,"flex-1"],[1,"flex","flex-col","gap-2"],["appearance","outline",1,"w-full"],["matInput","","type","text","id","imageUrl","name","imageUrl","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","imageId","name","imageId","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","publicId","name","publicId","readonly","",1,"rounded-lg","w-full","bg-gray-200","cursor-not-allowed",3,"ngModelChange","ngModel"],["matInput","","type","text","id","title","name","title",1,"rounded-lg","w-full",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["id","favoriteFlag","name","favoriteFlag",3,"ngModelChange","ngModel"],["matInput","","type","date","id","eventDate","name","eventDate","placeholder","dd-mm-yyyy",1,"rounded-lg","w-full",3,"ngModelChange","ngModel"],["id","thumbnailFlag","name","thumbnailFlag",3,"ngModelChange","ngModel"],[1,"flex","justify-center","gap-2","rounded-lg"],["mat-flat-button","","type","button",1,"!bg-success","!text-white",3,"click"],["mat-flat-button","","type","button",1,"!bg-danger","!text-white",3,"click"],["mat-stroked-button","","type","button",3,"click"]],template:function(i,t){i&1&&f(0,Ii,43,11,"div",0),i&2&&h(t.imageItem()?0:-1)},dependencies:[J,R,ee,Y,N,Z,P,G,V,F,B,A,O,q,K,Ut],encapsulation:2,changeDetection:0})}}return o})();var Mi=["imageItemDetailDialog"],Si=(o,u)=>u.assetId;function ki(o,u){o&1&&(n(0,"div",13),d(1," Selected "),r())}function Ti(o,u){if(o&1){let e=v();n(0,"div",11),g("click",function(){let t=s(e).$implicit,a=m(2);return c(a.openImageItem(t))})("keydown.enter",function(){let t=s(e).$implicit,a=m(2);return c(a.openImageItem(t))}),j(1,"img",12),f(2,ki,2,0,"div",13),r()}if(o&2){let e=u.$implicit;de("border-success",e.isThumbnail)("border-primary",!e.isThumbnail),l(),p("title",ot(e.assetId))("src",e.url,me),l(),h(e.isThumbnail?2:-1)}}function Ji(o,u){if(o&1){let e=v();n(0,"form",3),g("ngSubmit",function(){s(e);let t=m();return c(t.save())}),n(1,"div",4),H(2,Ti,3,8,"div",5,Si),r(),n(4,"div",6)(5,"button",7),g("click",function(){s(e);let t=m();return c(t.openUploadWidget(!0))}),n(6,"mat-icon"),d(7,"drive_folder_upload"),r(),d(8," Upload Image(s) "),r(),n(9,"button",7),g("click",function(){s(e);let t=m();return c(t.openUploadWidget(!1))}),n(10,"mat-icon"),d(11,"upload_file"),r(),d(12," Upload Image "),r(),n(13,"button",8),d(14,"Next"),r(),n(15,"a",9)(16,"span",10),d(17,"Reduce Image Size"),r(),n(18,"mat-icon"),d(19,"open_in_new"),r()()()()}if(o&2){let e=m();l(2),Q(e.formImageDetails().images)}}var Xt=(()=>{class o{constructor(){this.notificationService=b(X),this.journeyService=b(W),this.journey=M.required(),this.formImageDetails=D(new Fe),this.imageItemDetail=M(new se("","")),this.imageItemDialog=at.required("imageItemDetailDialog")}ngOnInit(){this.formImageDetails.set(this.journey().imagesDetails??new Fe)}addImage(e){this.formImageDetails.update(i=>k(S({},i),{images:[...i.images,new se(e.secure_url,e.asset_id,e.public_id)]}))}getWidgetParams(e,i){return{cloudName:ie.cloudName,uploadPreset:i?ie.cloudinaryPreset:ie.cloudinarySingleImgPreset,folder:`${ie.cloudBaseDir}/${e.id}`,tags:e.tags,use_asset_folder_as_public_id_prefix:!0,context:{env:ie.stage,id:`${e.id}`},cropping:!i,showAdvancedOptions:!0,multiple:i}}onError(e,i){this.notificationService.showError(e),console.error(i)}onUpdateSuccess(e){this.notificationService.showSuccess("Image Details saved successfully."),this.journey.set(e)}save(){console.log("saving"),this.journeyService.saveJourneyImagesDetails(this.journey(),this.formImageDetails()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving images data",e)})}openUploadWidget(e=!0){cloudinary.createUploadWidget(this.getWidgetParams(this.journey(),e),(i,t)=>{!i&&t&&t.event==="success"&&this.addImage(t.info),!i&&t&&t.event==="close"&&this.save()}).open()}openImageItem(e){this.imageItemDetail.set(e),this.imageItemDialog().nativeElement.showModal()}saveImageItemDetail(e){this.formImageDetails.update(i=>k(S({},i),{images:[...i.images.map(t=>t.assetId==e.assetId?e:t)]})),this.save(),this.imageItemDialog().nativeElement.close()}deleteImageItemDetail(e){this.formImageDetails.update(i=>k(S({},i),{images:[...i.images.filter(t=>t.assetId!=e.assetId)]})),this.save(),this.imageItemDialog().nativeElement.close()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey-images-details"]],viewQuery:function(i,t){i&1&&$e(t.imageItemDialog,Mi,5),i&2&&et()},inputs:{journey:[1,"journey"],imageItemDetail:[1,"imageItemDetail"]},outputs:{journey:"journeyChange",imageItemDetail:"imageItemDetailChange"},decls:5,vars:2,consts:[["imageItemDetailDialog",""],[1,"w-full","md:w-3/4","p-4","rounded-lg","border","shadow-lg","dark:bg-black","mx-auto"],[3,"saveItem","removeItem","cancelItem","imageItem"],[3,"ngSubmit"],[1,"grid","grid-cols-3","sm:grid-cols-4","md:grid-cols-6","gap-4","mb-4"],["tabindex","-1",1,"relative","group","cursor-pointer","border","rounded-lg","overflow-hidden","transition-all","duration-300","hover:shadow-lg","focus-within:ring","focus-within:ring-offset-2",3,"border-success","border-primary"],[1,"flex","flex-col","md:flex-row","items-center","justify-center","content-center","gap-2"],["mat-fab","","extended","","type","button",3,"click"],["mat-stroked-button","","type","button","matStepperNext",""],["routerLink","/tools","target","_blank",1,"text-primary","flex","flex-row","justify-center"],[1,"hover:underline"],["tabindex","-1",1,"relative","group","cursor-pointer","border","rounded-lg","overflow-hidden","transition-all","duration-300","hover:shadow-lg","focus-within:ring","focus-within:ring-offset-2",3,"click","keydown.enter"],["loading","lazy","alt","Thumbnail",1,"h-24","w-full","object-contain",3,"src","title"],[1,"absolute","top-0","left-0","w-full","h-full","bg-black/30","flex","items-center","justify-center","text-white","font-bold","text-sm"]],template:function(i,t){if(i&1){let a=v();n(0,"main"),f(1,Ji,20,0,"form"),n(2,"dialog",1,0)(4,"app-edit-journey-image-item",2),g("saveItem",function(_){return s(a),c(t.saveImageItemDetail(_))})("removeItem",function(_){return s(a),c(t.deleteImageItemDetail(_))})("cancelItem",function(){return s(a),c(t.imageItemDialog().nativeElement.close())}),r()()()}i&2&&(l(),h(t.journey()?1:-1),l(3),p("imageItem",t.imageItemDetail()))},dependencies:[J,R,N,P,V,F,Tt,ne,G,T,st,Kt],styles:[".group[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.1)}img[_ngcontent-%COMP%]{transition:transform .3s ease}"],changeDetection:0})}}return o})();var Vi=(o,u)=>u.videoId;function ji(o,u){if(o&1){let e=v();n(0,"div",8)(1,"button",12),g("click",function(){let t=s(e).$implicit,a=m(2);return c(a.removeVideoAndSaveJourney(t))}),n(2,"mat-icon",13),d(3," do_not_disturb_on "),r()(),j(4,"img",14),r()}if(o&2){let e=u.$implicit;l(4),p("ngSrc","https://img.youtube.com/vi/"+e.videoId+"/0.jpg")("alt",e.videoId)("title",e.videoId)}}function Gi(o,u){o&1&&(n(0,"p",9),d(1," No videos available for this journey. "),r())}function Fi(o,u){if(o&1){let e=v();n(0,"form",2)(1,"div")(2,"mat-form-field",3)(3,"mat-label"),d(4,"YouTube Video ID"),r(),j(5,"input",4,0),n(7,"button",5),g("click",function(){s(e);let t=w(6);return m().addVideo(t.value),c(t.value="")}),d(8," Upload "),r()()(),n(9,"div")(10,"h3",6),d(11,"Video List"),r(),n(12,"div",7),H(13,ji,5,3,"div",8,Vi),f(15,Gi,2,0,"p",9),r()(),n(16,"div",10)(17,"button",11),d(18,"Next"),r()()()}if(o&2){let e=w(6),i=m();l(7),p("disabled",e.value===""),l(6),Q(i.formVideosDetails().videos),l(2),h(i.formVideosDetails().videos.length?-1:15)}}var $t=(()=>{class o{constructor(){this.journeyService=b(W),this.notificationService=b(X),this.journey=M.required(),this.formVideosDetails=D(new Ne)}ngOnInit(){this.formVideosDetails.set(this.journey().videosDetails??new Ne)}addVideo(e){this.formVideosDetails.update(i=>k(S({},i),{videos:[...i.videos,new jt(e)]})),this.save()}removeVideoAndSaveJourney(e){this.formVideosDetails.update(i=>k(S({},i),{videos:i.videos.filter(t=>t.videoId!==e.videoId)})),this.save()}save(){this.journeyService.saveJourneyVideosDetails(this.journey(),this.formVideosDetails()).subscribe({next:e=>this.onUpdateSuccess(e),error:e=>this.onError("Unexpected error while saving videos data",e)})}onUpdateSuccess(e){this.notificationService.showSuccess("Video Details saved successfully."),this.journey.set(e)}onError(e,i){this.notificationService.showError(e),console.error(i)}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey-videos-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},decls:2,vars:1,consts:[["videoInput",""],[1,"rounded-lg","shadow-lg"],[1,"container","mx-auto","p-6","flex","flex-col","gap-2"],["appearance","outline",1,"w-full"],["matInput","","placeholder","Enter YouTube Video ID"],["mat-flat-button","","matSuffix","","type","button",3,"click","disabled"],[1,"text-lg","font-semibold","text-gray-700","mb-4"],[1,"flex","flex-wrap","gap-4"],[1,"relative","w-48","h-48"],[1,"text-gray-500","italic"],[1,"text-center"],["mat-stroked-button","","type","button","matStepperNext",""],["mat-icon-button","","aria-label","Remove Video",1,"absolute","float-right","!z-10","!p-0",3,"click"],[1,"bg-white","rounded-full","text-red-400!","shadow-md","hover:text-red-600!","top-[-5px]","right-[-10px]"],["fill","",1,"rounded-lg","border","border-gray-300","shadow-sm","w-full","h-full","object-fill",3,"ngSrc","alt","title"]],template:function(i,t){i&1&&(n(0,"main",1),f(1,Fi,19,2,"form",2),r()),i&2&&(l(),h(t.journey()?1:-1))},dependencies:[J,R,N,P,wt,ne,B,A,O,ye,q,K,V,F,L,G,T,dt],encapsulation:2,changeDetection:0})}}return o})();function Ni(o,u){o&1&&(n(0,"mat-error"),d(1,"Please choose visibility"),r())}function Pi(o,u){o&1&&(n(0,"mat-icon",18),d(1,"check_circle"),r())}function Ri(o,u){o&1&&(n(0,"mat-icon",19),d(1,"cancel"),r())}function Li(o,u){o&1&&(n(0,"mat-icon",18),d(1,"check_circle"),r())}function Wi(o,u){o&1&&(n(0,"mat-icon",19),d(1,"cancel"),r())}function Oi(o,u){o&1&&(n(0,"mat-icon",18),d(1,"check_circle"),r())}function Ai(o,u){o&1&&(n(0,"mat-icon",19),d(1,"cancel"),r())}function Bi(o,u){o&1&&(n(0,"mat-icon",18),d(1,"check_circle"),r())}function qi(o,u){o&1&&(n(0,"mat-icon",19),d(1,"cancel"),r())}function Ui(o,u){if(o&1&&(n(0,"mat-option",24),d(1),r()),o&2){let e=u.$implicit;p("value",e.url),l(),it(" ",e.assetId," ")}}function zi(o,u){if(o&1){let e=v();n(0,"button",35),g("click",function(){s(e),m();let t=w(58);return c(t.showModal())}),d(1," Delete "),r()}}function Hi(o,u){if(o&1){let e=v();n(0,"button",36),g("click",function(){s(e),m();let t=w(1),a=m();return c(a.save(t))}),d(1," Draft "),r()}if(o&2){m();let e=w(1);p("disabled",!e.form.valid)}}function Qi(o,u){if(o&1&&(n(0,"button",37),d(1," Publish "),r()),o&2){m();let e=w(1);p("disabled",!e.form.valid)}}function Yi(o,u){if(o&1){let e=v();n(0,"form",4,0),g("ngSubmit",function(){s(e);let t=w(1),a=m();return c(a.publish(t))}),n(2,"div",5)(3,"mat-form-field",6)(4,"mat-label"),d(5,"Visibility"),r(),n(6,"mat-select",7,1),E("ngModelChange",function(t){s(e);let a=m();return x(a.journey().visibilities,t)||(a.journey().visibilities=t),c(t)}),n(8,"mat-option",8),d(9,"MYSELF"),r(),n(10,"mat-option",9),d(11,"ADMINISTRATOR"),r(),n(12,"mat-option",10),d(13,"MAINTAINER"),r(),n(14,"mat-option",11),d(15,"AUTHENTICATED_USER"),r(),n(16,"mat-option",12),d(17,"GUEST"),r()(),f(18,Ni,2,0,"mat-error"),r()(),n(19,"div",13)(20,"div",14)(21,"span",15),d(22,"Journey Preview"),r()(),n(23,"div",16)(24,"ul",3)(25,"li",17),d(26,"Basic Details "),f(27,Pi,2,0,"mat-icon",18)(28,Ri,2,0,"mat-icon",19),r(),n(29,"li",17),d(30,"Geo Details "),f(31,Li,2,0,"mat-icon",18)(32,Wi,2,0,"mat-icon",19),r(),n(33,"li",17),d(34,"Images Details "),f(35,Oi,2,0,"mat-icon",18)(36,Ai,2,0,"mat-icon",19),r(),n(37,"li",17),d(38,"Videos Details "),f(39,Bi,2,0,"mat-icon",18)(40,qi,2,0,"mat-icon",19),r()()(),n(41,"div",20)(42,"div",21)(43,"mat-form-field",22)(44,"mat-label"),d(45,"Thumbnail"),r(),n(46,"mat-select",23),E("ngModelChange",function(t){s(e);let a=m();return x(a.journey().thumbnail,t)||(a.journey().thumbnail=t),c(t)}),g("selectionChange",function(){s(e);let t=m();return c(t.onThumbnailChangedEvent())}),n(47,"mat-option",24),d(48,"Default"),r(),H(49,Ui,2,2,"mat-option",24,ue),r()()(),n(51,"div",21),j(52,"app-journey-card-view",25),r()()(),n(53,"div",26),z(54,zi,2,0,"button",27)(55,Hi,2,1,"button",28)(56,Qi,2,1,"button",29),r(),n(57,"dialog",30,2)(59,"div",31)(60,"mat-icon",32),d(61,"delete_forever"),r(),n(62,"p",33),d(63,"Are you sure you want to delete the journey?"),r(),n(64,"div",34)(65,"button",35),g("click",function(){s(e);let t=w(58);return c(t.close())}),d(66,"No, Keep it"),r(),n(67,"button",35),g("click",function(){s(e);let t=w(58),a=m();return t.close(),c(a.delete())}),d(68,"Yes, Delete forever "),r()()()()()}if(o&2){let e,i=w(7),t=m();l(6),C("ngModel",t.journey().visibilities),l(2),p("disabled",!0),l(10),h(i.hasError("required")?18:-1),l(9),h(t.isBasicDetailsAvailableAndValid()?27:28),l(4),h(t.isGeoJsonAvailable()?31:32),l(4),h(t.isImagesDetailsAvailable()?35:36),l(4),h(t.isVideosDetailsAvailable()?39:40),l(7),C("ngModel",t.journey().thumbnail),l(),p("value",t.DEFAULT_THUMBNAIL),l(2),Q((e=t.journey().imagesDetails)==null?null:e.images),l(3),p("journey",t.journey())}}var ei=(()=>{class o{constructor(){this.DEFAULT_THUMBNAIL=Jt,this.router=b(he),this.journeyService=b(W),this.notificationService=b(X),this.journey=M.required()}isBasicDetailsAvailableAndValid(){return this.journey().id!=""&&this.journey().name!=""&&this.journey().description!=""&&this.journey().journeyDate!=""&&this.journey().tags?.length>0}isGeoJsonAvailable(){return this.journey().geoDetails?.geoJson!=null}isImagesDetailsAvailable(){return this.journey().imagesDetails?.images?.length??!1}isVideosDetailsAvailable(){return this.journey().videosDetails?.videos?.length??!1}publish(e){console.debug("submitted form:",e),this.journey.update(i=>k(S({},i),{isPublished:!0})),this.journeyService.publishJourney(this.journey()).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)})}save(e){e.valid&&(this.journey.update(i=>k(S({},i),{isPublished:!1})),this.journeyService.publishJourney(this.journey()).subscribe({next:i=>this.onUpdateSuccess(i),error:i=>this.onError("Unexpected error while publishing data",i)}))}onError(e,i){this.notificationService.showError(e),console.error(i)}onUpdateSuccess(e){let i=e.isPublished?"Journey published successfully.":"Journey saved successfully";this.notificationService.showSuccess(i),this.journey.set(e)}delete(){this.journeyService.deleteJourney(this.journey()).subscribe({next:e=>this.onDeleteSuccess(),error:e=>this.onError("Unexpected error while publishing data",e)})}onDeleteSuccess(){this.notificationService.showSuccess("Journey deleted successfully"),setTimeout(()=>this.router.navigate(["journey"]),1e3)}onThumbnailChangedEvent(){this.journey.update(e=>S({},e))}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey-publish-details"]],inputs:{journey:[1,"journey"]},outputs:{journey:"journeyChange"},decls:2,vars:1,consts:[["journeyForm","ngForm"],["visibilities","ngModel"],["deleteJourneyDialog",""],[1,"flex","flex-col","gap-2"],[1,"flex","flex-col","gap-2",3,"ngSubmit"],[1,"grid","grid-cols-1","gap-4"],["appearance","outline","color","primary",1,"w-full"],["id","visibilities","name","visibilities","multiple","","required","",3,"ngModelChange","ngModel"],["value","MYSELF",3,"disabled"],["value","ADMINISTRATOR"],["value","MAINTAINER"],["value","AUTHENTICATED_USER"],["value","GUEST"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"md:col-span-2","pb-3","border-b-2"],[1,"text-lg","font-semibold","text-current"],[1,"rounded-lg","shadow-md","p-4"],[1,"flex","items-center","justify-between"],[1,"text-success!"],[1,"text-danger!"],[1,"flex","flex-col","rounded-lg","shadow-md","p-4"],[1,"mb-4"],["appearance","outline",1,"w-full"],["id","thumbnail","name","thumbnail","ngModel","",3,"ngModelChange","selectionChange","ngModel"],[3,"value"],[3,"journey"],[1,"flex","justify-center","gap-2","mt-6"],["mat-stroked-button","","type","button",3,"click",4,"appHasWriteAccess"],["mat-stroked-button","","type","button",3,"disabled","click",4,"appHasWriteAccess"],["mat-flat-button","","type","submit",3,"disabled",4,"appHasWriteAccess"],["id","deleteJourneyDialog",1,"border-0","rounded-lg","p-4","mx-auto"],[1,"text-center"],[1,"fs-3","text-danger"],[1,"text-danger","mt-2"],[1,"mt-4","flex","justify-center","gap-2"],["mat-stroked-button","","type","button",3,"click"],["mat-stroked-button","","type","button",3,"click","disabled"],["mat-flat-button","","type","submit",3,"disabled"]],template:function(i,t){i&1&&(n(0,"main"),f(1,Yi,69,10,"form",3),r()),i&2&&(l(),h(t.journey()?1:-1))},dependencies:[T,J,R,Y,N,te,Z,P,B,A,O,oe,xe,Ce,ve,Nt,Gt,Ft,F],encapsulation:2,changeDetection:0})}}return o})();function Zi(o,u){o&1&&d(0,"Memories")}function Ki(o,u){if(o&1){let e=v();n(0,"app-edit-journey-memories-details",10),E("journeyChange",function(t){s(e);let a=m(2);return x(a.journey,t)||(a.journey=t),c(t)}),r()}if(o&2){let e=m(2);C("journey",e.journey),p("mode",e.mode())}}function Xi(o,u){o&1&&d(0,"Geography")}function $i(o,u){if(o&1){let e=v();n(0,"app-edit-journey-geo-details",11),E("journeyChange",function(t){s(e);let a=m(2);return x(a.journey,t)||(a.journey=t),c(t)}),r()}if(o&2){let e=m(2);C("journey",e.journey)}}function eo(o,u){o&1&&d(0,"Images")}function to(o,u){if(o&1){let e=v();n(0,"app-edit-journey-images-details",11),E("journeyChange",function(t){s(e);let a=m(2);return x(a.journey,t)||(a.journey=t),c(t)}),r()}if(o&2){let e=m(2);C("journey",e.journey)}}function io(o,u){o&1&&d(0,"Videos")}function oo(o,u){if(o&1){let e=v();n(0,"app-edit-journey-videos-details",11),E("journeyChange",function(t){s(e);let a=m(2);return x(a.journey,t)||(a.journey=t),c(t)}),r()}if(o&2){let e=m(2);C("journey",e.journey)}}function no(o,u){o&1&&d(0,"Publish")}function ro(o,u){if(o&1){let e=v();n(0,"app-edit-journey-publish-details",11),E("journeyChange",function(t){s(e);let a=m(2);return x(a.journey,t)||(a.journey=t),c(t)}),r()}if(o&2){let e=m(2);C("journey",e.journey)}}function ao(o,u){if(o&1){let e=v();n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h4",3)(4,"span",4),d(5),r(),n(6,"button",5),g("click",function(){s(e);let t=m();return c(t.viewJourney(t.journey()))}),n(7,"mat-icon"),d(8,"visibility"),r()()()()(),n(9,"mat-stepper",6)(10,"mat-step",7),z(11,Zi,1,0,"ng-template",8)(12,Ki,1,2,"ng-template",9),r(),n(13,"mat-step"),z(14,Xi,1,0,"ng-template",8)(15,$i,1,1,"ng-template",9),r(),n(16,"mat-step"),z(17,eo,1,0,"ng-template",8)(18,to,1,1,"ng-template",9),r(),n(19,"mat-step"),z(20,io,1,0,"ng-template",8)(21,oo,1,1,"ng-template",9),r(),n(22,"mat-step"),z(23,no,1,0,"ng-template",8)(24,ro,1,1,"ng-template",9),r()()()}if(o&2){let e=m();l(5),ge(e.journey().name),l(),p("matTooltip","View Journey"),l(4),p("completed",e.journey().id)}}var Pr=(()=>{class o{constructor(){this.route=b(lt),this.journeyService=b(W),this.router=b(he),this.journey=D(new Vt),this.mode=D(re.EDIT),this.router.getCurrentNavigation()?.extras.state&&this.mode.set(this.router.getCurrentNavigation()?.extras.state?.mode??re.EDIT)}ngOnInit(){this.journeyService.getJourneyById(this.route.snapshot.params.id).subscribe(e=>this.journey.set(e))}viewJourney(e){this.router.navigate(["/journey",e.id,"view"]).then()}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=I({type:o,selectors:[["app-edit-journey"]],decls:1,vars:1,consts:[[1,"mt-3"],[1,"flex","m-2"],[1,"w-full"],[1,"flex","items-center"],[1,"text-primary","mr-2"],["mat-icon-button","",1,"border","border-primary","rounded-sm","hover:bg-primary","hover:text-white",3,"click","matTooltip"],["orientation","horizontal",1,"journey-edit-stepper"],[3,"completed"],["matStepLabel",""],["matStepContent",""],[3,"journeyChange","journey","mode"],[3,"journeyChange","journey"]],template:function(i,t){i&1&&f(0,ao,25,3,"section",0),i&2&&h(t.journey()?0:-1)},dependencies:[Wt,Lt,Zt,Xt,Pt,Rt,$t,ei,be,At,V,L,G,T],encapsulation:2,changeDetection:0})}}return o})();export{Pr as EditJourneyComponent};
