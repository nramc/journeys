"use strict";(self.webpackChunkjourney=self.webpackChunkjourney||[]).push([[566],{9566:(P,d,i)=>{i.r(d),i.d(d,{GalleryComponent:()=>R});var p=i(1030),g=i(4412),u=i(7786),m=i(9172),h=i(5558),f=i(9437),E=i(7673),b=i(6354),y=i(4016),l=i(177),_=i(100),c=i(6911),t=i(4438),D=i(7404),v=i(8498);const j=()=>[1,5,10,20,25];function F(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.sortingFieldChangedEvent.next(n))}),t.EFF(1),t.nI1(2,"titlecase"),t.k0s()}if(2&o){const e=s.$implicit;t.R7$(),t.SpI("",t.bMT(2,1,e)," ")}}function C(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",14),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.sortingDirectionChangedEvent.next(n))}),t.EFF(1),t.nI1(2,"uppercase"),t.k0s()}if(2&o){const e=s.$implicit;t.R7$(),t.SpI("",t.bMT(2,1,e)," ")}}function M(o,s){if(1&o&&(t.j41(0,"span",27),t.EFF(1),t.k0s()),2&o){const e=s.$implicit;t.R7$(),t.JRh(e)}}function O(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",15)(1,"div",16),t.nrm(2,"img",17),t.j41(3,"div",18)(4,"h5",19),t.EFF(5),t.k0s(),t.j41(6,"p",20),t.EFF(7),t.k0s(),t.j41(8,"p",20),t.DNE(9,M,2,1,"span",21),t.k0s(),t.j41(10,"div",22)(11,"div",23)(12,"p",24)(13,"small"),t.EFF(14),t.nI1(15,"date"),t.k0s()(),t.j41(16,"p",24)(17,"small"),t.EFF(18),t.k0s()(),t.j41(19,"p",24)(20,"small"),t.EFF(21),t.k0s()(),t.j41(22,"p",24)(23,"small"),t.EFF(24),t.k0s()()(),t.j41(25,"small")(26,"button",25),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.viewDetails(n))}),t.EFF(27,"View"),t.k0s(),t.j41(28,"button",26),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.editDetails(n))}),t.EFF(29,"Edit "),t.k0s()()()()()()}if(2&o){const e=s.$implicit;t.R7$(2),t.Y8G("src",e.thumbnail,t.B4B)("alt",e.thumbnail),t.R7$(3),t.JRh(e.name),t.R7$(2),t.JRh(e.title),t.R7$(2),t.Y8G("ngForOf",e.tags),t.R7$(5),t.JRh(t.i5U(15,9,e.journeyDate,"dd.MM.YYYY")),t.R7$(4),t.JRh(e.city),t.R7$(3),t.JRh(e.country),t.R7$(3),t.JRh(e.category)}}let R=(()=>{class o{constructor(e,r){this.journeyService=e,this.router=r,this.GALLERY_PAGE_INFO=p.cG,this.sortableFields=["journeyDate","name","title","city","country","category","location"],this.sortingFieldChangedEvent=new g.t("journeyDate"),this.SortedField="journeyDate",this.sortableDirections=["asc","desc"],this.sortingDirectionChangedEvent=new g.t("desc"),this.isLoadingResults=!1,this.defaultPageSize=10,this.totalElements=0,this.data=[]}ngAfterViewInit(){(0,u.h)(this.paginator.page,this.sortingFieldChangedEvent,this.sortingDirectionChangedEvent).pipe((0,m.Z)(),(0,h.n)(()=>(this.isLoadingResults=!0,this.journeyService.findJourneyByQuery("",this.sortingFieldChangedEvent.getValue(),this.sortingDirectionChangedEvent.getValue(),this.paginator.pageIndex,this.paginator.pageSize,!0).pipe((0,f.W)(()=>(0,E.of)(null))))),(0,b.T)(e=>(this.isLoadingResults=!1,e))).subscribe(e=>this.onSuccess(e))}onSuccess(e){this.totalElements=e?.totalElements??0,this.data=e?.content??[]}ngOnInit(){this.journeyService.findJourneyByQuery("","journeyDate","desc",0,this.defaultPageSize,!0).subscribe(e=>this.onSuccess(e))}viewDetails(e){this.router.navigate(["/journey",e.id,"view"]).then()}editDetails(e){this.router.navigate(["/journey",e.id,"edit"]).then()}static#t=this.\u0275fac=function(r){return new(r||o)(t.rXU(D.K),t.rXU(v.Ix))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-gallery"]],viewQuery:function(r,n){if(1&r&&t.GBs(_.iy,5),2&r){let a;t.mGM(a=t.lsd())&&(n.paginator=a.first)}},standalone:!0,features:[t.aNF],decls:21,vars:13,consts:[[3,"pageInfo"],[1,"row"],[1,"col-12","col-md-8","mb-md-3","me-0","pe-0"],["aria-label","Select page","color","primary",1,"paginator","me-0",3,"length","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"col-12","col-md-4","sorting","mb-3","me-0"],["ngbDropdown","",1,"d-inline-block","me-1"],["type","button","id","dropdownSortingField","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm"],["ngbDropdownMenu","","aria-labelledby","dropdownSortingField"],["ngbDropdownItem",""],["ngbDropdown","",1,"d-inline-block"],["type","button","id","dropdownSortingDirection","ngbDropdownToggle","",1,"btn","btn-outline-primary","btn-sm"],["ngbDropdownMenu","","aria-labelledby","dropdownSortingDirection"],[1,"card-group","justify-content-center","align-items-center"],["class","m-0",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click"],[1,"m-0"],[1,"card","bg-dark","text-bg-dark","text-white"],[1,"card-img",3,"src","alt"],[1,"card-img-overlay","d-flex","flex-column","align-self-stretch","card-text-wrapper"],[1,"card-title"],[1,"card-text"],["class","badge bg-dark bg-opacity-25 border-dark rounded-pill border me-1",4,"ngFor","ngForOf"],[1,"d-inline-flex","footer-wrapper","mt-auto","flex-nowrap","flex-row","justify-content-between"],[1,"d-inline-flex","gap-1"],[1,"small","border","border-light","border-1","rounded-2","ps-1","pe-1","border-opacity-50"],["type","button",1,"btn","btn-outline-success","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-success","btn-sm","ms-1",3,"click"],[1,"badge","bg-dark","bg-opacity-25","border-dark","rounded-pill","border","me-1"]],template:function(r,n){1&r&&(t.nrm(0,"app-page-header",0),t.j41(1,"div",1)(2,"div",2),t.nrm(3,"mat-paginator",3),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"button",6),t.EFF(7),t.nI1(8,"titlecase"),t.k0s(),t.j41(9,"div",7),t.Z7z(10,F,3,3,"button",8,t.fX1),t.k0s()(),t.j41(12,"div",9)(13,"button",10),t.EFF(14),t.nI1(15,"uppercase"),t.k0s(),t.j41(16,"div",11),t.Z7z(17,C,3,3,"button",8,t.fX1),t.k0s()()()(),t.j41(19,"div",12),t.DNE(20,O,30,12,"div",13),t.k0s()),2&r&&(t.Y8G("pageInfo",n.GALLERY_PAGE_INFO),t.R7$(3),t.Y8G("length",n.totalElements)("pageSize",n.defaultPageSize)("pageSizeOptions",t.lJ4(12,j))("showFirstLastButtons",!0),t.R7$(4),t.SpI(" ",t.bMT(8,8,n.sortingFieldChangedEvent.getValue())," "),t.R7$(3),t.Dyx(n.sortableFields),t.R7$(4),t.SpI(" ",t.bMT(15,10,n.sortingDirectionChangedEvent.getValue())," "),t.R7$(3),t.Dyx(n.sortableDirections),t.R7$(3),t.Y8G("ngForOf",n.data))},dependencies:[y.y,l.Sq,_.iy,l.vh,c.tg,c._H,c.U0,l.PV,c.do,l.Pc],styles:[".sorting[_ngcontent-%COMP%]{background:#f8f9fa;background:linear-gradient(90deg,#4246d7a6 1%,#f8f9fa1a 80%);font-weight:400;font-size:.9em!important;vertical-align:center;text-align:center;align-items:center;justify-content:center!important;display:flex;color:#000}.paginator[_ngcontent-%COMP%]{background:#f8f9fa;background:linear-gradient(90deg,#f8f9fa80 1%,#4246d7a6 45%);font-weight:400;font-size:.9em!important;vertical-align:center;text-align:center;align-items:center;justify-content:center!important;display:flex;color:#000}.mat-mdc-select[_ngcontent-%COMP%]{color:#f5f5f5!important}.card[_ngcontent-%COMP%]{width:30rem;height:15rem;margin:0 .5rem .5rem 0!important}.card-img[_ngcontent-%COMP%]{opacity:75%;width:100%;height:100%}.card-text-wrapper[_ngcontent-%COMP%]{background:#0003}@media (max-width: 575.98px){.card[_ngcontent-%COMP%]{width:100%;height:15rem;margin:0 0 .5rem!important}.sorting[_ngcontent-%COMP%]{background:#f8f9fa;background:linear-gradient(90deg,#f8f9fa80 1%,#4246d7a6 45%)}}"]})}return o})()}}]);