import{a as R,b as M}from"./chunk-QM2HO2TO.js";import"./chunk-JEWDJC22.js";import{a as O}from"./chunk-VXFKOE2P.js";import{a as N}from"./chunk-JYNPUKUN.js";import{a as F}from"./chunk-MYEHYWQI.js";import"./chunk-RGNDWIHZ.js";import"./chunk-LHFKDAYA.js";import{e as T,h as V}from"./chunk-K7HVF7SP.js";import{a as u,c as k}from"./chunk-5DXZ7UWG.js";import{c as w}from"./chunk-ARLEKDS5.js";import{r as D,w as H}from"./chunk-42OPBNH4.js";import{B as x,Bc as A,Cc as j,Lb as d,Nb as l,Qa as C,W as g,Wb as n,Xb as o,Yb as p,hc as v,oa as y,pc as r,qb as m,qc as _,rb as f,rc as h,ta as I,ua as b,wc as E,ya as S}from"./chunk-TO7D4NWA.js";var G=(()=>{let e=class e{constructor(i){this.httpClient=i}getVersion(){return this.httpClient.get(u.journeyApi+"/version")}};e.\u0275fac=function(s){return new(s||e)(I(w))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function B(t,e){if(t&1&&(n(0,"div",9)(1,"p"),r(2,"Welcome "),n(3,"strong",10),r(4),o(),r(5,"..!,"),o(),n(6,"p",11),r(7,"Never lose track of a travel memory again. "),n(8,"a",12),r(9," Create Journey to store your trips, photos, and stories - forever! "),p(10,"i",13),o()(),n(11,"p",14),r(12," Don't miss out! Relive the magic - See Upcoming "),n(13,"a",15),r(14,"Journiversaries (Journey + Anniversaries) "),p(15,"i",13),o()()()),t&2){let c=v().ngIf;m(4),_(c.name)}}function J(t,e){if(t&1&&(n(0,"section",6)(1,"div",7),d(2,B,16,1,"div",8),o()()),t&2){let c=e.ngIf;m(2),l("ngIf",c.isAuthenticated)}}function K(t,e){if(t&1&&(n(0,"section",6)(1,"div",7)(2,"div",16),p(3,"app-timeline",17),o()()()),t&2){let c=v();m(3),l("data",c.timelineData)}}function W(t,e){t&1&&(n(0,"div",7)(1,"div",18)(2,"div",19)(3,"span",20),r(4,"Loading..."),o()(),n(5,"p",21),r(6,"Warming up the chrono-engine! (Backend server too!)"),o(),n(7,"p",22),r(8," It'll be ready for temporal displacement in a minute or two. "),p(9,"i",23)(10,"br"),r(11," In the meantime, why not explore the space-time continuum of our other pages? "),p(12,"i",24),o()()())}var le=(()=>{let e=class e{constructor(i,s,a,L){this.authService=i,this.bffService=s,this.activatedRoute=a,this.timelineService=L,this.HOME_PAGE_INFO=F,this.appVersion=u.version,this.bffApiVersion="CHECKING",this.destroyRef=b(C)}ngOnInit(){this.activatedRoute.params.pipe(g(i=>this.bffService.getVersion())).subscribe({next:i=>this.bffApiVersion="v"+i.version,error:i=>{console.error(i),this.bffApiVersion="NOT_AVAILABLE"}}),this.authService.getUserContext().pipe(O(this.destroyRef),x(i=>this.timelineService.getTimelineForToday())).subscribe({next:i=>this.timelineData=i,error:i=>console.error(i)})}};e.\u0275fac=function(s){return new(s||e)(f(k),f(G),f(T),f(M))},e.\u0275cmp=S({type:e,selectors:[["app-home"]],standalone:!0,features:[E],decls:13,vars:8,consts:[[3,"pageInfo"],["class","container",4,"ngIf"],[1,"container","footer-section"],["class","row",4,"ngIf"],[1,"fixed-bottom","m-auto","text-primary","text-center","align-items-center","justify-content-center","align-content-center"],[1,"text-light-emphasis","ms-2","small"],[1,"container"],[1,"row"],["class","col-12 text-primary",4,"ngIf"],[1,"col-12","text-primary"],[1,"gradient-text"],[1,"small"],["routerLink","/journey/new","role","link",1,""],[1,"bi","bi-arrow-right-circle-fill"],[1,"text-primary","small"],["routerLink","/timeline","role","link",1,""],[1,"col-12","d-flex","flex-column","justify-content-start"],[3,"data"],[1,"col-12","text-center","m-1"],[1,"spinner-border","text-primary"],[1,"visually-hidden","text-primary"],[1,"text-primary"],[1,"text-primary","small","opacity-75"],[1,"fs-5","fw-bolder","bi","bi-emoji-grin","pe-none","text-primary"],[1,"fs-5","fw-bolder","bi","bi-emoji-sunglasses","pe-none","text-primary"]],template:function(s,a){s&1&&(p(0,"app-page-header",0),d(1,J,3,1,"section",1),A(2,"async"),d(3,K,4,1,"section",1),n(4,"section",2),d(5,W,13,0,"div",3),n(6,"footer",4)(7,"span",5)(8,"small"),r(9),o()(),n(10,"span",5)(11,"small"),r(12),o()()()()),s&2&&(l("pageInfo",a.HOME_PAGE_INFO),m(),l("ngIf",j(2,6,a.authService.getUserContext())),m(2),l("ngIf",a.timelineData&&(a.timelineData==null||a.timelineData.images==null?null:a.timelineData.images.length)),m(2),l("ngIf",a.bffApiVersion=="CHECKING"),m(4),h("GUI : v",a.appVersion,""),m(3),h("BFF : ",a.bffApiVersion,""))},dependencies:[N,H,D,R,V]});let t=e;return t})();export{le as HomeComponent};
